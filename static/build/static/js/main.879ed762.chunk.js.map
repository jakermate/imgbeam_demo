{"version":3,"sources":["components/parseViews.js","state/store/actions/index.js","components/pages/gallery_page/ImageFocus.js","imgbeam_text_white.png","components/Searchbar.jsx","components/Badge.jsx","components/ThemeToggle.jsx","theme/colors.js","imgbeam_btc_address.png","components/SignInButton.jsx","components/Sidebar.jsx","components/navbar/accountmenu/AccountMenu.jsx","components/navbar/DropDownMenu.jsx","components/navbar/avatar.png","components/navbar/Avatar.jsx","components/navbar/AppMenu.jsx","components/SignUpButton.jsx","icon_full_res.png","components/Tooltip.jsx","components/navbar/Navbar.jsx","components/SignInPlaceholder.jsx","components/pages/following_page/FollowingPage.jsx","components/pages/gallery_page/404Gorilla_alt.svg","components/pages/gallery_page/ImageContainer.jsx","components/pages/gallery_page/VideoContainer.jsx","components/pages/gallery_page/Tags.jsx","triangle_icon.png","components/pages/gallery_page/Comment.jsx","components/pages/gallery_page/MobileCommentReply.jsx","components/pages/gallery_page/Comments.jsx","components/SocialLink.jsx","components/pages/gallery_page/ShareComponent.jsx","components/UnfollowAlert.jsx","components/pages/gallery_page/ReportOverlay.jsx","components/pages/gallery_page/GalleryPage.jsx","components/pages/user_page/avatar.png","components/pages/user_page/user_bg.jpg","components/pages/home_page/Tile.jsx","components/pages/home_page/Brick.jsx","components/SuperGrid.jsx","components/pages/user_page/PostsComponent.jsx","components/pages/user_page/CommentsComponent.jsx","components/pages/user_page/FollowingList.jsx","components/pages/user_page/AboutView.jsx","default_background.jpg","components/pages/user_page/BackdropSelect.jsx","components/pages/user_page/AvatarSelect.jsx","components/pages/user_page/UserPage.jsx","components/pages/gallery_edit/ImageMenu.jsx","components/pages/gallery_edit/ImageContainer.jsx","components/pages/gallery_page/ArrangementView.jsx","components/pages/gallery_edit/GalleryEdit.jsx","components/pages/leaderboard_page/LeaderBoardPage.jsx","components/upload_component/UploadComponent.js","components/CancelOverlay.jsx","components/NewPostOverlay.js","components/pages/account_page/Settings.jsx","components/pages/history_page/HistoryView.jsx","components/pages/account_page/EmailPassword.jsx","components/pages/account_page/AvatarSelect.jsx","components/pages/account_page/DeactivateComponent.jsx","components/pages/account_page/AccountPage.jsx","components/ActionButton.jsx","components/pages/results_page/ResultsPage.jsx","components/pages/tag_page/TagResults.jsx","components/pages/users_page/UserResults.jsx","components/pages/notification_view/NotificationView.jsx","components/pages/home_page/SortMenu.jsx","components/pages/home_page/HomePage.jsx","components/pages/uploads_page/UploadsView.jsx","components/pages/favorites_page/FavoritesView.jsx","components/PageRouter.jsx","imgbeam_logo.svg","bg_1.jpg","components/login_overlay/LoginOverlay.jsx","components/SettingsView.jsx","components/new_post/NewPostView.jsx","spaceship.png","components/SignUpOverlay.jsx","components/pages/donate_page/DonateView.jsx","components/TransferIndicator.jsx","components/TransferToast.jsx","components/CompletedJobs.jsx","App.js","state/store/reducers/account_reducer.js","state/store/reducers/app_state_reducer.js","state/store/reducers/transfer_reducer.js","state/store/reducers/index.js","transfer/index.js","state/store/store.js","serviceWorker.js","index.js","theme/theme.js"],"names":["module","exports","number","toString","slice","toggleCreatePanel","payload","type","toggleSidebar","signIn","signOut","setFiles","addFile","clearFileFromState","toggleFocusView","toggleTheme","toggleSignUpOverlay","setSearch","setDescription","prepend","process","MODE","enter","keyframes","Root","styled","div","props","theme","text","background_1","LinkButton","a","background_3","Content","mapDispatchToProps","connect","state","focusPath","app_state_reducer","focusGallery","close","e","keyCode","console","log","useEffect","document","addEventListener","body","classList","add","remove","removeEventListener","className","style","zIndex","id","onClick","opacity","cursor","maxHeight","src","alt","objectFit","maxWidth","href","title","preventDefault","url","node","createElement","appendChild","value","select","execCommand","toast","position","removeChild","copyLink","download","Item","ItemView","user","width","height","borderRadius","avatar","username","icon","string","textFaded","DropdownTitle","fontSize","fontWeight","DropDown","border","SearchBarElement","SearchButton","button","SearchInput","input","search","searchRegex","history","useHistory","useState","searchValue","setSearchValue","focused","setFocused","submitSearch","searchString","charAt","push","replace","unfocusSearch","throttleSearch","throttle","sanitizeSuggestionSearch","fetch","res","json","status","setResults","length","toggleBox","results","box","getElementById","blur","focus","tabIndex","name","autoComplete","placeholder","onKeyDown","handleEnter","onChange","test","handleSearchValueChange","target","onFocus","onBlur","galleries","tags","users","map","gallery","index","onClickCapture","to","gallery_id","key","avatar_lq","tag","onSubmit","Badge","View","background","CheckBox","label","theme_string","theme_dark","htmlFor","checked","success","error","secondary","warning","backgroundDark","backgroundMedium","backgroundThird","backgroundMediumLight","backgroundMediumDark","backgroundLight","backgroundLightest","SignInButton","backgroundColor","colors","color","Section","children","Li","link","minHeight","ItemContent","active","minWidth","Icon","LiHref","i","icons","Hr","HrEl","hr","LogIn","DropHere","ignore","stopPropagation","window","dragoverThrottle","onDrop","dataTransfer","items","kind","includes","isDropValid","newFile","reader","FileReader","onload","typeString","returnType","result","readAsDataURL","addFileToState","files","DropRoot","onDragOver","BorderBox","Footer","SignInBox","SideBarElement","sidebar","background_2","createPanel","signedIn","location","useLocation","marginTop","pathname","Panel","AccountInfo","overflow","account","email","ThemeSelect","action","toggleThemeMenu","SectionEl","text_light","ItemEl","li","icons_2","AccountMenuEl","account_reducer","themeMenu","toggleAccountMenu","DropDownMenu","Avatar","AvatarEl","old","backgroundImage","defaultAvatar","backgroundSize","backgroundPosition","transition","AppMenu","top","right","toggleAppMenu","SignUpButton","redirect","Tooltip","ToolTip","bottom","whiteSpace","LoginSignin","AccountBar","accountMenu","OptionButton","disabled","notifications","OptionButtonRoot","onMouseEnter","currentTarget","querySelector","showToolTip","onMouseLeave","hideToolTip","tertiary","NavbarEl","BrandButton","press","checkedIn","dropDown","dropdownKeys","brandLink","srcset","imgbeam","filter","appMenu","SignInPlaceholder","Placeholder","header","subheader","FollowingPage","ImageContainerEl","DescriptionContainer","shown","setFocusPath","onError","fallbackImageAlt","image","description","VideoContainer","VideoWrapper","controls","muted","autoPlay","loop","Tags","getTags","setTags","indx","Tag","stc","Comment","replying","toggleReplying","replyString","setReplyString","cancelReply","replyRequest","answer","innerWidth","setReplyActive","commentObj","setActiveComment","replyMethod","getLike","liked","setLiked","reply_id","comment_id","reply_message","JSON","stringify","comment","mode","credentials","method","headers","refresh","CommentWrapper","moment","comment_date","fromNow","Object","keys","replies","replyIndex","reply","owner","HorizontalBar","UsernameDisplay","likes","deleteComment","CommentEl","message","unlike","like","ReplyContainer","MobileCommentReply","Container","Popup","SortMenu","toggleMenu","sorts","sortString","sortBy","setSortBy","comments","setComments","count","setCount","replyActive","toggleReplyActive","activeComment","setNewActiveComment","bool","getComments","newComment","setNewComment","resetCommentForm","sortMenu","toggleSortMenu","sorted","setSorted","values","sort","b","Date","sortNew","sortOld","score","sortTop","Form","submitComment","InputArea","changeNewComment","rows","Submit","form","textarea","SocialLink","ShareComponent","ShareView","toggleShare","open","UnfollowAlert","Alert","cancel","unfollow","fadein","ReportOverlay","reason","setReason","borderTopLeftRadius","borderTopRightRadius","Select","defaultValue","cols","sendReport","navbar_height","GalleryControls","padding","ControlButton","scrollIntoView","data","comment_count","ControlButtonElement","hoverColor","aria-label","GalleryPageElement","FollowButton","followed","Interaction","background_4","InteractionNegative","signUpOverlay","setError","setData","recieved","setRecieved","setUser","report","favorites","setFavorites","share","setCookie","cookie","set","match","params","expires","recent","get","recentStringArray","parse","difference","shift","fetchData","receiveData","getUser","getFavorites","json_data","checkIfFavorited","getVote","voted","setVoted","voteType","setVoteType","deleteVote","showOverlay","setShowOverlay","focusImage","following","setFollowing","unfollowAlert","toggleUnfollowAlert","follow","getFollowing","favorited","setFavorited","hideProgressBar","autoClose","Helmet","charset","content","images","path","itemprop","paddingTop","closeFocus","boxShadow","views","favorite","upvote","upvotes","downvotes","downvote","media_type","date_created","imgObj","comments_enabled","size","Brick","useInView","threshold","ref","inView","entry","BrickStyle","onDragStart","setDragged","draggable","path_lq","singleton","preload","parentElement","favoriteMode","FavoritesOverlay","display","class","FavoriteControls","TopButtonContainer","TopButton","setTop","throttler","resizeHandler","scrollHandler","scrollY","getColumns","columns","setColumns","newColumns","parseInt","toFixed","grid","setGrid","placeTiles","Array","forEach","aspect","isNaN","heights","columnArray","h","tileObject","getColumnHeight","shortest","col","float","marginLeft","favoritesMode","usernames","avatars","tile","scrollTo","PostsComponent","getPosts","posts","setPosts","from","CommentsComponent","endReached","setEndReached","loading","setLoading","checkEndReached","gallery_title","gallery_username","gallery_date_created","urlString","copy","FollowingList","AboutView","flex","member_since","format","BackdropSelect","file","setFile","setURL","processing","setProcessing","FormData","append","pulldata","backdrop","backdrop_default","borderBottomLeftRadius","borderBottomRightRadius","setBackdropFile","sendBackdrop","AvatarSelect","formdata","avatar_default","setAvatarFile","Confirm","updateAvatar","UserPage","backdropMenu","toggleBackdropMenu","avatarMenu","toggleAvatarMenu","total_points","received","setReceived","userAPI","alert","bear","UserPageElement","Banner","defaultbg","BorderContainer","avatarDefault","followers","Nav","NavButton","exact","render","ImageMenu","useRef","handleClick","current","parentNode","Menu","deleteImage","image_id","image_name","ImageContainer","menu","inputRef","newDescription","setNewDescription","editing","toggleEditing","doneEditing","changeDescription","updatedDescription","updateGallery","Input","on_enter_key","Tile","activeForDrop","cover","arrangement","setArrangement","dragPosition","setDragPosition","element","setElement","drop","target_position","newArrangement","splice","moveTo","Accept","refreshData","toggle","imageObj","dragging","file_name","dragStart","onDragEnd","dragEnd","updateArrangement","GalleryEdit","setGallery","getLikes","newTagActive","setNewtagActive","newTag","setNewTag","tagString","setLikes","confirm","request_image_delete","addImage","editTitle","setEditTitle","newTitle","setNewTitle","updateTitle","changeTitle","updatedTitle","arranging","toggleArranging","MetaInfo","TitleEdit","title_pressed_enter","TitleClick","deleteTag","AddTag","TagInput","onBlurTag","tag_press_enter","PrimaryActionButton","Button","click","h1","LeaderBoardPage","UploadComponent","uploading","setUploading","fileURLs","setFileURLs","setTitle","createPost","dismiss","clearWaitingQueue","cancelUpload","UploadComponentDiv","TitleInput","autoFocus","maxLength","UploadButton","newFiles","fileReader","newFileUrls","on_select","accept","SubmitButton","fileURL","FileTile","oldFiles","oldFileURLs","bytes","byteString","ext","readableBytes","limit","CancelOverlay","toggleOverlayOff","goback","NewPostOverlay","checkIfLoggedIn","cancelOverlay","toggleCancelOverlay","goBack","Bottom","rel","Row","Header","Subheader","HistoryView","setHistory","fetchGalleries","HistoryItem","PermissionsPanel","ListItem","EmailPassword","toggleAvatarSelect","Modal","InputButton","setAvatar","SaveButton","DeactivateComponent","AccountPage","getAccount","setAccount","avatarSelect","esact","ActionButton","disable","SearchBar","SearchBarView","updateSearchString","setSearchString","searching","setSearching","timeLog","sortOrder","setSortOrder","toUpperCase","TagResults","setGalleries","getGalleries","looking","setLooking","tagstring","UserResults","setUsers","userString","userstring","getUsers","userObject","rank","points","NotificationView","setNotifications","comment_notification_id","getNotifications","clearAllNotifications","notificationObject","clearNotification","options","option","HomePage","activeMode","scrollHandler2","pageheight","scrollHeight","windowheight","innerHeight","windowPosition","setScrollPosition","gettingMoreGalleries","noMoreRef","getMore","mounted","setMounted","noMore","setNoMore","trendingRef","setGettingMoreGalleries","newGalleries","newGallery","isNew","oldGallery","Home","SortButton","modes","SortButtonView","NewPost","NewButton","getUploads","insert","FavoritesView","folders","setFolders","setActive","getFolders","getFolder","dropFolder","setDropFolder","dragged","Folders","moveToFolder","split","folder","folder_id","indexOf","Folder","folderObject","AddFolder","setNameString","nameString","FolderHolder","onDragLeave","onDragEnter","draggingOver","FolderElement","interceptEnter","validateName","renameFolder","AddFolderEl","createFolder","RouterStyle","createMenu","globalGrid","setGlobalGrid","setGlobalGalleries","galleriesFromHomePage","scrollPosition","routerProps","globalGalleries","component","user_page","gallery_edit","leaderboard_page","now","LoginOverlay","handleScroll","pointerEvents","bg1","logo","InputStyle","LoginButton","intro","SettingsView","Settings","SettingsSidebar","SettingsContent","paddingLeft","paddingBottom","SidebarItem","Sidebar","FileZone","deleteFile","removeFile","filesToDo","FileView","DropZone","checkFile","occupied","DeleteButton","BrowseLabel","Summary","MoreImages","NewMediaButton","MediaButton","HelmetEl","SummaryView","reduce","total","fileSize","DeleteButtonView","InfoZone","InfoView","InputSection","InputWrap","title_value","addTag","removeTag","setTagString","TagSuggestion","tagLink","DescriptionInput","InputView","background_colored_2","FixedFooter","FooterView","FooterControl","CancelButton","PostButton","startUpload","valid","footer","resetTransferState","transfer_reducer","setValid","counter","setCounter","marginBottom","tags_array","new_tags","background_colored","spaceship","DonateView","qr","currentFile","filesComplete","transitionDelay","transferring","ToastElement","CompleteJob","JobRoot","clearJob","job","ButtonView","completedJobs","jobObj","AppElement","setCheckedIn","focusView","loginOverlay","toggleLoginOverlay","ok","checkLoggedIn","themeObject","scroll","initialState","follows","navbar","returnFileFromId","file_id","array","file_id_array","file_object","returnArrayWithFileRemoved","id_of_failure","getIndex","decrement_file_attempts","attempts","processFile","uuid","combineReducers","new_notification_array","localStorage","setItem","complete_job","filesUploaded","completed_jobs_array","index_of_failure","updated_array","newFilesToDo","processed_file","files_array_for_removal","array_with_removed","id_to_clear","new_file_array","deleted","array_to_return","UploadManager","this","store","watcher","watch","getState","subscribe","newVal","oldVal","objectPath","startJob","cancelJob","Job","start","createNewPost","goToNextStep","getNextFile","dispatch","last_file_id","addMedia","onComplete","createStore","mainReducer","Manager","Boolean","hostname","themeString","getItem","setWatcher","ReactDOM","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","gradient_1","background_5","animation_curve","theme_light"],"mappings":"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","file":"static/js/main.879ed762.chunk.js","sourcesContent":["module.exports = function parseViews(number) {\n    if (number > 1000000) {\n      number = number.toString()\n      number = number.slice(0, -6)\n      number += \"m\"\n    } else if (number > 1000) {\n      number = number.toString()\n      number = number.slice(0, -3)\n      number += \"k\"\n    }\n    return number\n  }\n\n\n","export function toggleCreatePanel(payload) {\n  return { type: \"TOGGLE_CREATE\", payload }\n}\nexport function toggleSidebar(payload) {\n  return { type: \"TOGGLE_SIDEBAR\", payload }\n}\nexport function signIn(payload) {\n  return { type: \"SIGN_IN\", payload }\n}\nexport function signOut(payload) {\n  return { type: \"SIGN_OUT\", payload }\n}\nexport function setAccount(payload){\n    return {type: \"SET_ACCOUNT\", payload}\n}\nexport function startUpload(payload){\n  return {type: \"START_UPLOAD\", payload}\n}\nexport function completeUpload(payload){\n  return {type: \"COMPLETE_UPLOAD\", payload}\n}\nexport function cancelUpload(payload){\n  return {type: \"CANCEL_UPLOAD\", payload}\n}\nexport function setFiles(payload){\n  return {type: \"SET_FILES\", payload}\n}\nexport function addFile(payload){\n  return {type: \"ADD_FILE\", payload}\n}\nexport function removeFile(payload){\n  return {type: \"REMOVE_FILE\", payload}\n}\nexport function setCheckedIn(payload){\n  return {type: \"SET_CHECKED_IN\", payload}\n}\nexport function resetTransferState(payload){\n  return {type: \"RESET_TRANSFER_STATE\", payload}\n  \n}\nexport function setTags(payload){\n  return {type: \"SET_TAGS\", payload}\n}\nexport function toggleNavbar(payload){\n  return {type: \"TOGGLE_NAVBAR\", payload}\n}\nexport function clearFileFromState(payload){\n  return {type: \"CLEAR_FILE\", payload}\n}\nexport function fileFailure(payload){\n  return {type: \"FILE_FAILURE\", payload}\n}\nexport function toggleFocusView(payload){\n  return {type: \"TOGGLE_FOCUS_VIEW\", payload}\n}\nexport function setFocusPath(payload){\n  return {type: \"SET_FOCUS_PATH\", payload}\n}\nexport function toggleTheme(payload){\n  return {type: \"TOGGLE_THEME\", payload}\n}\nexport function clearJob(payload){\n  return {type: \"CLEAR_JOB\", payload}\n}\nexport function clearAllNotifications(payload){\n  return {type: \"CLEAR_ALL_NOTIFICATIONS\", payload}\n}\nexport function clearNotification(payload){\n  return {type: \"CLEAR_NOTIFICATION\", payload}\n}\nexport function setNotifications(payload){\n  return {type: \"SET_NOTIFICATIONS\", payload}\n}\nexport function setTitle(payload){\n  return {type: \"SET_TITLE\", payload}\n}\nexport function toggleSignUpOverlay(payload){\n  return {type: \"TOGGLE_SIGN_UP_OVERLAY\", payload}\n}\nexport function setSearch(payload){\n  return {type: \"SET_SEARCH\", payload}\n}\nexport function setDescription(payload){\n  return {type: \"SET_DESCRIPTION\", payload}\n}","import React, { useEffect } from \"react\"\nimport { toast } from \"react-toastify\"\nimport styled, {keyframes} from \"styled-components\"\nimport {toggleFocusView} from '../../../state/store/actions/index'\nimport {connect} from 'react-redux'\n\nlet prepend = process.env.MODE == \"production\" ? \"\" : \"http://localhost:8888\"\nfunction ImageFocus(props) {\n  console.log(props)\n  useEffect(() => {\n    document.addEventListener(\"keydown\", close)\n    document.body.classList.add(\"noscroll\")\n   \n    return () => {\n      document.body.classList.remove(\"noscroll\")\n      document.removeEventListener(\"keydown\", close)\n    }\n  }, [])\n  function close(e) {\n    if (e.keyCode === 27) {\n      props.toggleFocusView()\n    }\n  }\n  function copyLink(e) {\n    e.preventDefault()\n    let url = props.focusPath\n    let node = document.createElement(\"input\")\n    document.body.appendChild(node)\n    node.value = url\n    node.select()\n    document.execCommand(\"copy\")\n    toast(\"Link copied to clipboard.\", {\n      position: \"bottom-right\",\n    })\n    document.body.removeChild(node)\n  }\n  return (\n    <Root\n      className=\"fixed top-0 left-0 right-0 bottom-0\"\n      style={{\n        zIndex: 2000,\n      }}\n    >\n      <div\n        id=\"overlay-bg\"\n        className=\"overlay-bg absolute top-0 left-0 right-0 bottom-0 \"\n        onClick={(e) => props.toggleFocusView()}\n        style={{\n          zIndex: 1,\n        }}\n      ></div>\n      <Content\n        id=\"overlay-content\"\n        className=\"overlay absolute top-0 left-0 right-0 bottom-0 flex flex-col justify-center items-center p-16\"\n      >\n        <div\n          className=\"image-container mx-24 relative  h-full flex flex-col justify-center items-center\"\n          style={{\n            zIndex: 2,\n          }}\n        >\n          <div\n            id=\"focus-click-overlay\"\n            className=\"fixed top-0 left-0 right-0 w-screen h-screen overlay z-10\"\n            onClick={(e) => props.toggleFocusView()}\n            style={{\n              opacity: 0.8,\n              cursor: \"pointer\",\n            }}\n          ></div>\n          <div\n            className=\"my-32 relative z-20 \"\n            style={{\n              maxHeight: '100%'\n            }}\n          >\n           \n              <img\n                src={props.focusPath}\n                alt=\"\"\n                onClick={(e) => props.toggleFocusView()}\n                className=\"object-contain block w-full h-full\"\n                style={{\n                  cursor: \"zoom-out\",\n                  objectFit: 'contain',\n                  maxHeight: '100%',\n                  maxWidth: '100%'\n                }}\n              />\n\n            <div className=\"focus-action-wrapper pt-4 flex flex-row mx-auto justify-center\">\n              <LinkButton\n                href={`${props.focusPath}`}\n                title=\"Direct Link\"\n                className=\"mx-4 block\"\n              >\n                <div\n                  className=\"h-full flex flex-row items-center justify-center px-4 text-sm font-bold\"\n                  style={{\n                  }}\n                >\n                  View Full Res\n                </div>\n              </LinkButton>\n              <LinkButton\n                href=\"\"\n                className=\"block\"\n                id=\"image-focus-copy-direct-link\"\n                onClick={(e) => copyLink(e)}\n              >\n                <div\n                  className=\"h-full flex flex-row items-center justify-center px-4 text-sm font-bold\"\n                  style={{\n                  }}\n                >\n                  Copy Direct Link\n                </div>\n              </LinkButton>\n              <LinkButton\n                href={`${prepend}/api/beam/${props.focusGallery}/download`}\n                className=\"mx-4 block\"\n                download\n                title=\"Download\"\n              >\n                <div>\n                  <i className=\"fas fa-cloud-download-alt  mx-4\"></i>\n                </div>\n              </LinkButton>\n            </div>\n          </div>\n        </div>\n      </Content>\n    </Root>\n  )\n}\nconst enter = keyframes`\n  from{\n    opacity:0;\n    transform: scale(.5)\n  }\n  to{\n    opacity:1;\n    transform: scale(1);\n  }\n`\nconst Root = styled.div`\n  opacity: 0;\n  transform: scale(.5);\n  animation: ${enter} .1s cubic-bezier(0.68, -0.6, 0.32, 1.6) forwards;\n  color: ${props => props.theme.text};\n  .overlay-bg{\n    background: ${props => props.theme.background_1};\n  }\n`\nconst LinkButton = styled.a`\n  margin: 0 6px;\n  padding: 8px 16px;\n  border-radius: 8px;\n  background: ${props => props.theme.background_3};\n  \n  :hover {\n    opacity: .4;\n  }\n`\nconst Content = styled.div`\n`\nconst mapDispatchToProps = {\n  toggleFocusView\n}\nfunction mapStateToProps(state){\n  return{\n    focusPath: state.app_state_reducer.focusPath,\n    focusGallery: state.app_state_reducer.focusGallery\n\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageFocus)","export default \"data:image/png;base64,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\"","import React, { useState } from \"react\"\nimport { useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport throttle from \"lodash/throttle\"\nimport cookie from \"js-cookie\"\nimport {connect} from 'react-redux'\nimport {setSearch} from '../state/store/actions/index'\nfunction Searchbar(props) {\n \n  const searchRegex = /^[@#A-Za-z0-9 ]{1}[A-Za-z0-9 ]{0,}$/\n  const history = useHistory()\n  const [searchValue, setSearchValue] = useState(\"\")\n  const [focused, setFocused] = useState(false)\n  function handleSearchValueChange(searchString) {\n    if (searchString == null || searchString == \"\") {\n      setSearchValue(\"\")\n      return\n    }\n    if (searchRegex.test(searchString)) {\n      console.log(\"special\")\n      setSearchValue(searchString)\n      return\n    }\n  }\n  // watch global search and update local state\n  useEffect(()=>{\n    setSearchValue(props.search)\n  },[props.search])\n  function handleEnter(e) {\n    if (e.keyCode == 13) {\n      submitSearch()\n    }\n    if (e.keyCode == 27) {\n      unfocusSearch()\n    }\n  }\n  async function submitSearch(e) {\n    // determine search type\n    let searchString = searchValue\n\n    // if tag search\n    if (searchValue.charAt(0) == \"#\") {\n      history.push(`/tag/${searchString.replace(/#/g, \"\")}`)\n    }\n    // if user search\n    else if (searchValue.charAt(0) == \"@\") {\n      history.push(`/users/${searchString.replace(/@/g, \"\")}`)\n    } else {\n      history.push(`/search/${searchString}`)\n    }\n    unfocusSearch()\n  }\n  let throttleSearch = throttle(onTypeSearch, 400)\n  useEffect(() => {\n    if (searchValue.length > 0) {\n      throttleSearch()\n    }\n    if (searchValue.length == 0) {\n      toggleBox(false)\n      setResults(null)\n    }\n  }, [searchValue])\n  function sanitizeSuggestionSearch(searchString) {\n    searchString = searchString.replace(\"#\", \"\")\n    searchString = searchString.replace(\"@\", \"\")\n    return searchString\n  }\n  async function onTypeSearch(e) {\n    let searchString = sanitizeSuggestionSearch(searchValue)\n    console.log(\"searching \" + searchString)\n    let url = `/api/search/suggest?search=${searchString}`\n    try {\n      let res = await fetch(url)\n      let json = await res.json()\n      // console.log(json)\n      if (res.status == 200) {\n        setResults(json)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  function focusSearch(e) {\n    document.getElementById(\"search-input\").focus()\n  }\n  // active state\n  const [results, setResults] = useState(null)\n  const [box, toggleBox] = useState(false)\n  useEffect(() => {\n    console.log(results)\n    if (results !== null) {\n      toggleBox(true)\n      return\n    }\n\n    toggleBox(false)\n  }, [results])\n  function unfocusSearch() {\n    console.log(\"unfocus\")\n    document.getElementById(\"search-input\").blur()\n    toggleBox(false)\n  }\n  return (\n    <div className=\"relative flex-1 flex items-center justify-center ml-2 mr-2  text-sm \">\n      <SearchBarElement\n        id=\"search-form-style\"\n        focused={focused}\n        className=\"flex flex-row w-full my-1 items-center outline-none focus:outline-none md:w-full\"\n        onClick={(e) => focusSearch()}\n        style={{\n          cursor: \"text\",\n          borderRadius: \"8px\",\n          maxWidth: \"480px\",\n        }}\n      >\n        <div className=\"w-full relative h-full px-4 py-2\">\n          <SearchInput\n            id=\"search-input\"\n            type=\"text\"\n            tabIndex={1}\n            className=\"w-full h-full bg-transparent  outline-none \"\n            name=\"search\"\n            autoComplete={\"off\"}\n            placeholder=\"Search for topics, @users, or #tags!\"\n            value={searchValue}\n            onKeyDown={(e) => handleEnter(e)}\n            onChange={(e) => handleSearchValueChange(e.target.value)}\n            onFocus={(e) => setFocused(true)}\n            onBlur={(e) => setFocused(false)}\n          />\n          {/* dropdown */}\n          {(box &&\n            (results.galleries.length ||\n              results.tags.length ||\n              results.users.length)) ? (\n              <DropDown\n                id=\"search-drop\"\n                className=\"w-full text-left text-sm  mt-2 left-0 right-0  absolute \"\n              >\n                <div\n                  className=\"dropdown-overlay fixed top-0 left-0 right-0 w-screen h-screen z-10\"\n                  onClick={(e) => unfocusSearch()}\n                  style={{}}\n                ></div>\n                <div\n                  className=\"relative z-20\"\n                >\n                  {results.galleries.length > 0 && (\n                    <div id=\"search-dropdown-galleries\" className=\"\">\n                      <DropdownTitle string={\"Galleries\"}></DropdownTitle>\n                      <div className=\"flex flex-col mb-3\">\n                        {results.galleries.map((gallery, index) => {\n                          if (index < 3)\n                            return (\n                              <Link\n                                onClickCapture={(e) => unfocusSearch()}\n                                to={`/beam/${gallery.gallery_id}`}\n                                key={`search-box-gallery-result-${gallery.gallery_id}`}\n                              >\n                                <Item\n                                  icon={\"fa-images\"}\n                                  string={gallery.title}\n                                ></Item>\n                              </Link>\n                            )\n                        })}\n                      </div>\n                    </div>\n                  )}\n\n                  {results.users.length > 0 && (\n                    <div id=\"search-dropdown-users\" className=\"\">\n                      <DropdownTitle string={\"Users\"}></DropdownTitle>\n                      <div className=\"flex flex-col mb-3\">\n                        {results.users.map((user, index) => {\n                          if (index < 3)\n                            return (\n                              <Link\n                                onClickCapture={(e) => unfocusSearch()}\n                                key={`search-box-user-result-${user.username}`}\n                                to={`/user/${user.username}`}\n                              >\n                                <Item\n                                  user\n                                  icon={\"fa-user\"}\n                                  avatar={user.avatar_lq}\n                                  string={user.username}\n                                ></Item>\n                              </Link>\n                            )\n                        })}\n                      </div>\n                    </div>\n                  )}\n                  {results.tags.length > 0 && (\n                    <div id=\"search-dropdown-tags\" className=\"\">\n                      <DropdownTitle string={\"Tags\"}></DropdownTitle>\n\n                      <div className=\"flex flex-col mb-3\">\n                        {results.tags.map((tag, index) => {\n                          if (index < 3)\n                            return (\n                              <Link\n                                onClickCapture={(e) => unfocusSearch()}\n                                to={`/tag/${tag.name.replace(\" \", \"_\")}`}\n                                key={`search-box-tag-result-${index}`}\n                              >\n                                <Item\n                                  icon={\"fa-hashtag\"}\n                                  string={tag.name}\n                                ></Item>\n                              </Link>\n                            )\n                        })}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </DropDown>\n            )\n            :\n            <div></div>\n            }\n            \n        </div>\n        {searchValue.length > 0 && (\n          <div\n            className=\"h-full p-1 flex flex-col items-center justify-center\"\n            id=\"search-clear cursor-pointer\"\n            onClick={(e) => setSearchValue(\"\")}\n          >\n            <button className=\"block\">\n              <i className=\"fas fa-times opacity-50 fa-lg\"></i>\n            </button>\n          </div>\n        )}\n\n        <SearchButton\n          type=\"submit\"\n          onClick={(e) => submitSearch(e)}\n          onSubmit={(e) => submitSearch(e)}\n          className=\" font-bold px-4\"\n        >\n          <i className=\"fas fa-search fa-lg opacity-25\"></i>\n        </SearchButton>\n      </SearchBarElement>\n    </div>\n  )\n}\nfunction Item(props) {\n  return (\n    <ItemView className=\"flex flex-row justify-start  items-center\">\n      {props.user ? (\n        <div\n          className=\"mr-2 avatar flex flex-col relative overflow-hidden items-center justify-center\"\n          style={{\n            width: \"26px\",\n            height: \"26px\",\n            borderRadius: \"100%\",\n          }}\n        >\n          {props.avatar !== null && (\n            <img\n              className=\"block absolute top-0 bottom-0 left-0 right-0 z-20\"\n              src={props.avatar}\n              alt={`${props.username}'s avatar`}\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"cover\",\n              }}\n            />\n          )}\n          <i className={`icon fas ${props.icon} block z-10 relative`}></i>\n        </div>\n      ) : (\n        <div className=\"mr-2 flex flex-col items-center justify-center\" style={{\n          width: '26px',\n          height: '26px'\n        }}>\n          <i className={`icon fas ${props.icon} block z-10 relative`}></i>\n        </div>\n      )}\n\n      <div className=\"title\">{props.string}</div>\n    </ItemView>\n  )\n}\nconst ItemView = styled.div`\n  padding: 6px 10px;\n  :hover {\n    background: ${(props) => props.theme.background_3};\n    border-radius: 8px;\n  }\n  .title {\n    font-weight: 600;\n  }\n  .avatar {\n    background: ${(props) => props.theme.background_3};\n  }\n  .icon {\n    font-size: 16px;\n    color: ${(props) => props.theme.textFaded};\n  }\n`\nfunction DropdownTitle(props) {\n  return (\n    <div\n      className=\"ml-2 mb-2\"\n      style={{\n        fontSize: \"16px\",\n        fontWeight: 700,\n      }}\n    >\n      {props.string}\n    </div>\n  )\n}\nconst DropDown = styled.div`\n  transition: all 0.2s linear;\n  top: 100%;\n  background: ${(props) => props.theme.background_1};\n  border-width: 1px;\n  border-radius: 8px;\n  padding: 12px 8px;\n  width: 220px;\n  border-color: ${(props) => props.theme.border};\n`\nconst SearchBarElement = styled.div`\n  background: ${(props) => props.theme.background_3};\n  /* border-color: ${(props) => props.theme.border};\n  border-width: 1px; */\n`\nconst SearchButton = styled.button``\nconst SearchInput = styled.input`\n  font-weight: 500;\n  opacity: 0.7;\n  :focus,\n  :active {\n    opacity: 1;\n  }\n`\nconst mapDispatchToProps = {\n  setSearch\n}\nfunction mapStateToProps(state){\n  return{\n    search: state.app_state_reducer.search\n\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Searchbar)","import React from 'react'\nimport styled from 'styled-components'\nexport default function Badge(props) {\n    return (\n        <View className=\"\" background={props.background}>\n        <div>\n            {props.value || 0}\n\n        </div>\n        </View>\n    )\n}\nconst View = styled.div`\n    width:18px;\n    height:18px;\n    position: absolute;\n    border-radius:100%;\n    display:flex;\n    font-size: 10px;\n    justify-content:center;\n    align-items: center;\n    top: -6px;\n    right: -6px;\n    border: ${props => `1px solid ${props.theme.border}`};\n    background-color: ${props => (props.background && props.value > 0) ? props.background : props.theme.background_1};\n`","import React from 'react'\nimport styled from 'styled-components'\nimport {connect} from 'react-redux'\nimport {toggleTheme} from '../state/store/actions/index'\nfunction ThemeToggle(props) {\n    console.log(props)\n    return (\n        <div>\n        <CheckBox htmlFor=\"theme_toggle\" title=\"theme toggle\" theme_string={props.theme_string}>\n        <input checked={props.theme_string === \"theme_light\"} onChange={e => props.toggleTheme()} className=\"hidden\" type=\"checkbox\" name=\"theme_toggle\" id=\"theme_toggle\" style={{\n            width: 0,\n            height: 0\n        }} />\n\n        </CheckBox>\n        </div>\n    )\n}\nconst CheckBox = styled.label`\n    background-color: ${props => props.theme_string === \"theme_light\" ? props.theme.background_3 :  \"black\"};\n    height: 20px;\n    width: 34px;\n    border-radius: 16px;\n    display: block;\n    input:checked{\n\n    }\n`\nfunction mapStateToProps(state){\n    return {\n        theme_string: state.app_state_reducer.theme\n    }\n}\nconst mapDispatchToProps = {\n    toggleTheme\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ThemeToggle)\n","const theme_dark = {\n    success: '#3498db',\n    error: \"#e74c3c\",\n    secondary: '#2ecc71',\n    warning: '#f1c40f',\n    text: 'rgb(255,255,255)',\n    textFaded: 'rgb(170,170,170)',\n    backgroundDark: 'rgb(20,20,20)',\n    backgroundMedium: 'rgba(32,32,32)',\n    backgroundThird: 'rgba(38,38,38)',\n    backgroundMediumLight: 'rgba(45,45,45)',\n    backgroundMediumDark: 'rgba(25,25,25)',\n    backgroundLight: 'rgba(90,90,90)',\n    backgroundLightest: 'rgba(90,90,90, .3)',\n\n}\nconst theme_light = {\n    success: '#3498db',\n    error: \"#e74c3c\",\n    secondary: '#2ecc71',\n    warning: '#f1c40f',\n    text: 'rgb(0,0,0)',\n    textFaded: 'rgb(170,170,170)',\n    backgroundDark: 'rgb(20,20,20)',\n    backgroundMedium: 'rgba(32,32,32)',\n    backgroundMediumLight: 'rgba(45,45,45)',\n    backgroundMediumDark: 'rgba(31,31,31)',\n    backgroundLight: 'rgba(90,90,90)',\n    backgroundLightest: 'rgba(90,90,90, .3)',\n}\n\nexport default theme_dark\n","export default __webpack_public_path__ + \"static/media/imgbeam_btc_address.259a802c.png\";","import React from \"react\"\nimport colors from \"../theme/colors\"\nexport default function SignInButton(props) {\n  return (\n    <div className=\"\" style={{}}>\n      <a\n        href=\"/login\"\n        className=\"px-3 w-full text-center py-1 text-sm inline-flex justify-center items-center flex-row\"\n        style={{\n          backgroundColor: `${colors.success}`,\n          color: `white`,\n          borderRadius: '8px'\n        }}\n      >\n        {/* <div>\n          <i className=\"fas fa-sign-in-alt mr-4\"></i>\n        </div> */}\n        <div className=\"font-bold px-8\">Sign In</div>\n      </a>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport colors from \"../theme/colors\"\nimport qr from \"../imgbeam_btc_address.png\"\nimport styled from \"styled-components\"\nimport { Link, useHistory, useLocation } from \"react-router-dom\"\nimport SignInButton from \"./SignInButton\"\nimport { connect } from \"react-redux\"\nimport throttle from 'lodash/throttle'\nimport { toggleCreatePanel, toggleSidebar, addFile, setFiles } from \"../state/store/actions/index\"\nfunction Sidebar(props) {\n  const location = useLocation()\n\n  return (\n    <SideBarElement\n      sidebar={props.sidebar}\n      className=\"fixed left-0 top-0 bottom-0 text-left \"\n      style={{\n        width: \"240px\",\n        // paddingTop: \"56px\",\n        marginTop: '56px',\n        zIndex: 997,\n      }}\n    >\n    {/* <div className=\"panel\"> */}\n      <Section>\n        <DropHere addFile={props.addFile}></DropHere>\n\n        <LiHref\n          active={location.pathname == \"/create\"}\n          string={\"New Post\"}\n          link={\"/new\"}\n          icon={\"fas fa-plus\"}\n        ></LiHref>\n      </Section>\n      <Hr />\n      <Section>\n        <Li\n          active={location.pathname == \"/uploads\"}\n          link={\"/uploads\"}\n          string={\"My Uploads\"}\n          icon={\"fas fa-images\"}\n        ></Li>\n      </Section>\n      <Hr />\n      <Section className>\n        <Li\n          active={location.pathname == \"/\"}\n          link={\"/\"}\n          string={\"Home\"}\n          icon={\"fas fa-home\"}\n        ></Li>\n        {/* <Li\n          active={location.pathname == \"/new\"}\n          link={\"/new\"}\n          string={\"New\"}\n          icon={\"fas fa-rss\"}\n        ></Li> */}\n\n        {/* <Li\n          active={location.pathname == \"/picks\"}\n          link={\"/picks\"}\n          string={\"For You\"}\n          icon={\"fas fa-user\"}\n        ></Li>\n        <Li\n          active={location.pathname == \"/tags\"}\n          link={\"/tags\"}\n          string={\"Tags\"}\n          icon={\"fas fa-tags\"}\n        ></Li> */}\n      </Section>\n      <Hr />\n\n      {!props.signedIn && (\n        <div>\n          <Section>\n            <SignInBox></SignInBox>\n          </Section>\n          <Hr />\n        </div>\n      )}\n\n      <Section>\n        <Li\n          active={location.pathname == \"/following\"}\n          link={\"/following\"}\n          string={\"Following\"}\n          icon={\"fas fa-list\"}\n        ></Li>\n\n        <Li\n          active={location.pathname == \"/favorites\"}\n          link={\"/favorites\"}\n          string={\"Favorites\"}\n          icon={\"fas fa-heart\"}\n        ></Li>\n        <Li\n          active={location.pathname == \"/history\"}\n          link={\"/history\"}\n          string={\"History\"}\n          icon={\"fas fa-history\"}\n        ></Li>\n      </Section>\n      <Hr />\n      <Section>\n        <LogIn></LogIn>\n      </Section>\n      <Section>\n        <Li\n          active={location.pathname == \"/settings\"}\n          link={\"/settings\"}\n          string={\"Settings\"}\n          icon={\"fas fa-cog\"}\n        ></Li>\n        <Li\n          active={location.pathname == \"/support\"}\n          link={\"/support\"}\n          string={\"Help\"}\n          icon={\"fas fa-question-circle\"}\n        ></Li>\n        <Li\n          active={location.pathname == \"/feedback\"}\n          link={\"/feedback\"}\n          string={\"Feedback\"}\n          icon={\"fas fa-comments\"}\n        ></Li>\n        <Li\n          active={location.pathname == \"/donate\"}\n          link={\"/donate\"}\n          string={\"Donate\"}\n          icon={\"fas fa-dollar-sign\"}\n        ></Li>\n      </Section>\n      {props.signedIn && <Hr />}\n      {props.signedIn && (\n        <Section>\n          <LiHref\n            active={location.pathname == \"/logout\"}\n            link={\"/logout\"}\n            string={\"Sign Out\"}\n            icon={\"fas fa-sign-out-alt\"}\n          ></LiHref>\n        </Section>\n      )}\n      <Hr />\n      <Section>\n        <Footer></Footer>\n      </Section>\n      {/* </div> */}\n    </SideBarElement>\n  )\n}\nfunction Section(props) {\n  return <div className=\"my-2\">{props.children}</div>\n}\nfunction Li(props) {\n  return (\n    <Link\n      to={props.link}\n      className={`flex list-item flex-row items-center outline-none focus:outline-none`}\n      style={{\n        minHeight: \"42px\",\n      }}\n    >\n      <ItemContent active={props.active}>\n        <div\n          active={props.active}\n          className=\"mr-3 ml-1 flex flex-col items-center justify-center\"\n          style={{\n            minWidth: \"40px\",\n            height: \"24px\",\n          }}\n        >\n          <Icon\n            active={props.active}\n            className={`${props.icon} icon`}\n            style={{\n              opacity: `${props.active ? 1 : 0.5}`,\n            }}\n          ></Icon>\n        </div>\n        <div className=\"text-sm font-bold item-string\">{props.string}</div>\n      </ItemContent>\n    </Link>\n  )\n}\nfunction LiHref(props) {\n  return (\n    <a\n      href={props.link}\n      className={`flex list-item flex-row items-center outline-none focus:outline-none  ${\n        props.active ? \"bg-white bg-opacity-25\" : \"\"\n      }`}\n      style={{\n        minHeight: \"42px\",\n      }}\n    >\n      <ItemContent active={props.active}>\n        <div\n          active={props.active}\n          className=\"mr-3 ml-1 flex flex-col items-center justify-center\"\n          style={{\n            minWidth: \"40px\",\n            height: \"24px\",\n          }}\n        >\n          <i\n            className={`${props.icon} icon`}\n            style={{\n              opacity: `${props.active ? 1 : 0.5}`,\n            }}\n          ></i>\n        </div>\n        <div className=\"text-sm font-bold item-string\">{props.string}</div>\n      </ItemContent>\n    </a>\n  )\n}\nfunction LiButton(props) {\n  return (\n    <button\n      onClick={(e) => props.action()}\n      className={`flex list-item w-full flex-row items-center outline-none focus:outline-none  ${\n        props.active ? \"bg-white bg-opacity-25\" : \"\"\n      }`}\n      style={{\n        minHeight: \"42px\",\n      }}\n    >\n      <ItemContent active={props.active}>\n        <div\n          active={props.active}\n          className=\"mr-3 ml-1 flex flex-col items-center justify-center\"\n          style={{\n            minWidth: \"40px\",\n            height: \"24px\",\n          }}\n        >\n          <i\n            className={`${props.icon} icon`}\n            style={{\n              opacity: `${props.active ? 1 : 0.5}`,\n            }}\n          ></i>\n        </div>\n        <div className=\"text-sm font-bold item-string\">{props.string}</div>\n      </ItemContent>\n    </button>\n  )\n}\nconst Icon = styled.i`\n  color: ${(props) => (props.active ? props.theme.success : props.theme.icons)};\n`\nconst ItemContent = styled.div`\n  color: ${(props) => (props.active ? props.theme.success : props.theme.icons)};\n  .item-string {\n    transition: all 0.1s linear;\n  }\n  display: flex;\n  flex-direction: row;\n  padding: 6px 4px;\n  border-radius: 8px;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: start;\n  margin: 0 8px;\n  .icon {\n    transition: all 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n    transform: ${(props) => (props.active ? \"scale(1.2)\" : \"none\")};\n  }\n  :hover {\n    background: ${(props) => props.theme.background_3};\n    .icon {\n      color: ${(props) => props.theme.success};\n    }\n    .item-string {\n      transform: translateX(6px);\n    }\n  }\n`\nexport function Hr(props) {\n  return (\n    <HrEl\n      className=\"mx-4\"\n      style={\n        {\n          // opacity: 0.1,\n        }\n      }\n    />\n  )\n}\nconst HrEl = styled.hr`\n  border-color: ${(props) => props.theme.border};\n`\nfunction LogIn(props) {\n  return <div></div>\n}\nfunction DropHere(props) {\n  const history = useHistory()\n  function ignore(e){\n    e.preventDefault()\n    e.stopPropagation()\n  }\n  useEffect(() => {\n    window.addEventListener('drop',ignore)\n    window.addEventListener('dragover',ignore)\n    return () => {\n      window.removeEventListener('drop', ignore)\n      window.removeEventListener('dragover', ignore)\n\n    }\n  }, [])\n  let dragoverThrottle = throttle(dragOver, 50)\n  function dragOver(e){\n    e.preventDefault()\n    e.stopPropagation()\n  }\n  function onDrop(e){\n    e.preventDefault()\n    e.stopPropagation()\n    if(isDropValid(e)){\n      // add to global state and redirec to newpost\n      console.log('valid')\n      addFileToState(e.dataTransfer.files[0])\n      history.push('/new')\n    }\n  }\n  function isDropValid(e){\n    if(e.dataTransfer.items[0].kind == 'file' && e.dataTransfer.items[0].type.includes('image' || 'video')){\n      console.log(e.dataTransfer.items[0])\n      // if(e.dataTransfer.items[0])\n      return true\n    }\n    return false\n  }\n  function addFileToState(newFile) {\n    let reader = new FileReader()\n    reader.onload = function (e) {\n      newFile.typeString = returnType(newFile.type)\n      newFile.url = e.target.result\n      props.addFile(newFile)\n    }\n    reader.readAsDataURL(newFile)\n  }\n  function returnType(typeString){\n    if(typeString.includes(\"video\")){\n      return \"video\"\n    }\n    return \"image\"\n  }\n  return (\n    <DropRoot\n      onDragOver={e => dragoverThrottle(e)}\n      onDrop={e => onDrop(e)}\n      className=\"flex flex-col justify-center items-start\"\n      style={{\n        minHeight: \"120px\",\n      }}\n    >\n      <BorderBox className=\"ml-8\">\n        <div className=\"mx-8 my-6 flex flex-col items-center \">\n          <div>\n            <i className=\"fab fa-dropbox fa-lg opacity-50 mb-3 icon\"></i>\n          </div>\n          <div className=\"text-xs opacity-50\">Drop Media Here</div>\n        </div>\n      </BorderBox>\n    </DropRoot>\n  )\n}\nconst DropRoot = styled.div`\n  margin: 12px 0;\n  transition: all 0.2s linear;\n  /* background-color: ${(props) => props.theme.background_1}; */\n`\nconst BorderBox = styled.div`\n  transition: all 0.2s linear;\n  border: ${(props) => `2px dashed ${props.theme.border}`};\n  border-radius: 8px;\n  cursor: pointer;\n  .icon {\n    transition: all 0.2s linear;\n  }\n  :hover {\n    border-color: ${(props) => props.theme.secondary};\n    .icon {\n      transform: scale(1.2);\n      color: ${(props) => props.theme.secondary};\n    }\n  }\n`\nfunction Footer(props) {\n  return (\n    <div className=\"w-full\">\n      <div\n        className={` text-xs flex flex-col justify-center items-start z-50  w-full`}\n        style={{}}\n      >\n        <div id=\"home-copy\" className=\"text-xs opacity-50\">\n          &copy; 2021 Imgbeam\n        </div>\n      </div>\n    </div>\n  )\n}\nfunction SignInBox(props) {\n  return (\n    <div className=\"px-6 py-4\">\n      <div className=\"text-sm mb-2\">Sign in to post, vote, and share.</div>\n      <SignInButton></SignInButton>\n    </div>\n  )\n}\n\n// styles\nconst SideBarElement = styled.div`\n  transition: all 0.2s linear;\n  left: ${(props) => (props.sidebar ? 0 : \"-225px\")};\n  overflow-y: hidden;\n  overflow-x: visible;\n  background-color: ${(props) => props.theme.background_2};\n .panel{\n   border-radius: 8px;\n   box-shadow: 4px 4px 8px rgba(0,0,0,.3);\n   background: ${props => props.theme.background_3};\n }\n  :hover {\n    overflow-y: scroll;\n  }\n  ::-webkit-scrollbar {\n    position: absolute;\n  }\n`\n\nfunction mapStateToProps(state) {\n  return {\n    createPanel: state.app_state_reducer.createPanel,\n    sidebar: state.app_state_reducer.sidebar,\n    signedIn: state.app_state_reducer.signedIn,\n  }\n}\nconst mapDispatchToProps = {\n  toggleCreatePanel,\n  toggleSidebar,\n  addFile,\n  setFiles\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar)\n","import React, { useEffect, useState } from \"react\"\nimport styled, { keyframes } from \"styled-components\"\nimport ThemeToggle from \"../../ThemeToggle\"\nimport { Redirect, useHistory } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport { Hr } from \"../../Sidebar\"\nimport {toggleTheme} from '../../../state/store/actions/index'\n\nfunction AccountMenu(props) {\n  const history = useHistory()\n  const [themeMenu, toggleThemeMenu] = useState(false)\n  useEffect(() => {\n    console.log(props)\n  }, [])\n\n  return (\n    <AccountMenuEl\n      id=\"account-menu\"\n      className=\"relative\"\n      style={{\n        zIndex: 999,\n      }}\n    >\n      <div\n        className=\"overlay fixed top-0 left-0 w-screen h-screen\"\n        onClick={(e) => props.toggleAccountMenu(false)}\n      ></div>\n      <Panel className=\"relative shadow-md \">\n        {themeMenu ? (\n          <ThemeSelect toggleTheme={props.toggleTheme} theme={props.theme} toggleThemeMenu={toggleThemeMenu}></ThemeSelect>\n        ) : (\n          <ul className=\"flex flex-col items-start w-full\">\n            <Section>\n              <AccountInfo account={props.account}></AccountInfo>\n            </Section>\n            <Section>\n              <Hr></Hr>\n            </Section>\n            <Section>\n              <Item\n                action={() => history.push(`/user/${props.account.username}`)}\n                icon={\"fa-user\"}\n                string={\"Profile\"}\n              ></Item>\n              <Item icon={\"fa-envelope\"} string={\"Messages\"}></Item>\n            \n            </Section>\n            <Section>\n              <Hr></Hr>\n            </Section>\n            <Section>\n              <Item\n                icon={`${props.theme === \"theme_light\" ? \"fa-sun\" : \"fa-moon\"}`}\n                string={\"Theme\"}\n                action={() => toggleThemeMenu(true)}\n              >\n                <button className=\"flex flex-col items-center justify-center mr-2\">\n                  <i className=\"fas fa-chevron-right\"></i>\n                </button>\n              </Item>\n              {/* <ThemeToggle></ThemeToggle> */}\n              <Item\n                action={() => history.push(\"/settings\")}\n                icon={\"fa-cog\"}\n                string={\"Settings\"}\n              ></Item>\n            </Section>\n            <Section>\n            <Hr></Hr>\n\n            </Section>\n\n            <Section>\n            <Item\n                action={() => (window.location.href = \"/logout\")}\n                icon={\"fa-sign-out-alt\"}\n                string={\"Sign Out\"}\n              ></Item>\n            </Section>\n          </ul>\n        )}\n      </Panel>\n    </AccountMenuEl>\n  )\n}\nconst Panel = styled.div``\nfunction AccountInfo(props) {\n  return (\n    <div className=\"w-full text-left p-4\">\n      <div className=\"flex flex-row\">\n        <div className=\"mr-4\">\n          <div\n            style={{\n              width: \"42px\",\n              height: \"42px\",\n              borderRadius: \"100%\",\n              overflow: \"hidden\",\n            }}\n          >\n            <img\n              src={props.account.avatar}\n              alt=\"\"\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"cover\",\n              }}\n            />\n          </div>\n        </div>\n        <div>\n          <div className=\"font-bold text-lg leading-6 username\">\n            {props.account.username}\n          </div>\n          <div className=\"text-sm leading-5 email\">{props.account.email}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\nfunction ThemeSelect(props) {\n  return (\n    <div>\n      <Section>\n        <Item icon={\"fa-arrow-left\"} string=\"Theme\" action={e => props.toggleThemeMenu(false)}></Item>\n      </Section>\n      <Hr></Hr>\n      <Section>\n        <Item color={\"#f1c40f\"} icon={\"fa-sun\"} string={\"Light Theme\"} action={e => props.toggleTheme(\"theme_light\")}>\n          <div>\n            {props.theme === \"theme_light\" && (\n              <i className=\"fas fa-check-circle check\"></i>\n            )}\n          </div>\n        </Item>\n        <Item color={\"#9b59b6\"} icon={\"fa-moon\"} string={\"Dark Theme\"} action={e => props.toggleTheme(\"theme_dark\")}>\n          <div>\n            {props.theme === \"theme_dark\" && (\n              <i className=\"fas fa-check-circle\"></i>\n            )}\n          </div>\n        </Item>\n      </Section>\n    </div>\n  )\n}\nfunction Section(props) {\n  return <SectionEl>{props.children}</SectionEl>\n}\nconst SectionEl = styled.div`\n  /* border-bottom-width: 1px; */\n  width: 100%;\n  padding: 8px 0;\n  /* border-color: ${(props) => props.theme.border}; */\n  .email {\n    color: ${(props) => props.theme.text_light};\n  }\n`\nconst enter = keyframes`\n    from{\n        height: 0;\n        opacity: 1;\n        transform: translateY(-100px);\n    }\n    to{\n        height: auto;\n        opacity:1;\n        transform: translateY(0);\n    }\n`\nfunction Item(props) {\n  return (\n    <ItemEl color={props.color} onClick={(e) => props.action(e)} className=\"px-3\">\n      <div className=\"flex item-content flex-row items-center justify-start\">\n        <div\n          className=\"icon-holder flex flex-col items-center justify-center mr-4\"\n          style={{\n            width: \"32px\",\n          }}\n        >\n          <i\n            className={`icon block fas ${props.icon} `}\n            style={{\n              fontSize: \"20px\",\n            }}\n          ></i>\n        </div>\n        <div className=\"text-sm font-semibold\">{props.string}</div>\n        <div className=\"ml-auto\">{props.children}</div>\n      </div>\n    </ItemEl>\n  )\n}\nconst ItemEl = styled.li`\n  :hover {\n    .icon {\n      color: ${(props) => props.color || props.theme.secondary};\n    }\n  }\n  .check{\n    color: ${props => props.theme.icons};\n  }\n  .icon {\n    color: ${(props) => props.theme.icons_2};\n  }\n  .item-content {\n    padding: 8px 8px;\n    border-radius: 8px;\n    :hover {\n      background-color: ${(props) => props.theme.background_3};\n    }\n  }\n`\nconst AccountMenuEl = styled.div`\n  position: absolute;\n  right: 0;\n  width: 300px;\n  top: 110%;\n  color: ${(props) => props.theme.text};\n  /* box-shadow: 3px 3px 4px rgba(0, 0, 0, 0.4); */\n  background: ${(props) => props.theme.background_1};\n  min-width: 180px;\n  animation: ${enter} 0.1s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n  border-radius: 8px;\n  overflow: hidden;\n  border: ${(props) => `1px solid ${props.theme.border}`};\n`\nconst Li = styled.li`\n  width: 100%;\n  text-align: left;\n  font-weight: bold;\n  display: block;\n  a {\n    padding: 4px 12px;\n    display: block;\n  }\n  :hover {\n    opacity: 0.5;\n  }\n`\nfunction mapStateToProps(state) {\n  return {\n    account: state.account_reducer.account,\n    theme: state.app_state_reducer.theme,\n  }\n}\nconst mapDispatchToProps = {\n  toggleTheme\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountMenu)\n","import React, {useEffect} from 'react'\n\nexport default function DropDownMenu() {\n    useEffect(()=>{\n        console.log('drop')\n    },[])\n    return (\n        <div className=\"absolute left-0 right-0 bg-pink-300\">\n            dropdown\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/avatar.b078c2bf.png\";","import React from \"react\"\nimport defaultAvatar from \"./avatar.png\"\nimport styled from \"styled-components\"\nexport default function Avatar(props) {\n  console.log(props)\n  return (\n    <AvatarEl className=\"flex flex-row items-center relative justify-center text-white\"\n        onClick={(e) => props.toggleAccountMenu((old) => !old)}\n    >\n   \n      \n      <div\n        id=\"avatar-image-container\"\n        className=\"overflow-hidden relative\"\n        style={{\n          borderRadius: '100%',\n          width: '36px',\n          height:'36px',\n          // transform: props.active ? \"scale(1.2)\" : \"scale(1)\",\n          backgroundImage: `url(${props.account.avatar || defaultAvatar})`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          transition: \"all .3s cubic-bezier(0.68, -0.6, 0.32, 1.6)\",\n        }}\n      >\n        <div className=\"chevron-container flex items-center justify-center absolute top-0 bottom-0 left-0 right-0 opacity-0\" style={{\n          background: 'rgba(255,255,255,.3)'\n        }}>\n        <i className=\"fas block fa-chevron-down\"></i>\n        </div>\n      </div>\n      \n    </AvatarEl>\n  )\n}\nconst AvatarEl = styled.div`\n  padding: 6px 16px;\n  transition: all .1s linear;\n  border: 1px solid transparent;\n  :hover{\n    /* box-shadow: 1px 1px 3px rgba(0,0,0,.3); */\n      /* border: 1px solid  rgba(100,100,100,.1); */\n      .chevron-container{\n      opacity: 1;\n\n    }\n  }\n\n`\n\n","import React from \"react\"\nimport theme from '../../theme/colors'\nexport default function AppMenu(props) {\n  return (\n    <div className=\"absolute text-left\" style={{\n        top: '100%',\n        right: '-50%'\n    }}>\n      <div className=\"fixed top-0 bottom-0 left-0 right-0 z-0\" onClick={e=>props.toggleAppMenu(false)}></div>\n      <div className=\"panel z-10 bg-black\" style={{\n          color: 'white',\n          borderRadius: '16px',\n          background: `${theme.backgroundLight}`\n      }}>\n        <ul>\n          <li className=\"py-4 px-6\">\n            <a href=\"/\">Imgbeam</a>\n          </li>\n          <li className=\"py-4 px-6\">\n            <a href=\"/BeamStash\">BeamStash</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function SignUpButton(props) {\n  return (\n    <a\n      href={`/signup${props.redirect}`}\n      tabIndex={3}\n      className=\"px-4 py-1 mx-2 border-box text-sm font-extrabold  border-transparent hover:opacity-75 flex flex-col items-center justify-center\"\n      style={{\n        // background: \"rgb(74, 212, 147)\",\n        width: \"120px\",\n      }}\n    >\n      <div>Sign Up</div>\n    </a>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/icon_full_res.b5311ad1.png\";","import React from 'react'\nimport colors from '../theme/colors'\nimport styled, {keyframes} from 'styled-components'\nexport default function Tooltip(props) {\n    return (\n        <ToolTip className=\"absolute tooltip-container\" style={{\n            bottom: '-50px',\n            // left:0,\n            // right:0\n        }}>\n            <div className=\"px-3 py-2 tooltip text-sm font-semibold\" style={{\n                whiteSpace: 'nowrap',\n                borderRadius: '3px'\n            }}>\n                {props.string}\n            </div>\n        </ToolTip>\n    )\n}\nconst enter = keyframes`\n    from{\n        transform: translateY(-10px);\n        opacity: 0;\n    }\n    to{\n        transform: translateY(0px);\n        opacity: 1;\n    }\n`\nconst ToolTip = styled.div`\ncolor: ${props => props.theme.text};\n    .tooltip{\n        opacity: 0;\n        animation: ${enter} .1s linear forwards;\n        display:none;\n        background: ${props => props.theme.background_1};\n        border: ${props => `1px solid ${props.theme.border}`};\n    }\n    .tooltip-active{\n        display: block;\n    }\n`","import React, { useEffect, useState } from \"react\"\nimport imgbeam from \"../../imgbeam_text_white.png\"\nimport Searchbar from \"../Searchbar\"\nimport Badge from '../Badge'\nimport { useHistory, useLocation } from \"react-router-dom\"\nimport { Link } from \"react-router-dom\"\nimport styled, { keyframes } from \"styled-components\"\nimport AccountMenu from \"./accountmenu/AccountMenu\"\nimport DropDownMenu from \"./DropDownMenu\"\nimport Avatar from \"./Avatar\"\nimport colors from \"../../theme/colors\"\nimport AppMenu from \"./AppMenu\"\nimport SignInButton from \"../SignInButton\"\nimport SignUpButton from \"../SignUpButton\"\nimport icon from '../../icon_full_res.png'\nimport { connect } from \"react-redux\"\nimport {\n  toggleCreatePanel,\n  toggleSidebar,\n} from \"../../state/store/actions/index\"\nimport Tooltip from \"../Tooltip\"\nfunction LoginSignin(props) {\n  const routerLocation = useLocation()\n  let location = routerLocation.pathname\n  let redirect = \"?redirect=\" + window.location.pathname\n  console.log(location)\n\n  return (\n    <div\n      id=\"sign-in-sign-up-container\"\n      className=\" flex flex-row items-center justify-end\"\n      style={{\n        height: \"50px\",\n      }}\n    >\n      <div>\n        <SignInButton></SignInButton>\n      </div>\n      <div>\n        <SignUpButton redirect={redirect}></SignUpButton>\n      </div>\n    </div>\n  )\n}\n\nfunction AccountBar(props) {\n  const history = useHistory()\n  const [accountMenu, toggleAccountMenu] = useState(false)\n  const [helper, toggleHelper] = useState(false)\n  return (\n    <div className=\"flex flex-row items-center justify-end\">\n      <div id=\"notifications-and-alerts\" className=\"\">\n        <OptionButton\n          disabled={props.createPanel}\n          string={\"New Post\"}\n          background\n          icon={`fa-plus`}\n          action={()=> history.push('/new')}\n        ></OptionButton>\n        <OptionButton\n          string={\"Messages\"}\n          icon={`fa-envelope`}\n          // action={}\n        ></OptionButton>\n        <OptionButton\n          string={\"Notifications\"}\n          icon={`fa-bell`}\n          // action={}\n        >\n          <Badge value={props.notifications.length} background={'red'}></Badge>\n        </OptionButton>\n      </div>\n      <div id=\"avatar-container\" className=\"relative\">\n        <Avatar\n          notifications={props.notifications}\n          toggleAccountMenu={toggleAccountMenu}\n          account={props.account}\n        ></Avatar>\n        {accountMenu && (\n          <AccountMenu\n            toggleAccountMenu={toggleAccountMenu}\n            account={props.account}\n          ></AccountMenu>\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction OptionButton(props) {\n  function showToolTip(e){\n    e.currentTarget.querySelector('.tooltip').classList.add('tooltip-active')\n  }\n  function hideToolTip(e){\n    e.currentTarget.querySelector('.tooltip').classList.remove('tooltip-active')\n\n  }\n  return (\n    <OptionButtonRoot background={props.background} disabled={props.disabled} onMouseEnter={e => showToolTip(e)} onMouseLeave={e => hideToolTip(e)} onClick={e => props.action()}>\n      <div>\n        <i className={`fas ${props.icon}`}></i>\n      </div>\n      {props.children}\n      <Tooltip string={props.string}></Tooltip>\n    </OptionButtonRoot>\n  )\n}\nconst OptionButtonRoot = styled.button`\n  transition: all 0.1s linear;\n  margin-right: 12px;\n  position: relative;\n  width: 48px;\n  height: 32px;\n  background: ${props => props.background ? `linear-gradient(to top right, ${props.theme.success}, ${props.theme.tertiary})` : 'transparent'};\n  border-radius: 8px;\n  box-shadow: 0 2px 4px -2px rgba(0,0,0,.4);\n  border: ${props => `1px solid ${props.theme.border}`};\n  color: ${props => props.background ? 'white' : props.theme.icons};\n  opacity: ${props => props.disabled ? .3 : 1};\n  :hover {\n    background-color: ${props => props.theme.background_3};\n  }\n`\n// main export\nfunction Navbar(props) {\n  // dropdown control\n  const [dropDown, toggleDropDown] = useState(false)\n  useEffect(() => {\n    if (dropDown) {\n      window.addEventListener(\"keydown\", dropdownKeys)\n      return\n    }\n    window.removeEventListener(\"keydown\", dropdownKeys)\n  }, [dropDown])\n  function dropdownKeys(e) {\n    console.log(\"keys\")\n  }\n\n  function menuButton(e) {\n    props.toggleSidebar()\n  }\n\n  const brandLink = (\n    <Link\n      to=\"/\"\n      id=\"brand-image-link\"\n      className=\"hidden pr-3 ml-3 relative outline-none focus:outline-none py-1 sm:flex flex-row rounded-lg\"\n    >\n      <div\n        className=\"flex flex-row  logo relative items-center justify-center\"\n        style={{\n          height: \"24px\",\n          borderRadius: \"26px\",\n        }}\n      >\n        <div className=\"mr-2\">\n          <img src={icon} alt=\"\" srcset=\"\" width=\"24\" style={{\n\n          }} />\n        </div>\n        <img\n          src={imgbeam}\n          style={{\n            filter: `${props.theme === 'theme_light' ? 'invert()' : 'none' }`\n          }}\n          alt=\"imgbeam | share your world.\"\n          className=\"h-6 mt-1\"\n        />\n      </div>\n      {props.appMenu && <AppMenu toggleAppMenu={props.toggleAppMenu}></AppMenu>}\n    </Link>\n  )\n\n  return (\n    <NavbarEl\n      className=\" px-6 flex  w-full flex-col items-center justify-center fixed\"\n      style={{\n        zIndex: 999,\n        top: \"0px\",\n      }}\n    >\n      <div id=\"nav-content-wrap\" className=\"w-full  relative mx-auto\">\n        <div\n          id=\"nav-content-top\"\n          className=\"flex flex-row relative justify-between mx-auto\"\n         \n        >\n          <div\n            className=\"flex brand-container flex-row py-1 items-center\"\n            \n          >\n            \n            <BrandButton\n              id=\"nav-apps-button\"\n              className=\"flex flex-row pr-2 items-center justify-center\"\n              style={{}}\n            >\n              <div>{brandLink}</div>\n           \n            </BrandButton>\n          </div>\n\n          <Searchbar></Searchbar>\n\n          <div\n            id=\"nav-or-signup\"\n            className=\"flex flex-row items-center cursor-pointer\"\n            style={{\n              transition: \"all .4s cubic-bezier(0.68, -0.6, 0.32, 1.6)\",\n              minWidth: \"300px\",\n            }}\n          >\n            {props.checkedIn && (\n              <div className=\"w-full\" style={{}}>\n              \n                {props.signedIn ? (\n                  <AccountBar\n                    toggleCreatePanel={props.toggleCreatePanel}\n                    createPanel={props.createPanel}\n                    notifications={props.notifications}\n                    account={props.account}\n                  ></AccountBar>\n                ) : (\n                  <LoginSignin></LoginSignin>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/*  drop down menu from bottom of top navbar row */}\n          {dropDown && <DropDownMenu></DropDownMenu>}\n        </div>\n      </div>\n    </NavbarEl>\n  )\n}\n\nconst NavbarEl = styled.div`\n  height: 64px;\n  border-color: ${props => props.theme.border};\n  border-bottom-width: 1px;\n  transition: all .2s linear;\n  background-color: ${props => props.theme.background_1};\n  @media(min-width: 600px){\n    min-width: 225px;\n  }\n`\n\n\n\nconst BrandButton = styled.button`\n  /* background: ${colors.backgroundLightest}; */\n  .logo {\n    transition: all 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n  }\n  .icon {\n    transition: all 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n  }\n  :hover {\n    background: rgba(170, 170, 170, 0);\n    .icon {\n      transform: scale(0.8);\n      filter: drop-shadow(0 0 4px rgba(0, 0, 0, 0.3));\n      /* text-shadow: 0 0 4px rgba(0,0,0,.4); */\n    }\n    .logo {\n      transform: scale(1.1);\n    }\n  }\n`\nconst press = keyframes`\n  from{\n    opacity: 0;\n    transform: scale(.3);\n  }\n  to{\n\n    opacity: 1;\n    transform: scale(1);\n  }\n`\nconst ActionButton = styled.button`\n  position: relative;\n  transition: all .2s linear;\n  width: 32px;\n  height: 32px;\n  color: ${props => props.theme.icons};\n  border-radius: 8px;\n  background-color: ${props => props.theme.background_2};\n  :hover{\n  background-color: ${props => props.theme.background_3};\n\n  }\n  .animate {\n    :after {\n      content: \"\";\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      opacity: 0;\n      bottom: 0;\n      background: rgba(255, 255, 255, 0.3);\n      border-radius: 100%;\n      animation: ${press} 0.2s linear forwards;\n    }\n  }\n`\nfunction mapStateToProps(state) {\n  return {\n    createPanel: state.app_state_reducer.createPanel,\n    sidebar: state.app_state_reducer.sidebar,\n    account: state.account_reducer.account,\n    signedIn: state.app_state_reducer.signedIn,\n    checkedIn: state.app_state_reducer.checkedIn,\n    theme: state.app_state_reducer.theme,\n    notifications: state.app_state_reducer.notifications\n  }\n}\nconst mapDispatchToProps = {\n  toggleCreatePanel,\n  toggleSidebar,\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar)\n","import React from \"react\"\nimport PropTypes from 'prop-types'\nimport SignInButton from \"./SignInButton\"\nimport styled from 'styled-components'\nexport default function SignInPlaceholder(props) {\n  return (\n    <Placeholder className=\"pt-32 text-center flex flex-col items-center\">\n      <div>\n        <i className={`${props.icon} fa-4x opacity-50`}></i>\n      </div>\n      <div className=\"container mx-auto text-2xl font-bold pt-12 pb-3\">\n        {props.header}\n      </div>\n      <div className=\"signin-box text-sm\">{props.subheader}</div>\n      <div className=\"mt-8 \">\n        <SignInButton></SignInButton>\n      </div>\n    </Placeholder>\n  )\n}\nSignInPlaceholder.propTypes = {\n  icon: PropTypes.string,\n  header: PropTypes.string,\n  subheader: PropTypes.string\n\n}\n\nconst Placeholder = styled.div`\n  color: ${props => props.theme.text};\n`","import React, {useState, useEffect} from 'react'\nimport SignInPlaceholder from '../../SignInPlaceholder'\nexport default function FollowingPage(props) {\n    const [following, setFollow] = useState([])\n    async function onMount(){\n        let url = `/api/account/following`\n        try{\n            let res = await fetch(url,{\n                credentials: 'include'\n            })\n            if(res.status == 200){\n                setFollow(await res.json())\n            }\n        }\n        catch(err){\n\n        }\n    }\n\n    if(props.signedIn) return(\n        <div></div>\n    )\n    else return (\n        <div className=\"text-white\">\n            <SignInPlaceholder header={`Don't miss what your friends are posting`} icon={`fas fa-list`} subheader={`Sign in to see new content from your favorite posters.`}></SignInPlaceholder>\n          \n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/404Gorilla_alt.86d88bf2.svg\";","import React from \"react\"\nimport fallbackImageAlt from \"./404Gorilla_alt.svg\"\nimport {toggleFocusView, setFocusPath} from '../../../state/store/actions/index'\nimport {connect} from 'react-redux'\nimport styled from \"styled-components\"\nfunction ImageContainer(props) {\n  function setFocus(){\n    props.setFocusPath({focusPath: props.string, focusGallery: props.gallery})\n    props.toggleFocusView()\n  }\n  return (\n    <ImageContainerEl onClick={e => setFocus()} className=\"image-panel overflow-hidden w-full mb-6 relative shadow-xl\" style={{\n      cursor: \"zoom-in\",\n    }}>\n      <div className=\"image-vessel bg-black relative\" style={{\n        width:\"100%\",\n        // paddingBottom: `${(props.image.height /props.image.width * 100).toFixed(1)}%`\n      }}>\n        <img\n          className=\"gallery-image mx-auto object-contain\"\n          onError={(e) => {\n            e.target.src = fallbackImageAlt\n            e.target.alt = \"404 Image By Beebsmon\"\n            e.target.style.width = \"200px\"\n          }}\n          src={props.string}\n          alt=\"\"\n          style={{\n            maxWidth:'100%',\n            // width: `${props.image.width}px`,\n            // height: '100%',\n            // objectFit:'contain'\n          }}\n        />\n      </div>\n      {\n        props.image.width > 0 &&\n        <div className=\"image-info opacity-25 p-4\">\n          {props.image.width} x {props.image.height}\n        </div>\n      }\n     \n\n      <DescriptionContainer\n        className=\"\"\n        shown={props.description}\n      >\n        \n        <div className=\"image-description-container text-white p-6\">\n          {props.description}\n        </div>\n      </DescriptionContainer>\n    </ImageContainerEl>\n  )\n}\nconst ImageContainerEl = styled.div`\nborder-radius: 8px;\n  .image-info{\n    background-color: ${props => props.theme.background_3};\n  }\n`\nconst DescriptionContainer = styled.div`\n  display: ${(props) => (props.shown ? \"block\" : \"none\")};\n`\nfunction mapStateToProps(state){\n  return{\n    focusPath: state.app_state_reducer.focusPath\n  }\n}\nconst mapDispatchToProps = {\n  toggleFocusView,\n  setFocusPath\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageContainer)","import React from 'react'\nimport Player from 'react-player'\nimport styled from 'styled-components'\nexport default function VideoContainer(props) {\n    return (\n        <VideoWrapper className=\"mb-2 w-full video-wrapper relative bg-black\" style={{\n            maxHeight: 'calc(100vh - 200px)',\n            width: '100%',\n\n        }}>\n             <video src={props.string} controls muted autoPlay loop style={{\n                 width: '100%',\n                 height: '100%',\n                 objectFit:'contain'\n             }} ></video>\n        </VideoWrapper>\n    )\n}\n\nconst VideoWrapper = styled.div`\n    overflow: hidden;\n    border-radius: 8px;\n    box-shadow: 0 4px 14px -4px rgba(0,0,0,.5);\n    .react-player{\n        outline:none !important;\n        ::active,:focus{\n            outline: none !important;\n            border: none !important;\n        }\n    }\n    .react-player video{\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n        ::active,:focus{\n            outline: none !important;\n            border: none !important;\n        }\n    }\n    .no-outline{\n        outline:none !important;\n        border: none !important;\n        ::active,:focus{\n            outline: none !important;\n            border: none !important;\n        }\n    }\n`","import React, { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport { Link } from \"react-router-dom\"\nimport stc from \"string-to-color\"\nexport default function Tags(props) {\n  useEffect(() => {\n    getTags()\n  }, [])\n  const [tags, setTags] = useState([])\n  async function getTags() {\n    let url = `/api/beam/${props.gallery_id}/tags`\n    try {\n      let res = await fetch(url)\n      let json = await res.json()\n      if (res.status === 200) {\n        setTags(json)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  return (\n    <div id=\"tag-list\" className=\"flex mt-6 mb-4 flex-row justify-start flex-wrap\">\n      {tags.map((tag, indx) => {\n        return (\n          <Link key={`gallery-tags-key-${indx}`} to={`/tag/${tag.name.replace(/ /g, \"_\")}`} className=\"\">\n            <Tag className=\"text-xs bg-opacity-50\" color={`${stc(tag.name)}44`}>#{tag.name}</Tag>\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\nconst Tag = styled.div`\n  cursor: pointer;\n  margin-bottom: 10px;\n  padding: 8px 16px;\n  margin-right: 1rem;\n  display: inline-block;\n  position: relative;\n  border-radius: 8px;\n  white-space: nowrap;\n  background: ${(props) => props.color};\n  text-transform: uppercase;\n  font-weight: bolder;\n  transition: all 0.2s ease-in;\n  :hover {\n    background: ${props => props.theme.background_3};\n  }\n`\n","export default __webpack_public_path__ + \"static/media/triangle_icon.72a6ac80.png\";","import React, { useState, useEffect } from \"react\"\nimport styled, { keyframes } from \"styled-components\"\nimport { Link } from \"react-router-dom\"\nimport icon from \"../../../triangle_icon.png\"\nimport moment from \"moment\"\nexport default function Comment(props) {\n  const [replying, toggleReplying] = useState(false)\n  const [replyString, setReplyString] = useState(\"\")\n  function cancelReply(e) {\n    toggleReplying(false)\n    setReplyString(\"\")\n  }\n  function replyRequest(answer){\n    if(props.signedIn){\n      replyMethod(answer)\n      return\n    }\n    props.toggleSignUpOverlay(true)\n\n  }\n\n  function replyMethod(){\n     // determine if mobile or desktop\n     if(window.innerWidth < 800){\n       console.log('mobile reply')\n      props.setReplyActive(true)\n      console.log('setting active comment')\n      console.log(props.commentObj)\n      props.setActiveComment(props.commentObj)\n      return\n    }\n    toggleReplying(true)\n\n  }\n  useEffect(()=>{\n    getLike()\n  })\n\n \n\n  const [liked, setLiked] = useState(false)\n  async function reply() {\n    let reply_id = props.commentObj.comment_id\n    let reply_message = replyString\n\n    let url = `/api/beam/${props.commentObj.gallery_id}/comment/add?reply_id=${reply_id}`\n    try {\n      let res = await fetch(url, {\n        body: JSON.stringify({\n          comment: reply_message,\n        }),\n        mode: \"cors\",\n        credentials: \"include\",\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      let json = await res.json()\n      console.log(json)\n      if (json.success) {\n        cancelReply()\n        props.refresh()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function like(){\n    let url = `/api/beam/${props.commentObj.gallery_id}/comment/like?comment_id=${props.commentObj.comment_id}`\n    try{\n      let res = await fetch(url, {\n        method: \"POST\"\n      })\n      if(res.status == 200){\n        setLiked(true)\n        getLike()\n        \n      }\n      if(res.status == 401){\n        props.toggleSignUpOverlay(true)\n      }\n      else{\n        getLike()\n      }\n    }\n    catch(err){\n      console.log(err)\n      // getLike()\n    }\n    \n  }\n  async function unlike(){\n    let url = `/api/beam/${props.commentObj.gallery_id}/comment/unlike?comment_id=${props.commentObj.comment_id}`\n    try{\n      let res = await fetch(url, {\n        method: 'POST'\n      })\n      console.log(res)\n      if(res.status == 200){\n        setLiked(false)\n        getLike()\n  \n      }\n      else{\n        getLike()\n      }\n    }\n    catch(err){\n      console.log(err)\n    }\n    \n  }\n  async function getLike(){\n    let url = `/api/beam/${props.commentObj.gallery_id}/comment/like?comment_id=${props.commentObj.comment_id}`\n    try{\n      let res = await fetch(url)\n      if(res.status == 500){\n        console.log('error')\n      }\n      console.log('getlike response')\n      if(res.status == 200){\n        let json = await res.json()\n        if(json.liked){\n          setLiked(true)\n        }\n        if(!json.liked){\n          setLiked(false)\n        }\n      }\n    }\n    catch(err){\n      console.log(err)\n    }\n    \n  }\n  async function deleteComment(){\n    let url = `/api/beam/${props.commentObj.gallery_id}/comment/delete?comment_id=${props.commentObj.comment_id}`\n    try{\n      let res = await fetch(url, {\n        method: \"DELETE\",\n        credentials: 'include'\n      })\n      if(res.status == 200){\n        console.log('comment deleted')\n\n      }\n      else{\n        console.log('comment not deleted')\n      }\n\n    }\n    catch(err){\n      console.log(err)\n    }\n  }\n  if(props.commentObj.username == null){\n    return(\n      <CommentWrapper\n      className=\"pt-6\"\n      id={`gallery-comment-id-${props.commentObj.comment_id}`}\n    >\n      <div className=\"comment-user-info-row flex flex-row text-xs font-bold\">\n          comment deleted by user\n          <span className=\"ml-1\">{moment(props.commentObj.comment_date).fromNow()}</span>\n      </div>\n      <div\n        className=\"\"\n        style={{\n          // marginLeft: \"8px\",\n          // borderLeft: \"1px solid rgba(100,100,100,.3)\",\n        }}\n      >\n        \n       \n        <div className=\"comment-replies ml-6 \">\n          {Object.keys(props.commentObj.replies).map((replyIndex, indx) => {\n            return (\n              <Comment\n                reply\n                key={`comment-reply-${indx}`}\n                owner={props.owner}\n                refresh={props.refresh}\n                commentObj={props.commentObj.replies[replyIndex]}\n              ></Comment>\n            )\n          })}\n        </div>\n      </div>\n      <HorizontalBar className=\"horizontal-bar\"></HorizontalBar>\n    </CommentWrapper>\n    )\n  }\n  else return (\n    <CommentWrapper\n      className=\"pt-6\"\n      id={`gallery-comment-id-${props.commentObj.comment_id}`}\n    >\n      <div className=\"comment-user-info-row flex flex-row\">\n        <div className=\"comment-avatar mr-2\" style={{\n          borderRadius: '100%',\n          overflow: 'hidden'\n        }}>\n          <img src={props.commentObj.avatar_lq} style={{\n            width: '100%',\n            height: '100%',\n            objectFit:'cover',\n\n          }} alt=\"\"/>\n        </div>\n        <div className=\"comment-header flex flex-row justify-between\">\n          <div className=\"flex flex-row items-center\">\n            <span className=\"text-xs font-bold pl-2\">\n            {\n              props.commentObj.username == null ?\n              <div>\n                comment deleted\n              </div>\n              :\n              <Link\n                className=\"text-blue-300\"\n                to={`/user/${props.commentObj.username}`}\n              >\n                <UsernameDisplay\n                  owner={props.owner}\n                  user={props.commentObj.username}\n                >\n                  {props.commentObj.username}\n                  <span>\n                    {props.commentObj.username == props.owner && (\n                      <img\n                        src={icon}\n                        alt=\"\"\n                        className=\"w-2 ml-1 inline-block\"\n                      />\n                    )}\n                  </span>\n                </UsernameDisplay>\n              </Link>\n            }\n              \n            </span>\n            <span className=\"text-xs ml-4 font-bold opacity-75\">{props.commentObj.likes.length + 1} points</span>\n\n            <span className=\"ml-2 text-xs font-bold opacity-75\">\n              &bull; {moment(props.commentObj.comment_date).fromNow()}\n            </span>\n          </div>\n          <div>\n            <span className=\"opacity-75 hover:opacity-100 ml-6\">\n              {props.commentObj.owner ? (\n                <button onClick={e => deleteComment()}>\n                  <i className=\"fas fa-trash\"></i>\n                </button>\n              ) : (\n                <button>\n                  <i className=\"fas fa-flag fa-sm\"></i>\n                </button>\n              )}\n            </span>\n          \n          </div>\n        </div>\n      </div>\n      <div\n        className=\"\"\n        style={{\n          // marginLeft: \"8px\",\n          // borderLeft: \"1px solid rgba(100,100,100,.3)\",\n        }}\n      >\n        <CommentEl\n          owner={props.commentObj.owner}\n          className=\"\"\n          reply={props.reply}\n        >\n          <div className=\"text-sm my-4\">\n            {props.commentObj.message}\n          </div>\n          <div className=\"comment-interactions mt-2 flex items-center flex-row\">\n        \n            <div className=\"like-comment-container\" title=\"like this comment\">\n             \n              {liked ? \n              <button onClick={e => unlike()}>\n              <i className=\"fas fa-heart\"></i>\n              </button> \n              : \n              <button onClick={e => like()}>\n              <i className=\"far fa-heart\"></i>\n              </button>}\n            </div>\n           \n            \n              <div className=\"comment-reply-button ml-4\">\n              <button onClick={(e) => replyRequest(true)}>\n                <i className=\"fas fa-reply \"></i>\n              </button>\n            </div>\n          </div>\n        </CommentEl>\n        <ReplyContainer\n          active={replying}\n          className=\"reply-container ml-6 pl-4 border-l-2 border-blue-700\"\n        >\n          <div className=\"reply-control flex flex-row justify-between\">\n            <div>\n              <span className=\"text-xs opacity-75 font-bold\">\n                Replying to {props.commentObj.username}\n              </span>\n            </div>\n            <div>\n              <span>\n                <button onClick={(e) => cancelReply(e)}>\n                  <i className=\"fas fa-times\"></i>\n                </button>\n              </span>\n            </div>\n          </div>\n          <div className=\" flex flex-col sm:flex-row justify-between text-white mt-3\">\n            <input\n              value={replyString}\n              onChange={(e) => setReplyString(e.target.value)}\n              type=\"text\"\n              placeholder=\"Reply to this comment....\"\n              className=\"self-stretch inline-block\"\n            />\n            <button\n              className=\"rounded-md text-black font-bold bg-green-400 py-1 px-2 text-xs sm:text-sm sm:px-4 sm:py-2 self-end\"\n              onClick={(e) => reply()}\n            >\n              Reply\n            </button>\n          </div>\n        </ReplyContainer>\n        <div className=\"comment-replies ml-6 \">\n          {Object.keys(props.commentObj.replies).map((replyIndex, indx) => {\n            return (\n              <Comment\n                reply\n                key={`comment-reply-${indx}`}\n                owner={props.owner}\n                refresh={props.refresh}\n                commentObj={props.commentObj.replies[replyIndex]}\n                setActiveComment={props.setActiveComment}\n                setReplyActive={props.setReplyActive}\n                signedIn={props.signedIn}\n                toggleSignUpOverlay={props.toggleSignUpOverlay}\n              ></Comment>\n            )\n          })}\n        </div>\n      </div>\n      <HorizontalBar className=\"horizontal-bar\"></HorizontalBar>\n    </CommentWrapper>\n  )\n}\nconst CommentEl = styled.div`\n  margin-bottom: 1.4rem;\n  \n`\n\nconst enter = keyframes`\n  from{\n    opacity:0;\n    height: 0;\n    transform: translateY(-30px);\n  }\n  to{\n    opacity:1;\n    height: auto;\n    transform: translateY(0);\n  }\n`\nconst ReplyContainer = styled.div`\n  margin-top: 12px;\n  margin-bottom: 24px;\n  background: rgba(0, 0, 0, 0.4);\n  border-radius: 12px;\n  padding: 12px 16px;\n  animation: ${enter} 0.3s forwards;\n  display: ${(props) => (!props.active ? \"none\" : \"block\")};\n\n  input {\n    background: transparent;\n    outline: none;\n    border: none;\n  }\n`\nconst UsernameDisplay = styled.div`\n  color: ${(props) => (props.owner == props.user ? props.theme.success : props.theme.secondary)};\n`\nconst HorizontalBar = styled.div`\n  width: 100%;\n  height: 1px;\n  background: #373737;\n`\nconst CommentWrapper = styled.div`\n  .comment-avatar{\n    width: 32px;\n    height:32px;\n    box-shadow: 2px 2px 4px rgba(0,0,0,.4);\n  }\n\n`","import React, {useEffect} from \"react\"\nimport styled, {keyframes} from \"styled-components\"\nexport default function MobileCommentReply(props) {\n    useEffect(()=>{\n        console.log(props)\n    },[])\n\n    if(!props){\n        return(\n            <div></div>\n        )\n    }\n  else return (\n    <Container active={props.active} className=\"fixed top-0 bottom-0 right-0 left-0 block md:hidden\">\n      <div className=\"overlay fixed top-0 bottom-0 left-0 right-0 bg-black opacity-50\"></div>\n      \n      <Popup active={props.active} className=\"bg-black\">\n        <div>\n            <div className=\"top-control\">\n                <button onClick={e => props.setReplyActive(false)}>close</button>\n            </div>\n          <h3 className=\"text-white\">{props.comment.message}</h3>\n        </div>\n      </Popup>\n    </Container>\n  )\n}\nconst enter = keyframes`\n    from{\n        bottom: -100vh;\n    }\n    to{\n        bottom: 0%\n    }\n`\nconst Popup = styled.div`\n  position: fixed;\n  height: 90vh;\n  width: 100%;\n  left: 0;\n  z-index: 9999;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  /* bottom: ${(props) => (props.active ? \"0%\" : \"-100vh\")}; */\n  transition: all 1s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n  animation: ${enter} .3s cubic-bezier(0.68, -0.6, 0.32, 1.6) forwards;\n`\nconst Container = styled.div`\n  display: ${(props) => (props.active ? \"block\" : \"none\")};\n`\n","import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport moment from \"moment\"\nimport {connect} from 'react-redux'\nimport Comment from \"./Comment\"\nimport {Hr} from '../../Sidebar'\nimport MobileCommentReply from \"./MobileCommentReply\"\nimport colors from \"../../../theme/colors\"\nfunction Comments(props) {\n  const [comments, setComments] = useState({})\n  const [count, setCount] = useState(0)\n  const [replyActive, toggleReplyActive] = useState(false)\n  const [activeComment, setActiveComment] = useState({})\n  // get comments\n  useEffect(() => {\n    getComments()\n  }, [])\n\n  // mobile comment reply\n  function setNewActiveComment(comment) {\n    // let indexArray = comments.map(comment => comment.comment_id)\n    // let index = indexArray.indexOf(comment_id)\n    // let comment = comments[index]\n    setActiveComment(comment)\n  }\n  function setReplyActive(bool) {\n    toggleReplyActive(bool)\n  }\n\n  // get time for dates\n  let newDate = new moment()\n  async function getComments() {\n    // console.log(\"getting comments\")\n    try {\n      let url = `/api/beam/${props.gallery_id}/comments`\n      let res = await fetch(url)\n      let json = await res.json()\n      if (json.success) {\n        // console.log(json)\n        setComments(json.comments)\n        setCount(json.count)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // creating new comments\n  const [newComment, setNewComment] = useState(\"\")\n  function changeNewComment(e) {\n    if (newComment.length < 240) {\n      setNewComment(e.target.value)\n    }\n  }\n  // posting as the owner\n\n  async function submitComment(e) {\n    e.preventDefault()\n    let url = `/api/beam/${props.gallery_id}/comment/add`\n    try {\n      let res = await fetch(url, {\n        body: JSON.stringify({\n          comment: newComment,\n        }),\n        mode: \"cors\",\n        credentials: \"include\",\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      let json = await res.json()\n      // console.log(json)\n      if (json.success) {\n        resetCommentForm()\n        getComments()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  function resetCommentForm() {\n    setNewComment(\"\")\n  }\n  // sorting\n  const [sortMenu, toggleSortMenu] = useState(false)\n  const [sortBy, setSortBy] = useState(\"new\")\n  const [sorted, setSorted] = useState([])\n  useEffect(() => {\n    // sort on comment change\n    console.log(\"RUNNING SORT\")\n    if (comments.length == 0) return\n    if (sortBy == \"new\") {\n      sortNew(comments)\n    }\n    if (sortBy == \"old\") {\n      sortOld(comments)\n    }\n    if (sortBy == \"top\") {\n      sortTop(comments)\n    }\n  }, [comments, sortBy])\n  const sorts = [\"top\", \"new\", \"old\"]\n  function sortNew(comments) {\n    let array = Object.values(comments)\n    let sorted = array.sort(\n      (a, b) => new Date(b.comment_date) - new Date(a.comment_date)\n    )\n    console.log(sorted)\n\n    setSorted(sorted)\n  }\n  function sortOld(comments) {\n    let array = Object.values(comments)\n    let sorted = array.sort(\n      (a, b) => new Date(a.comment_date) - new Date(b.comment_date)\n    )\n    console.log(sorted)\n\n    setSorted(sorted)\n  }\n  function sortTop(comments) {\n    let array = Object.values(comments)\n    let sorted = array.sort((a, b) => b.score - a.score)\n    console.log(sorted)\n\n    setSorted(sorted)\n  }\n\n  return (\n    <div className=\"mt-8 text-left mb-24\" id=\"comments\">\n      <div id=\"add-comment-container\">\n        <Form\n          onSubmit={(e) => submitComment(e)}\n          className=\"flex flex-col mb-4 relative\"\n          style={{\n            borderRadius: \"8px\",\n          }}\n        >\n          {/* conditional to only allow commenting when logged in */}\n          {props.signedIn ? (\n            <div className=\"flex flex-col relative\">\n              <label\n                htmlFor=\"comment-input\"\n                className=\"text-sm font-bold opacity-50\"\n              >\n                Add Comment\n              </label>\n              <InputArea\n                onChange={(e) => changeNewComment(e)}\n                value={newComment}\n                name=\"new-comment\"\n                id=\"comment-input\"\n                rows=\"4\"\n                className=\"\"\n              ></InputArea>\n              <Hr></Hr>\n              <span className=\"text-xs mt-2 font-bold opacity-25\">\n                {newComment.length} / 240\n              </span>\n              <br />\n              <div\n                id=\"comment-fairness\"\n                className=\"text-xs py-2 px-4 opacity-50 absolute bottom-0 left-0\"\n              >\n                Keep it fun and fair!\n              </div>\n              <Submit\n                active={newComment.replace(/\\.[^/.]+$/, \"\").length > 0}\n                disabled={newComment.replace(/\\.[^/.]+$/, \"\").length == 0}\n                type=\"submit\"\n                value=\"Post\"\n                className=\"font-bold\"\n              />\n            </div>\n          ) : (\n            <div>\n              <a className=\"font-bold hover:text-green-400\" href=\"/login\">\n                Log in\n              </a>{\" \"}\n              or{\" \"}\n              <a className=\"font-bold hover:text-green-400\" href=\"/signup\">\n                sign up\n              </a>{\" \"}\n              to leave a comment.\n            </div>\n          )}\n        </Form>\n      </div>\n      <div id=\"comment-list\" className=\"\">\n        {\n            count > 0 &&\n          <div className=\"flex flex-row justify-between\">\n            <div className=\"my-4 font-bold\">{count} comments</div>\n            <div id=\"comments-sort-by\" className=\"my-4 flex flex-row\">\n              {/* <h3>Sort By</h3> */}\n              <div className=\"ml-3 relative\">\n                <button\n                  className=\"outline-none focus:outline-none\"\n                  onClick={(e) => toggleSortMenu(!sortMenu)}\n                >\n                  <div className=\"inline-block font-bold mr-2\">{sortBy}</div>\n                  <i className=\"fas fa-sort-down\"></i>\n                </button>\n                {sortMenu && (\n                  <SortMenu\n                    setSortBy={setSortBy}\n                    sortBy={sortBy}\n                    sorts={sorts}\n                    toggleMenu={toggleSortMenu}\n                  ></SortMenu>\n                )}\n              </div>\n            </div>\n          </div>\n        }\n\n        <Hr></Hr>\n\n        {sorted.map((comment, index) => {\n          if (comment.reply_id == null) {\n            return (\n              <Comment\n                setActiveComment={setNewActiveComment}\n                setReplyActive={setReplyActive}\n                key={`root-comment-${index}`}\n                owner={props.owner}\n                refresh={getComments}\n                commentObj={comment}\n                signedIn={props.signedIn}\n                toggleSignUpOverlay={props.toggleSignUpOverlay}\n              ></Comment>\n            )\n          }\n        })}\n        {/* if no comments, display this */}\n        {sorted.length === 0 && (\n          <div className=\"text-center text-2xl py-6 opacity-75 font-bold\">\n            Be the first to comment!\n          </div>\n        )}\n      </div>\n      <MobileCommentReply\n        setReplyActive={setReplyActive}\n        active={replyActive}\n        comment={activeComment}\n      ></MobileCommentReply>\n    </div>\n  )\n}\n\nfunction SortMenu(props) {\n  return (\n    <div className=\"absolute text-left right-0\">\n      <div\n        className=\"overlay fixed top-0 bottom-0 left-0 right-0 opacity-0 z-0\"\n        onClick={(e) => props.toggleMenu(false)}\n      ></div>\n      <ul\n        className=\"relative z-20\"\n        style={{\n          minWidth: \"140px\",\n          top: \"100%\",\n        }}\n      >\n        {props.sorts.map((sortString) => {\n          return (\n            <li\n              className=\"px-4 py-3 w-full hover:bg-gray-400 text-left\"\n              style={{\n                color: `${props.sortBy === sortString ? \"green\" : \"black\"}`,\n              }}\n            >\n              <button\n                onClick={(e) => {\n                  props.setSortBy(sortString)\n                  props.toggleMenu(false)\n                }}\n                className=\"w-full font-extrabold text-sm text-left\"\n              >\n                {sortString}\n              </button>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n  )\n}\nfunction mapStateToProps(state){\n\n}\nexport default connect(mapStateToProps)(Comments)\n\nconst Form = styled.form`\n  /* background: #373737; */\n  background: ${props => props.theme.background_3};\n  padding: 1.4rem 1rem;\n  border: 1px solid rgba(100, 100, 100, 0.3);\n`\nconst InputArea = styled.textarea`\n  padding-top: 1rem;\n  resize: none;\n  background: transparent;\n  outline: none;\n  border: none;\n  width: 100%;\n`\nconst Submit = styled.input`\n  background: ${(props) =>\n    props.active ? colors.success : colors.backgroundLight};\n  padding: 8px 16px;\n  color: white;\n  align-self: flex-end;\n  border-radius: 8px;\n`\n","import React from 'react'\nimport styled from 'styled-components'\nexport default function SocialLink(props) {\n    return (\n        <Root onClick={e => props.action()} background={props.background} className=\"px-6\">\n            <div className=\"mr-3\">\n                <i className={`fab ${props.icon}`}></i>\n            </div>\n            <div>\n                {props.string}\n            </div>\n            <div></div>\n        </Root>\n    )\n}\nconst Root = styled.button`\n    display: flex;\n    flex-direction: row;\n    background-color: ${props => props.background};\n    color: white;\n    padding: 6px 16px;\n    border-radius: 8px;\n    margin-right: 12px;\n    \n`","import React, { useEffect } from \"react\"\nimport { toast } from \"react-toastify\"\nimport SocialLink from \"../../SocialLink\"\nimport styled, {keyframes} from \"styled-components\"\nexport default function ShareComponent(props) {\n  useEffect(() => {\n    document.body.classList.add(\"noscroll\")\n    return () => {\n      document.body.classList.remove(\"noscroll\")\n    }\n  }, [])\n  function copyLink(e) {\n    e.preventDefault()\n    let url = window.location.href\n    let node = document.createElement(\"input\")\n    document.body.appendChild(node)\n    node.value = url\n    node.select()\n    document.execCommand(\"copy\")\n    toast(\"Link copied to clipboard.\", {\n      position: \"bottom-right\",\n    })\n    document.body.removeChild(node)\n  }\n  function generateEmbedCode() {}\n  function embedMarkup() {\n    return <iframe src={`${window.location.href}`} frameborder=\"0\"></iframe>\n  }\n\n  function facebook() {\n    let url = `https://www.facebook.com/sharer/sharer.php?u=${window.location.href}`\n    window.open(url, \"_blank\")\n  }\n  function twitter() {\n    let url = `https://twitter.com/share?text=${props.gallery.title}&url=${window.location.href}`\n    window.open(url, \"TwitterWindow\", \"width=600,height=900\")\n  }\n  function reddit() {\n    let url = `https://www.reddit.com/submit?url=${window.location.href}`\n    window.open(url, \"__blank\")\n  }\n  console.log(props)\n  return (\n    <ShareView\n      id=\"share-section\"\n      className=\"fixed flex flex-col items-center justify-center top-0 bottom-0 left-0 right-0\"\n      style={{\n        zIndex: 1000,\n      }}\n    >\n      <div\n        className=\"overlay cursor-pointer fixed top-0 left-0 right-0 bottom-0 z-10\"\n        onClick={(e) => props.toggleShare(false)}\n      ></div>\n      <div className=\"overlay cursor-pointer pointer-events-none fixed top-0 left-0 right-0 bottom-0 z-0\"></div>\n      <Panel>\n        <SocialLink\n          action={twitter}\n          background={\"rgb(29, 161, 242)\"}\n          string={\"twitter\"}\n          icon={\"fa-twitter\"}\n        ></SocialLink>\n        <SocialLink\n          action={reddit}\n          background={\"#FF5700\"}\n          string={\"reddit\"}\n          icon={\"fa-reddit\"}\n        ></SocialLink>\n        <SocialLink\n          action={facebook}\n          background={\"#3b5998\"}\n          string={\"facebook\"}\n          icon={\"fa-facebook\"}\n        ></SocialLink>\n      </Panel>\n    </ShareView>\n  )\n}\nconst enter = keyframes`\n  from {\n    opacity:0;\n  }\n  to{\n    opacity: 1;\n  }\n`\nconst ShareView = styled.div`\n  opacity: 0;\n  transition: all .2s linear;\n  animation: ${enter} .2s linear forwards;\n  .overlay {\n    background: rgba(0, 0, 0, 0.6);\n  }\n`\nconst Panel = styled.div`\n  background-color: ${(props) => props.theme.background_1};\n  z-index: 99;\n  position: relative;\n  color: ${(props) => props.theme.text};\n  border-radius: 8px;\n`\n","import React, { useState, useEffect } from \"react\"\nimport styled, {keyframes} from 'styled-components'\nexport default function UnfollowAlert(props) {\n  return (\n    <Alert\n      id=\"unfollow-alert\"\n      className=\"fixed top-0 h-screen w-full right-0 left-0 flex flex-col justify-center items-center\"\n      style={{\n        zIndex: 9999,\n      }}\n    >\n      <div\n        onClick={e=>props.cancel(false)}\n        className=\"overlay fixed w-full top-0 bottom-0 right-0 left-0\"\n        style={{\n          background: \"rgba(0,0,0,.8)\",\n        }}\n      ></div>\n      <div\n        className=\"relative text-white\"\n        style={{\n          width: \"250px\",\n          background: \"#373737\",\n        }}\n      >\n        <div className=\"mx-6 my-5 text-sm opacity-75\">\n          You are about to unfollow {props.username}\n        </div>\n        <hr className=\"opacity-25\" />\n        <div className=\"my-4 text-sm\">\n          <button\n            className=\"text-gray-500 mr-12 font-bold\"\n            onClick={(e) => props.cancel(false)}\n          >\n            Cancel\n          </button>\n          <button className=\"text-red-600 font-bold\" onClick={(e) => props.unfollow()}>\n            Unfollow\n          </button>\n        </div>\n      </div>\n    </Alert>\n  )\n}\nconst fadein = keyframes`\n    from{\n        opacity:0\n    }\n    to{\n        opacity: 1\n    }\n`\nconst Alert = styled.div`\n    opacity: 0;\n    animation: ${fadein} .1s linear forwards;\n`","import React, { useState } from \"react\"\nimport colors from '../../../theme/colors'\nimport styled from 'styled-components'\nexport default function ReportOverlay(props) {\n  async function sendReport(gallery_id) {\n      let url = `/api/beam/${gallery_id}/report`\n      try{\n        let res = await fetch(url, {\n            credentials: 'include',\n            method: 'POST',\n            headers: {\n                \"Content-Type\": 'application/json'\n            },\n            body: JSON.stringify({\n                reason: reason\n            })\n        })\n        console.log(res.status)\n      }\n      catch(err){\n          console.log(err)\n      }\n     \n  }\n  const [reason, setReason] = useState(\"\")\n  return (\n    <div\n      className=\"fixed top-0 bottom-0 left-0 right-0 flex flex-col items-center justify-center\"\n      style={{\n        zIndex: 999,\n      }}\n    >\n      <div\n        className=\"overlay fixed bg-black top-0 left-0 right-0 bottom-0 z-0\"\n        style={{\n          opacity: 0.75,\n        }}\n      ></div>\n      <div\n        className=\"panel text-white z-50\"\n        style={{\n          background: \"rgba(60,60,60,1)\",\n          borderRadius: \"26px\",\n        }}\n      >\n        <div className=\"py-2\" style={{\n            borderTopLeftRadius: '26px',\n            borderTopRightRadius: '26px',\n            background: `${colors.backgroundLight}`\n        }}>\n          <h3 className=\"text-lg font-bold\">Report Post</h3>\n          <p className=\"text-sm \">\"{props.gallery.title}\"</p>\n        </div>\n        <div id=\"report-content\" className=\"px-6 py-8 flex flex-col \">\n          <Select\n            defaultValue={\"\"}\n            name=\"report-reason-select\"\n            id=\"report-reason\"\n            onChange={(e) => setReason(e.target.value)}\n            value={reason}\n            className=\"outline-none focus:outline-none px-8\"\n          >\n            <option value=\"Adult/Pornographic Content\">\n              Adult/Pornographic Content\n            </option>\n            <option value=\"Spam, Scam, Advertising\">\n              Spam, Scam, Advertising\n            </option>\n            <option value=\"Hate Speech, Discrimination, Illegal Content\">\n              Hate Speech, Discrimination, Illegal Content\n            </option>\n            <option value=\"Other\">Other</option>\n            {reason === \"Other\" && (\n              <div id=\"report-other-reason\">\n                <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\n              </div>\n            )}\n       \n          </Select>\n          <button onClick={e => sendReport(props.gallery.gallery_id)} className=\"py-4 px-8 mt-8  text-xs font-bold text-white\" style={{\n                background: `${colors.error}`,\n                borderRadius: '26px',\n                whiteSpace: 'nowrap'\n            }}>Send Report</button>\n        </div>\n      </div>\n    </div>\n  )\n}\nconst Select = styled.select`\n    background: ${colors.backgroundLight};\n    padding: 6px 10px;\n`","import React, { useEffect, useState } from \"react\"\nimport ImageContainer from \"./ImageContainer\"\nimport { Redirect, useHistory, Link } from \"react-router-dom\"\nimport styled, { keyframes } from \"styled-components\"\nimport ImageFocus from \"./ImageFocus\"\nimport { Hr } from \"../../Sidebar\"\nimport Badge from \"../../Badge\"\nimport VideoContainer from \"./VideoContainer\"\nimport Tags from \"./Tags\"\nimport colors from \"../../../theme/colors\"\nimport Comments from \"./Comments\"\nimport moment from \"moment\"\nimport MoonLoader from \"react-spinners/MoonLoader\"\nimport ShareComponent from \"./ShareComponent\"\nimport UnfollowAlert from \"../../UnfollowAlert\"\nimport { Helmet } from \"react-helmet\"\nimport ReportView from \"./ReportOverlay\"\nimport { ToastContainer, toast } from \"react-toastify\"\nimport cookie from \"js-cookie\"\nimport parseViews from \"../../parseViews\"\nimport { connect } from \"react-redux\"\nimport { toggleSignUpOverlay } from \"../../../state/store/actions/index\"\nimport \"react-toastify/dist/ReactToastify.css\"\nfunction GalleryPage(props) {\n  const [error, setError] = useState(false)\n  const [data, setData] = useState(null)\n  const [recieved, setRecieved] = useState(false)\n  const [user, setUser] = useState(null)\n  const [report, toggleReport] = useState(false)\n  const [favorites, setFavorites] = useState(0)\n  const [share, toggleShare] = useState(false)\n  useEffect(() => {\n    fetchData()\n    checkIfFavorited()\n    getVote()\n    getFavorites()\n  }, [])\n  function setCookie() {\n    // set view limiter\n    cookie.set(props.match.params.gallery_id, \"\", {\n      expires: 0.5,\n    })\n\n    // set recent list\n    let recent = cookie.get(\"recent\")\n    let recentStringArray = []\n    if (recent) {\n      recentStringArray = [...JSON.parse(recent)]\n      console.log(recentStringArray)\n    }\n    if (!recentStringArray.includes(props.match.params.gallery_id)) {\n      recentStringArray.push(props.match.params.gallery_id)\n    }\n    if (recentStringArray.length > 100) {\n      let difference = recentStringArray.length - 100\n      for (let i = 0; i < difference; i++) {\n        recentStringArray.shift()\n      }\n      recentStringArray.slice()\n    }\n    cookie.set(\"recent\", JSON.stringify(recentStringArray))\n  }\n\n  async function fetchData() {\n    console.log(\"requesting gallery\")\n    try {\n      let res = await fetch(`/api/beam/${props.match.params.gallery_id}`, {\n        credentials: \"include\",\n      })\n      if (res.status == 200) {\n        let json = await res.json()\n        console.log(json)\n        setError(false)\n        receiveData(json)\n        setRecieved(true)\n        getUser(json.username)\n        setCookie()\n      } else {\n        console.log(res.status)\n        setError(true)\n      }\n    } catch (err) {\n      console.log(err)\n      setError(true)\n    }\n  }\n  async function getFavorites() {\n    let url = `/api/beam/${props.match.params.gallery_id}/favoritescount`\n    try {\n      let res = await fetch(url)\n      if (res.status == 200) {\n        let json = await res.json()\n        console.log(json)\n        setFavorites(json)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  // for setting arrangemenet and other client-side view settings\n  function receiveData(json_data) {\n    // check ownership\n    setData(json_data)\n  }\n  // get user data (inc avatar)\n  useEffect(() => {\n    if (data?.username) {\n      getUser(data.username)\n    }\n  }, [data])\n  async function getUser(username) {\n    let url = `/api/user/${username}`\n    try {\n      let res = await fetch(url)\n      let json = await res.json()\n      setUser(json)\n      // console.log(json)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // votes\n  const [voted, setVoted] = useState(false)\n  const [voteType, setVoteType] = useState(false)\n  async function getVote() {\n    let url = `/api/beam/${props.match.params.gallery_id}/vote`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"get\",\n      })\n      if (res.status == 500) {\n        return\n      }\n      let json = await res.json()\n      if (json.voted) {\n        console.log(json)\n        setVoted(true)\n        setVoteType(json.type)\n        fetchData()\n      } else {\n        setVoted(false)\n        fetchData()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function upvote() {\n    if (voteType && voted) {\n      deleteVote()\n      return\n    }\n    let url = `/api/beam/${props.match.params.gallery_id}/upvote`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"post\",\n      })\n      console.log(res.status)\n      if (res.status == 401) {\n        props.toggleSignUpOverlay(true)\n      }\n      getVote()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function downvote() {\n    if (!voteType && voted) {\n      deleteVote()\n      return\n    }\n    let url = `/api/beam/${props.match.params.gallery_id}/downvote`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"post\",\n      })\n      console.log(res.status)\n      if (res.status == 401) {\n        props.toggleSignUpOverlay(true)\n      }\n      getVote()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function deleteVote() {\n    let url = `/api/beam/${props.match.params.gallery_id}/vote`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"delete\",\n      })\n      console.log(res.status)\n      if (res.status == 401) {\n        props.toggleSignUpOverlay(true)\n      }\n      getVote()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const [focused, setFocused] = useState(false)\n  const [showOverlay, setShowOverlay] = useState(false)\n  // focus image on click\n  function focusImage(image) {\n    if (window.innerWidth > 600) {\n      setFocused(image)\n      setShowOverlay(true)\n    }\n  }\n  function closeFocus() {\n    console.log(\"closing focus\")\n    setShowOverlay(false)\n  }\n\n  // gallery menu\n  const [menu, setMenu] = useState(false)\n\n  // follows\n  const [following, setFollowing] = useState(false)\n  const [unfollowAlert, toggleUnfollowAlert] = useState(false)\n  function unfollow(e) {\n    toggleUnfollowAlert(true)\n  }\n  async function follow() {\n    toggleUnfollowAlert(false)\n    let url = `/api/user/${data.username}/follow`\n    try {\n      let res = await fetch(url, {\n        method: \"post\",\n        credentials: \"include\",\n      })\n      if (res.status == 401) {\n        console.log(\"Unauthorized\")\n        props.toggleSignUpOverlay()\n        return\n      }\n      if (res.status == 200) {\n        let json = await res.json()\n        console.log(json)\n        setFollowing(json)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  // get follow status\n  async function getFollowing() {\n    console.log(\"fetching follow status\")\n    try {\n      let url = `/api/user/${data.username}/following`\n      let res = await fetch(url, {\n        credentials: \"include\",\n      })\n      if (res.status == 200) {\n        let json = await res.json()\n        setFollowing(json)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  useEffect(() => {\n    if (data) {\n      getFollowing()\n    }\n  }, [data])\n  const [signInAlert, setSignInAlert] = useState(false)\n\n  // anchors\n  function navigateToComments() {\n    console.log(\"sdsds\")\n    document.getElementById(\"comments-wrapper\").scrollIntoView()\n  }\n\n  // favorite\n  const [favorited, setFavorited] = useState(false)\n\n  async function favorite() {\n    console.log(\"favoriting\")\n    let url = `/api/beam/${props.match.params.gallery_id}/favorite`\n    try {\n      let res = await fetch(url, {\n        method: \"POST\",\n      })\n      if (res.status == 200) {\n        toast(\n          `${favorited ? \"Removed from favorites\" : \"Added to favorites!\"}`,\n          {\n            position: \"bottom-right\",\n            hideProgressBar: true,\n            autoClose: 1000,\n          }\n        )\n      }\n      if (res.status == 401) {\n        props.toggleSignUpOverlay()\n      }\n      checkIfFavorited()\n      getFavorites()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function checkIfFavorited() {\n    let url = `/api/beam/${props.match.params.gallery_id}/favorite`\n    try {\n      let res = await fetch(url)\n      if (res.status == 200) {\n        setFavorited(true)\n        return\n      }\n      if (res.status == 401) {\n        setFavorited(false)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // RENDER\n  if (error) {\n    return <div className=\"text-white font-bold mt-24\">error</div>\n  } else if (!data) {\n    return (\n      <div\n        className=\"w-full pt-24 flex flex-col justify-center items-center mx-auto\"\n        style={{\n          zIndex: 99,\n        }}\n      >\n        <MoonLoader size={20} color=\"white\"></MoonLoader>\n      </div>\n    )\n  } else\n    return (\n      <Root\n        className=\"relative  pt-12\"\n        id=\"gallery-page\"\n        style={{\n          zIndex: 99,\n        }}\n      >\n        {/* META TAGS FOR GALLERY SPECIFIC INFORMATION */}\n        <Helmet>\n          <meta charset=\"utf-8\" />\n          <title>{`${data.title} - ImgBeam, Capital of Memeland`}</title>\n          <meta name=\"description\" content={`${data.description}`} />\n          <meta name=\"image\" content={data.images[0].path} />\n          {/* <!-- Schema.org for Google --> */}\n          <meta\n            itemprop=\"name\"\n            content={`${data.title} - ImgBeam, Capital of Memeland`}\n          />\n          <meta itemprop=\"description\" content={`${data.description}`} />\n          <meta itemprop=\"image\" content={data.images[0].path} />\n          {/* <!-- Twitter --> */}\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta\n            name=\"twitter:title\"\n            content={`${data.title} - ImgBeam, Capital of Memeland`}\n          />\n          <meta name=\"twitter:description\" content={`${data.description}`} />\n          <meta name=\"twitter:image:src\" content={data.images[0].path} />\n          {/* <!-- Open Graph general (Facebook, Pinterest & Google+) --> */}\n          <meta\n            name=\"og:title\"\n            content={`${data.title} - ImgBeam, Capital of Memeland`}\n          />\n          <meta name=\"og:description\" content={`${data.description}`} />\n          <meta name=\"og:image\" content={data.images[0].path} />\n          <meta name=\"og:type\" content=\"website\" />\n        </Helmet>\n        <ToastContainer></ToastContainer>\n        {/* unfollow alert */}\n        {unfollowAlert && (\n          <UnfollowAlert\n            username={data.username}\n            cancel={toggleUnfollowAlert}\n            unfollow={follow}\n          ></UnfollowAlert>\n        )}\n        {/* right sticky controls */}\n        <div\n          className=\"absolute h-full z-50  top-0\"\n          style={{\n            paddingTop: \"64px\",\n            right: \"32px\",\n          }}\n        >\n          <GalleryControls\n            toggleShare={toggleShare}\n            data={data}\n          ></GalleryControls>\n        </div>\n        <GalleryPageElement\n          id=\"app-gallery\"\n          className=\"container mx-auto text-left  justify-center  flex flex-col relative\"\n        >\n          {/* focused image overlay */}\n          {showOverlay && (\n            <ImageFocus\n              image={focused}\n              gallery_id={props.match.params.gallery_id}\n              closeFocus={closeFocus}\n            ></ImageFocus>\n          )}\n\n          <div\n            id=\"content-wrap\"\n            className=\"relative flex flex-1 mx-auto container flex-col \"\n            style={{\n              maxWidth: \"780px\",\n            }}\n          >\n            <div\n              id=\"info-wrap\"\n              className=\"mx-auto\"\n              style={{\n                width: \"100%\",\n              }}\n            >\n              <div className=\"title-wrap mb-4\">\n                <div className=\" title\" style={{}}>\n                  {data.title}\n                </div>\n              </div>\n              <div\n                className=\"flex flex-row\"\n                style={{\n                  height: \"48px\",\n                }}\n              >\n                <div className=\"left flex flex-row flex-1 items-center\">\n                  <div\n                    className=\"avatar-wrap h-full mr-2\"\n                    style={{\n                      borderRadius: \"100%\",\n                      overflow: \"hidden\",\n                      width: \"38px\",\n                      height: \"38px\",\n                      boxShadow: '2px 2px 4px -2px rgba(0,0,0,.6)'\n                    }}\n                  >\n                    <Link to={`/user/${data.username}`}>\n                      <img\n                        src={data.avatar_lq}\n                        style={{\n                          width: \"100%\",\n                          height: \"100%\",\n                          objectFit: \"cover\",\n                        }}\n                        alt=\"\"\n                      />\n                    </Link>\n                  </div>\n                  <div>\n                    <div className=\"flex flex-row items-center text-sm\">\n                      <Link to={`/user/${data.username}`}>\n                        <div className=\"mr-2 username\">{data.username}</div>\n                      </Link>\n                    </div>\n                    <div className=\"views-and-time\">{data.views} views</div>\n                  </div>\n                  <div className=\"ml-4\">\n                    <FollowButton\n                      id=\"follow-button\"\n                      followed={following}\n                      onClick={(e) => follow()}\n                    >\n                      {following ? \"Following\" : \"Follow\"}\n                    </FollowButton>\n                  </div>\n                </div>\n                <div className=\"right flex flex-row items-center\">\n                  <div className=\"mr-4\">\n                    <Interaction\n                      active={favorited}\n                      onClick={(e) => favorite()}\n                      className=\"flex flex-row items-center\"\n                    >\n                      <i\n                        className={`${\n                          favorited ? \"fas\" : \"far\"\n                        } fa-heart block`}\n                      ></i>\n                      {}\n                      <div className=\"fav-text ml-2\">\n                        {favorited ? favorites : \"Favorite\"}\n                      </div>\n                    </Interaction>\n                  </div>\n                  <div\n                    className=\"flex flex-row justify-end\"\n                    style={\n                      {\n                        // minWidth: '100px'\n                      }\n                    }\n                  >\n                    {(!voted || (voted && voteType)) && (\n                      <Interaction\n                        active={voted && voteType}\n                        onClick={(e) => upvote()}\n                        className=\"flex flex-row items-center mr-2\"\n                      >\n                        <i\n                          className={`${\n                            voted && voteType ? \"fas\" : \"far\"\n                          } fa-thumbs-up block`}\n                        ></i>\n                        {voted && voteType && (\n                          <div className=\"text ml-2\">\n                            {data.upvotes - data.downvotes + 1}\n                          </div>\n                        )}\n                      </Interaction>\n                    )}\n\n                    {(!voted || (voted && !voteType)) && (\n                      <InteractionNegative\n                        active={voted && !voteType}\n                        onClick={(e) => downvote()}\n                        className=\"flex flex-row items-center\"\n                      >\n                        <i\n                          className={`${\n                            voted && !voteType ? \"fas\" : \"far\"\n                          } fa-thumbs-down block`}\n                        ></i>\n                        {voted && !voteType && (\n                          <div className=\"text ml-2\">\n                            {data.upvotes - data.downvotes + 1}\n                          </div>\n                        )}\n                      </InteractionNegative>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"flex flex-col  relative w-full mt-4\" style={{}}>\n              {/* cover media */}\n              {recieved && data.images[0].media_type === \"video\" && (\n                <VideoContainer\n                  string={data.images[0].path}\n                  key={`gallery-image-0`}\n                  image={data.images[0]}\n                  description={data.images[0].description}\n                  focusImage={focusImage}\n                ></VideoContainer>\n              )}\n              {recieved && data.images[0].media_type === \"image\" && (\n                <ImageContainer\n                  string={data.images[0].path}\n                  image={data.images[0]}\n                  gallery={data.images[0].gallery_id}\n                  focusImage={focusImage}\n                  description={data.images[0].description}\n                  key={`gallery-image-0`}\n                />\n              )}\n              {/* Description goes between cover media and the rest of the gallery */}\n              <div className=\"description\">\n                {data.description && (\n                  <div className=\"text-lg font-semibold\">\n                    {data.description}\n                  </div>\n                )}\n                <div className=\"flex flex-row mt-6\">\n                  <div className=\"count\">{data.images.length} items</div>\n                  <div className=\"date\">\n                    - Posted {moment(data.date_created).fromNow()}\n                  </div>\n                </div>\n              </div>\n              <div id=\"tags-wrapper\">\n                <Tags gallery_id={props.match.params.gallery_id}></Tags>\n              </div>\n              {/* Render rest of media */}\n              {recieved &&\n                data.images.map((imgObj, index) => {\n                  if (index == 0) return null\n                  if (imgObj.media_type === \"video\") {\n                    return (\n                      <VideoContainer\n                        string={imgObj.path}\n                        key={`gallery-image-${index}`}\n                        image={imgObj}\n                        description={imgObj.description}\n                        focusImage={focusImage}\n                      ></VideoContainer>\n                    )\n                  } else\n                    return (\n                      <ImageContainer\n                        string={imgObj.path}\n                        image={imgObj}\n                        gallery={imgObj.gallery_id}\n                        focusImage={focusImage}\n                        description={imgObj.description}\n                        key={`gallery-image-${index}`}\n                      />\n                    )\n                })}\n            </div>\n\n            {share && (\n              <ShareComponent\n                gallery={data}\n                toggleShare={toggleShare}\n              ></ShareComponent>\n            )}\n            <div id=\"comments-wrapper\">\n              {data.comments_enabled && (\n                <Comments\n                  owner={data.username}\n                  toggleSignUpOverlay={props.toggleSignUpOverlay}\n                  signedIn={props.signedIn}\n                  gallery_id={props.match.params.gallery_id}\n                ></Comments>\n              )}\n            </div>\n            <div id=\"more-like-this\"></div>\n          </div>\n        </GalleryPageElement>\n        {report && <ReportView gallery={data}></ReportView>}\n      </Root>\n    )\n}\nconst Root = styled.div`\n  margin-top: ${(props) => props.theme.navbar_height};\n  background-color: ${(props) => props.theme.background_2};\n`\nconst AvatarRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 60px;\n  /* background: ${colors.backgroundMediumDark}; */\n`\n\nfunction GalleryControls(props) {\n  const history = useHistory()\n  return (\n    <div\n      className=\"sticky flex flex-col\"\n      style={{\n        top: \"64px\",\n        padding: \"24px 10px\",\n      }}\n    >\n      <ControlButton\n        action={()=>document.getElementById('comments').scrollIntoView()}\n        string={\"leave a comment\"}\n        icon={\"fas fa-comment-alt\"}\n      >\n        <Badge value={props.data.comment_count}></Badge>\n      </ControlButton>\n      <ControlButton\n        action={props.toggleShare}\n        string={\"share gallery\"}\n        icon={\"fas fa-share\"}\n      ></ControlButton>\n      <ControlButton\n        action={\"\"}\n        string={\"copy link\"}\n        icon={\"fas fa-link\"}\n      ></ControlButton>\n      <ControlButton\n        action={\"\"}\n        string={\"download\"}\n        icon={\"fas fa-download\"}\n      ></ControlButton>\n      <ControlButton\n        action={\"\"}\n        string={\"report\"}\n        icon={\"fas fa-flag\"}\n      ></ControlButton>\n\n      <Hr></Hr>\n      <div className=\"mb-4\"></div>\n      {props.data.owner && (\n        <ControlButton\n          action={(e) => history.push(`/edit/beam/${props.data.gallery_id}`)}\n          string={\"edit\"}\n          icon={\"fas fa-edit\"}\n        ></ControlButton>\n      )}\n    </div>\n  )\n}\n\nfunction ControlButton(props) {\n  return (\n    <ControlButtonElement\n      active={props.active}\n      hoverColor={props.hoverColor}\n      aria-label={props.string}\n      name={props.string}\n      title={props.string}\n      onClick={props.action}\n    >\n      <div>\n        <i\n          className={`${props.icon} icon`}\n          style={{\n            fontSize: \"16px\",\n          }}\n        ></i>\n      </div>\n      {props.children}\n    </ControlButtonElement>\n  )\n}\nfunction SignInPopover() {\n  return <div>s</div>\n}\nconst ControlButtonElement = styled.button`\n  display: flex;\n  border-radius: 8px;\n  position: relative;\n  margin-bottom: 16px;\n  border: ${(props) => `1px solid ${props.theme.border}`};\n  height: 42px;\n  width: 42px;\n  .icon {\n    color: ${(props) => props.theme.icons};\n  }\n  background: ${(props) => props.theme.background_3};\n  color: ${(props) =>\n    props.active ? props.theme.secondary : props.theme.text};\n  /* border: 1px solid #0a0606; */\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\nconst GalleryPageElement = styled.div`\n  /* background: linear-gradient(to top right, #212121, #333) */\n  padding: 0 64px;\n  .date {\n    color: ${(props) => props.theme.text};\n    opacity: 0.5;\n    font-weight: bold;\n    font-size: 14px;\n  }\n  .count {\n    margin-right: 16px;\n    font-size: 14px;\n    color: ${(props) => props.theme.text};\n    opacity: 0.5;\n    font-weight: bold;\n  }\n  .title {\n    font-size: 28px;\n    font-weight: 600;\n    color: ${(props) => props.theme.text};\n  }\n  .views-and-time {\n    font-size: 12px;\n    color: ${(props) => props.theme.textFaded};\n  }\n  .username{\n    font-weight:900;\n    letter-spacing: -1px;\n    color: ${props => props.theme.tertiary};\n  }\n`\n\nconst FollowButton = styled.div`\n  color: ${(props) => (!props.followed ? \"white\" : props.theme.textFaded)};\n  cursor: pointer;\n  background: ${(props) =>\n    !props.followed\n      ? `linear-gradient(to top right, ${props.theme.tertiary}, ${props.theme.success})`\n      : \"transparent\"};\n  border-radius: 8px;\n  font-size: 12px;\n  position: relative;\n  font-weight: bold;\n  padding: 6px 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: ${(props) => `1px solid ${props.theme.border}`};\n  flex-grow: 1;\n`\n\nconst OptionButton = styled.button`\n  border-radius: 3px;\n  height: 32px;\n  padding: 8px 12px;\n  color: ${(props) => props.theme.secondary};\n  i {\n    /* opacity: 0.5; */\n  }\n  :hover {\n    opacity: 0.5;\n  }\n`\nconst GalleryMenuButton = styled(OptionButton)`\n  color: ${(props) => props.theme.icons};\n`\nconst Interaction = styled.button`\n  transition: all 0.2s linear;\n  color: ${(props) =>\n    props.active ? props.theme.secondary : props.theme.text};\n  background: ${(props) => props.theme.background_3};\n  border-radius: 8px;\n  padding: 8px 12px;\n  height: 42px;\n  .text {\n    font-size: 14px;\n    font-weight: 900;\n  }\n  :hover {\n    background: ${(props) => props.theme.background_4};\n  }\n  i {\n    font-size: 12px;\n  }\n  .fav-text {\n    font-size: 12px;\n    font-weight: bold;\n  }\n`\nconst InteractionNegative = styled(Interaction)`\n  color: ${(props) => (props.active ? props.theme.error : props.theme.text)};\n`\nfunction mapStateToProps(state) {\n  return {\n    signUpOverlay: state.app_state_reducer.signUpOverlay,\n  }\n}\nconst mapDispatchToProps = {\n  toggleSignUpOverlay,\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(GalleryPage)\n","export default __webpack_public_path__ + \"static/media/avatar.b078c2bf.png\";","export default __webpack_public_path__ + \"static/media/user_bg.41fa57bd.jpg\";","import React, { useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styled, { keyframes } from \"styled-components\"\nimport moment from \"moment\"\nimport colors from \"../../../theme/colors\"\nexport default function Tile(props) {\n  const [playing, setPlaying] = useState(false)\n  useEffect(()=>{\n    if(props.gallery.images[0].media_type == 'video'){\n        if(playing){\n          document.getElementById(`video-${props.gallery.gallery_id}`).play()\n          return\n      }\n      document.getElementById(`video-${props.gallery.gallery_id}`).pause()\n      document.getElementById(`video-${props.gallery.gallery_id}`).currentTime = 0\n\n\n    }\n  },[playing])\n  useEffect(() => {\n    if (props.gallery.images[0] == null) {\n      return\n    }\n  }, [])\n  if(props.gallery.images.length == 0){\n    return <div id={`tile-${props.gallery.gallery_id}`} ></div>\n  }\n  else return (\n    <TileWrapper\n      id={`tile-${props.gallery.gallery_id}`}\n      singleton={props.gallery.singleton}\n      className=\"mb-8 relative  flex flex-col  overflow-hidden\"\n      style={{\n        height: `${props.tileMode ? props.gallery.height : 260}px`,\n        // boxShadow: \"2px 2px 8px rgba(0,0,0,.6)\",\n        maxHeight: '600px'\n      }}\n    >\n      <Link\n        to={`/beam/${props.gallery.gallery_id}`}\n        className=\"relative flex-1 flex flex-col overflow-hidden\"\n      >\n        <TileEl\n          onMouseEnter={e => setPlaying(true)}\n          onMouseLeave={e => setPlaying(false)}\n\n          className=\"tile-component shadow-md flex flex-col flex-1 relative  justify-start overflow-hidden \"\n          style={{\n            overflow: \"hidden\",\n          }}\n        >\n          <div\n            className=\"tile-image-wrap overflow-hidden w-full relative text-center \"\n            style={{\n              zIndex: 40,\n              boxShadow: \"0 0 8px rgba(0,0,0,.5)\",\n              // borderTopRightRadius: \"8px\",\n              // borderTopRightLeft: \"8px\",\n              height: `${props.gallery.images[0].height / props.gallery.images[0].width * 240}px`,\n              maxHeight: '560px'\n            }}\n          >\n            <div  className=\"overlay absolute top-0 bottom-0 left-0 right-0\" style={{\n              zIndex: 1\n            }}></div>\n\n            {props.gallery.images[0]?.media_type == \"image\" ? (\n              <img\n                className=\"image  bg-black\"\n                src={\n                  props.gallery.images[0]?.path_lq ||\n                  props.gallery.images[0]?.path\n                }\n                alt=\"\"\n                // onError={e => {\n                //   e.target.src = null\n                //   e.target.src = props.gallery.images[0]?.path\n                // }}\n                loading=\"lazy\"\n                style={{\n                  height: `${props.gallery.images[0].height / props.gallery.images[0].width * 240}px`,\n                  width: \"240px\",\n                  border: \"none\",\n                  outline: \"none\",\n                  // borderRadius: \"8px\",\n                }}\n              />\n            ) : (\n              <video\n              id={`video-${props.gallery.gallery_id}`}\n                loop\n                muted\n                height={\"100%\"}\n                width={\"100%\"}\n                style={{\n                  objectFit: \"cover\",\n                  width: \"100%\",\n                  height: \"100%\",\n                  // borderRadius: \"8px\",\n                  background: \"black\",\n                }}\n              >\n                <source src={props.gallery.images[0]?.path_lq}></source>\n              </video>\n            )}\n            {/* item count */}\n            {!props.gallery.singleton && (\n              <div className=\"opacity-50 p-1 text-xs ml-3 absolute bottom-0 right-0\">\n                <div\n                  className=\"p-2\"\n                  style={{\n                    background: \"rgba(0,0,0,.4)\",\n                    borderRadius: \"6px\",\n                    // boxShadow: '1px 1px 3px rgba(0,0,0,.4)'\n                  }}\n                >\n                  <div>{props.gallery.images.length}</div>\n                </div>\n              </div>\n            )}\n          </div>\n          <div\n            className=\"tile-content flex-grow flex flex-row justify-between pb-3 pt-3 text-white text-left px-2\"\n            style={{\n              // background: \"rgba(70,70,70,1)\",\n              zIndex: 99,\n            }}\n          >\n            {props.avatars !== false && (\n              <div\n                className=\"tile-avatar-wrap relative\"\n                style={{\n                  width: \"50px\",\n                }}\n              >\n                <div\n                  className=\"tile-avatar bg-black rounded-full mr-3\"\n                  style={{\n                    height: \"40px\",\n                    width: \"40px\",\n                    backgroundImage: `url(${props.gallery.avatar_lq})`,\n                    backgroundPosition: \"center\",\n                    backgroundSize: \"cover\",\n                  }}\n                ></div>\n              </div>\n            )}\n\n            <div\n              className=\"w-full tile-info-wrap\"\n              style={{\n                lineHeight: 1,\n              }}\n            >\n              <div className=\"tile-title-wrap\" style={{\n                fontSize: '14px'\n              }}>\n                <span\n                  className=\"font-extrabold relative\"\n                  style={{\n                    zIndex: 100,\n                    wordBreak: \"break-word\",\n                    overflow: \"ellipsis\",\n                    WebkitLineClamp: 2,\n                    fontSize: 14,\n                  }}\n                >\n                  {props.gallery.title}\n                </span>\n              </div>\n              <div\n                className=\"tile-user-wrap mt-2\"\n                style={{\n                  color: `${colors.textFaded}`,\n                }}\n              > \n              {\n                props.usernames !== false &&\n                <div className=\"hover:text-white\" style={{\n                  fontSize: 12\n                }}>\n                  <Link to={`/user/${props.gallery.username}`}>\n                    {props.gallery.username}\n                  </Link>\n                </div>\n              }\n                \n                <div className=\"mt-1 \" style={{\n                  fontSize: 12\n                }}>\n                  {parseViews(props.gallery.views)} views\n                  {/* {moment(props.gallery.date_created).fromNow()} */}\n                </div>\n              </div>\n\n              \n            </div>\n          </div>\n        </TileEl>\n      </Link>\n    </TileWrapper>\n  )\n}\n\nconst TileEl = styled.div`\n  height: 200px;\n  overflow: hidden;\n  /* background: black; */\n\n  .overlay {\n    opacity: 0;\n    background: rgba(255,255,255,.3);\n  }\n  .image {\n    /* transform: scale(1.01); */\n    transition: all 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n  }\n  .video {\n    /* border-radius: 8px; */\n    transition: all 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n  }\n\n  :hover {\n    box-shadow: 0 0 12px #6134da;\n    .overlay{\n      opacity: .2\n    }\n    .image {\n      transform: scale(1.2);\n    }\n    .video {\n      transform: scale(1.2);\n    }\n  }\n\n  .react-player {\n    height: 100%;\n  }\n  .react-player video {\n    position: relative;\n    left: 0;\n    top: 0;\n    transform: none;\n    object-fit: cover;\n  }\n`\n\nconst TileWrapper = styled.div`\n  position: relative;\n  /* border-radius: 8px; */\n  /* background: #353535; */\n  /* box-shadow: 0 0 6px rgba(0,0,0,.4); */\n  z-index: 2;\n  ::after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 99;\n    background: white;\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.1s linear;\n  }\n\n  .title {\n    padding-left: 0px;\n    transition: all 0.2s linear;\n  }\n  /* @media (max-width: 640px) {\n    width: 100%;\n    height: 460px;\n  }\n  @media (min-width: 640px) {\n    height: 260px;\n  } */\n  :hover {\n    .title {\n      padding-left: 8px;\n    }\n    :after {\n      /* opacity: 0.1; */\n    }\n    .favorites-wrapper {\n      opacity: 1;\n    }\n  }\n  .favorites-wrapper {\n    opacity: 0;\n    transition: all 0.1s linear;\n  }\n`\n\nfunction parseViews(number) {\n  if (number > 1000000) {\n    number = number.toString()\n    number = number.slice(0, -6)\n    number += \"m\"\n  } else if (number > 1000) {\n    number = number.toString()\n    number = number.slice(0, -3)\n    number += \"k\"\n  }\n  return number\n}\n","import React, { useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { useInView } from 'react-intersection-observer'\nexport default function Brick(props) {\n  let width = props.gallery.images[0].width\n  let height = props.gallery.images[0].height\n  const { ref, inView, entry } = useInView({\n    threshold: .5\n  });\n  // useEffect(()=>{\n  //   if(!props.gallery) return\n  //   if(props.gallery.images[0].media_type !== \"video\") return\n  //   if(inView) document.getElementById(`video-${props.gallery.gallery_id}`).play()\n  //   if(!inView)document.getElementById(`video-${props.gallery.gallery_id}`).pause()\n  // },[inView])\n  return (\n    <BrickStyle className=\"relative mb-4 \">\n      <div\n        onDragStart={(e) =>\n          props.setDragged ? props.setDragged(e.currentTarget.id) : null\n        }\n        draggable={props.draggable}\n        onDrop={(e) => console.log(\"beign dropped\")}\n        id={`brick-${props.gallery.gallery_id}`}\n        className=\"bg-white relative\"\n        style={{\n          overflow: \"hidden\",\n          paddingTop: `${(height / width) * 100 || 100}%`,\n        }}\n      >\n        <Link\n          to={`/beam/${props.gallery.gallery_id}`}\n          className=\"h-full block absolute  top-0 right-0 left-0 bottom-0\"\n          style={\n            {\n              // maxHeight: props.gallery.images[0].height\n            }\n          }\n        >\n          <div className=\"absolute overlay top-0 left-0 right-0 bottom-0 z-10 flex flex-col justify-end\">\n            <div\n              className=\"p-4\"\n              style={{\n                background:\n                  \"linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,.4))\",\n              }}\n            >\n            <div className=\"content w-full flex flex-row\">\n            <div\n                className=\"mr-3\"\n                style={{\n                  width: \"28px\",\n                  height: \"28px\",\n                  borderRadius: \"100%\",\n                  overflow: \"hidden\",\n                }}\n              >\n                <img\n                  src={props.gallery.avatar_lq}\n                  alt=\"\"\n                  style={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    objectFit: \"cover\",\n                  }}\n                />\n              </div>\n              <div className=\"text-sm font-extrabold\">\n                {props.gallery.username}\n              </div>\n            </div>\n              \n            </div>\n          </div>\n          {props.gallery.images[0].media_type == \"image\" ? (\n            <div\n              className=\"media-container media absolute top-0 bottom-0 left-0 right-0\"\n              style={{}}\n            >\n              <img\n                src={props.gallery.images[0].path_lq}\n                className=\"absolute block object-cover top-0 left-0 right-0 bottom-0\"\n                style={{\n                  width: \"100%\",\n                  height: \"100%\",\n                  //   maxHeight: \"600px\",\n                }}\n                alt=\"\"\n              />\n              <div className=\"absolute bottom-0 right-0 z-50 p-3\">\n                {!props.gallery.singleton ? (\n                  <div\n                    className=\"px-2 py-1 text-white text-xs rounded-md\"\n                    style={{\n                      background: `rgba(0,0,0,.5)`,\n                    }}\n                  >\n                    {props.gallery.images.length}\n                  </div>\n                ) : (\n                  <div></div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <div\n              className=\"absolute media-container media object-cover top-0 left-0 right-0 bottom-0\"\n            >\n              <video\n                ref={ref}\n                id={`video-${props.gallery.gallery_id}`}\n                src={props.gallery.images[0].path_lq}\n                preload=\"none\"\n                muted\n                loop\n                autoPlay={inView}\n                onError={(e) =>\n                  document\n                    .getElementById(`video-${props.gallery.gallery_id}`)\n                    .parentElement.remove()\n                }\n                className=\"absolute object-cover top-0 left-0 right-0 bottom-0\"\n                style={{\n                  width: \"100%\",\n                  height: \"100%\",\n                  // maxHeight: \"600px\",\n                }}\n              ></video>\n              <div className=\"absolute bottom-0 right-0 pr-3 pb-2 opacity-50\">\n                <i className=\"fas fa-video\"></i>\n              </div>\n            </div>\n          )}\n          {props.favoriteMode && <FavoritesOverlay></FavoritesOverlay>}\n        </Link>\n      </div>\n      <Link to={`/beam/${props.gallery.gallery_id}`}>\n      <div\n        className=\"brick-info items-start flex-col\"\n        style={{\n          display: `${props.favoriteMode ? \"none\" : \"flex\"}`,\n        }}\n      >\n        <div className=\"title text-left mt-2\">{props.gallery.title}</div>\n        <div className=\"brick-stats mt-1 flex flex-row\">\n          <div className=\"flex flex-row items-center mr-3\">\n            <i class=\"fas fa-caret-square-up mr-1 fa-sm\"></i>\n            <div className=\"text-xs font-extrabold\">\n              {props.gallery.upvotes - props.gallery.downvotes + 1 || 0}\n            </div>\n          </div>\n          <div className=\"flex flex-row items-center\">\n            <i class=\"fas fa-eye mr-1 fa-sm\"></i>\n            <div className=\"text-xs font-extrabold\">{props.gallery.views}</div>\n          </div>\n        </div>\n      </div>\n        </Link>\n    </BrickStyle>\n  )\n}\nfunction FavoritesOverlay(props) {\n  return (\n    <FavoriteControls className=\"absolute  z-50 left-0 top-0 bottom-0 right-0\">\n      <div className=\"top-0 left-0 right-0 favorite-controls flex flex-row justify-between\">\n        <div>\n          <button className=\"p-3\" onClick={(e) => e.preventDefault()}>\n            <i className=\"far fa-square text-white\"></i>\n          </button>\n        </div>\n        <div>\n          <button className=\"p-3\" onClick={(e) => e.preventDefault()}>\n            <i className=\"fas fa-trash text-white\"></i>\n          </button>\n        </div>\n      </div>\n    </FavoriteControls>\n  )\n}\nconst FavoriteControls = styled.div`\n  background-color: rgba(0, 0, 0, 0);\n  .favorite-controls {\n    visibility: hidden;\n  }\n  :hover {\n    background-color: rgba(255, 255, 255, 0.1);\n    .favorite-controls {\n      visibility: visible;\n    }\n  }\n`\nconst BrickStyle = styled.div`\n  /* max-height: 600px; */\n  /* box-shadow: 0 0 8px rgba(0,0,0,.3); */\n  /* border: ${(props) => `1px solid ${props.theme.border}`}; */\n  box-shadow: 0 4px 8px -4px rgba(0,0,0,.6);\n  box-sizing: border-box;\n  overflow: hidden;\n  border-radius: 8px;\n  .overlay {\n    color: white;\n    transition: all 0.3s linear;\n    font-weight: bold;\n    opacity: 0;\n    pointer-events: none;\n    transform: translateY(20px);\n    background: linear-gradient(\n      to bottom,\n      rgba(0, 0, 0, 0) 60%,\n      rgba(0, 0, 0, 0.7) 100%\n    );\n  }\n  .media-container {\n    /* border-radius: 8px; */\n    overflow: hidden;\n  }\n  .media {\n    transition: all 0.2s cubic-bezier(0.68, -0.3, 0.32, 1.3);\n  }\n  .brick-info {\n    transition: all 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n    height: 64px;\n    overflow: hidden;\n    background: ${(props) => props.theme.background_3};\n    padding: 2px 12px;\n    /* border-bottom-left-radius: 8px; */\n    /* border-bottom-right-radius: 8px; */\n  }\n  .brick-stats {\n    color: ${(props) => props.theme.icons_2};\n  }\n  .title {\n    font-size: 14px;\n    font-weight: 600;\n    color: ${props => props.theme.text};\n  }\n  :hover {\n    .overlay {\n      opacity: 1;\n      transform: translateY(0);\n    }\n    /* .brick-info {\n      height: 42px;\n      margin-top: 8px;\n      padding: 4px 12px;\n    } */\n    .media {\n      transform: scale(1.1);\n    }\n  }\n`\n","import React, { useState, useEffect } from \"react\"\nimport Tile from \"./pages/home_page/Tile\"\nimport throttle from \"lodash/throttle\"\nimport { connect } from \"react-redux\"\nimport Brick from \"./pages/home_page/Brick\"\nimport styled from \"styled-components\"\nimport { toggleSidebar } from \"../state/store/actions/index\"\nfunction SuperGrid(props) {\n  const [top, setTop] = useState(true)\n\n  const throttler = throttle(resizeHandler, 200)\n  useEffect(() => {\n    window.addEventListener(\"resize\", throttler)\n    document.addEventListener(\"scroll\", scrollHandler)\n\n    return () => {\n      document.removeEventListener(\"scroll\", scrollHandler)\n      window.removeEventListener(\"resize\", throttler)\n    }\n  }, [])\n  // navigation\n  function goToTop() {\n    window.scrollTo(0, 0)\n  }\n  function scrollHandler() {\n    if (window.scrollY < 50) {\n      setTop(true)\n    }\n    if (window.scrollY > 50) {\n      setTop(false)\n    }\n    // backgroundRef.current.style.top = `-${window.scrollY}px`\n  }\n  function resizeHandler() {\n    if (window.innerWidth < 600) {\n      console.log(\"window\")\n      props.toggleSidebar(false)\n    }\n    if (getColumns !== columns) {\n      setColumns(getColumns)\n    }\n  }\n  useEffect(() => {\n    resizeHandler()\n  }, [props.sidebar])\n  const [columns, setColumns] = useState(getColumns())\n  function getColumns() {\n    let width = window.innerWidth - (props.sidebar ? 225 : 0) - 64\n    let newColumns = parseInt((width / 300).toFixed(0))\n    // if (newColumns > 5) {\n    //   newColumns = 5\n    // }\n    if (width < 640) {\n      console.log(\"mobile\")\n      newColumns = 1\n    }\n    // console.log(newColumns)\n    return newColumns\n  }\n  // rearrange grid when column number state changes\n  const [grid, setGrid] = useState([])\n\n  useEffect(() => {\n    placeTiles(props.galleries)\n  }, [columns])\n  useEffect(() => {\n    placeTiles(props.galleries)\n  }, [props.galleries])\n  function placeTiles(galleries) {\n    let cols = columns\n    let grid = []\n    for (let i = 0; i < cols; i++) {\n      grid[i] = new Array()\n    }\n    galleries.forEach((gallery, index) => {\n      // get tile height\n      let h = gallery.images[0]?.height\n      let w = gallery.images[0]?.width\n      let aspect = h / w\n      if (isNaN(aspect)) {\n        aspect = 1\n      }\n      let height = aspect\n      let info_height = height * 0.3\n\n      // get columns heights\n      let heights = []\n      grid.forEach((columnArray) => {\n        let h = getColumnHeight(columnArray)\n        heights.push(h)\n      })\n      // console.log('heights:' + heights)\n      // get shortest column\n      let shortest = 0\n      heights.forEach((h, index) => {\n        // instan return if first index\n        if (index === 0) {\n          return\n        }\n        if (h < heights[shortest]) {\n          shortest = index\n        }\n      })\n      // if(height > 600) height = 600\n      gallery.height = height\n      // append gallery to the shortest column in grid array\n      grid[shortest].push(gallery)\n    })\n    setGrid(grid)\n  }\n\n  function getColumnHeight(columnArray) {\n    let h = 0\n    columnArray.forEach((tileObject) => {\n      h += tileObject.height\n    })\n    return h\n  }\n  return (\n    <div\n      className=\"relative mt-6 w-full flex flex-row justify-center\"\n      id=\"super-grid\"\n      style={{\n        paddingTop: `${props.title ? \"48px\" : \"0\"}`,\n      }}\n    >\n      <div\n        id=\"grid-title\"\n        className=\"absolute top-0 mx-auto text-xl font-bold flex flex-row justify-between\"\n        style={{\n          width: columns == 1 ? \"calc(100% - 16px)\" : `${columns * 256}px`,\n           \n        }}\n      >\n        <div className=\"font-extrabold\">{props.title}</div>\n      </div>\n      {/* grid render */}\n\n      {grid === []\n        ? grid.map((col, indx) => {\n            return (\n              <div\n                id=\"grid-column-container\"\n                key={`home-grid-column-${indx}`}\n                className=\"mx-2 sm:mx-0 \"\n                style={{\n                  float: \"left\",\n                  width: columns == 1 ? \"calc(100% - 16px)\" : \"240px\",\n                  marginLeft: `${indx !== 0 ? \"16px\" : 0}`,\n                }}\n              ></div>\n            )\n          })\n        : grid.map((col, indx) => {\n            return (\n              <div\n                id=\"grid-column-container\"\n                key={`home-grid-column-${indx}`}\n                className=\"mx-2 sm:mx-0 mt-4 md:mt-0 flex-0\"\n                style={{\n                  float: \"left\",\n                  width: columns == 1 ? \"calc(100% - 16px)\" : \"240px\",\n                  \n                  marginLeft: `${indx !== 0 ? \"16px\" : 0}`,\n                }}\n              >\n                {col.map((gallery, index) => {\n                  return (\n                    <Brick\n                      favoriteMode={props.favoritesMode}\n                      setDragged={props.setDragged}\n                      draggable={props.draggable}\n                      usernames={props.usernames}\n                      avatars={props.avatars}\n                      tile={`tile-id-${indx}-${index}`}\n                      key={`home-grid-gallery-tile-${gallery.gallery_id}`}\n                      gallery={gallery}\n                    ></Brick>\n                  )\n                })}\n              </div>\n            )\n          })}\n      {/* to top button */}\n      <TopButtonContainer\n        id=\"top-button\"\n        className={`relative z-50 ${!top ? \"block\" : \"hidden\"}`}\n        top={top}\n      >\n        <TopButton onClick={(e) => goToTop()}>\n          <i className=\"fas fa-angle-double-up mx-3\"></i>\n        </TopButton>\n      </TopButtonContainer>\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    sidebar: state.app_state_reducer.sidebar,\n  }\n}\n\nconst TopButtonContainer = styled.div`\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  padding: 10px;\n`\nconst TopButton = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 3px;\n  padding: 8px;\n  color: black;\n  background: white;\n`\n\nconst mapDispatchToProps = {\n  toggleSidebar,\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(SuperGrid)\n","import React, { useEffect, useState } from \"react\"\nimport SuperGrid from '../../SuperGrid'\nexport default function PostsComponent(props) {\n  useEffect(() => {\n    getPosts()\n  }, [])\n  const [posts, setPosts] = useState([])\n  async function getPosts() {\n    let from = posts.length\n    let to = from + 100\n    let url = `/api/user/${props.username}/galleries?from=${from}&to=${to}`\n    try {\n      let res = await fetch(url)\n      if (res.status === 200) {\n        let json = await res.json()\n        console.log(json)\n        setPosts([...posts, ...json])\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  function copy(e, urlString) {\n    e.preventDefault()\n    let input = document.createElement(\"textarea\")\n    document.body.appendChild(input)\n    input.value = urlString\n    // input.style.visibility = 'hidden'\n    input.select()\n    document.execCommand(\"copy\")\n    document.body.removeChild(input)\n  }\n\n  if (!posts.length) {\n    return (\n      <div className=\"text-white font-bold py-24\">\n        <h2 className=\"text-2xl  opacity-75 \">Well, this is awkward...</h2>\n        <h4 className=\"opacity-50 text-base\">there are no posts</h4>\n      </div>\n    )\n  } else\n    return (\n      <div className=\"text-white container mx-auto flex items-center justify-center\">\n        <SuperGrid usernames={false} galleries={posts} avatars={false}></SuperGrid>\n      </div>\n    )\n}\n","import React, { useEffect, useState } from \"react\"\nimport moment from \"moment\"\nimport { Link } from \"react-router-dom\"\nimport MoonLoader from \"react-spinners/MoonLoader\"\nimport styled from 'styled-components'\nexport default function CommentsComponent(props) {\n  useEffect(() => {\n    getComments()\n  }, [])\n  const [comments, setComments] = useState([])\n  const [endReached, setEndReached] = useState(false)\n  const [loading, setLoading] = useState(false)\n  async function getComments() {\n    let from = comments.length\n    let to = from + 20\n    let url = `/api/user/${props.username}/comments?from=${from}&to=${to}`\n    try {\n      setLoading(true)\n      let res = await fetch(url, {\n        mode: \"cors\",\n      })\n      let json = await res.json()\n      if (json.success) {\n        console.log(json.comments)\n        setComments([...comments, ...json.comments])\n        checkEndReached(from, to, json.comments)\n        setLoading(false)\n      }\n    } catch (err) {\n      console.log(err)\n      setLoading(false)\n    }\n  }\n  function checkEndReached(from, to, comments) {\n    if (comments < to - from) {\n      //   console.log('end reached')\n      setEndReached(true)\n    }\n  }\n  function copy(e, urlString) {\n    e.preventDefault()\n    let input = document.createElement(\"textarea\")\n    document.body.appendChild(input)\n    input.value = urlString\n    // input.style.visibility = 'hidden'\n    input.select()\n    document.execCommand(\"copy\")\n    document.body.removeChild(input)\n  }\n  if (comments.length == 0) {\n    return (\n      <div className=\"mt-24 font-bold opacity-75  text-2xl\">\n        User has no comments.\n        <p className=\"text-base opacity-50 \">It's quiet... Too quiet...</p>\n      </div>\n    )\n  } else\n    return (\n      <View className=\"text-left\">\n        {comments.map((comment, index) => {\n          return (\n            <Link\n              className=\"\"\n              to={`/beam/${comment.gallery_id}?comment_id=${comment.comment_id}`}\n            >\n              <div\n                key={`user-page-comments-history-key-${index}`}\n                className=\"mb-3 comment pb-3 hover:border-gray-500 hover:border-opacity-25 border-2 border-transparent\"\n                style={{\n                  overflow: 'hidden',\n                  borderRadius: '8px',\n                  boxShadow: '2px 2px 3px rgba(0,0,0,.3)'\n                }}\n              >\n                <div className=\"comment-gallery-info pt-3 ml-3\">\n                  <div className=\"comment-gallery-info-userinfo text-xs\">\n                    <div>\n                      <span\n                        className=\"\"\n                        style={\n                          {\n                            // color: \"rgb(74, 87, 81)\",\n                          }\n                        }\n                      >\n                        {props.username}\n                      </span>\n                      {comment.reply ? (\n                        <span className=\"mr-1\"> replied to a comment in</span>\n                      ) : (\n                        <span className=\"mr-1\"> posted a comment in</span>\n                      )}\n                      <Link\n                        className=\"font-bold mr-1 hover:underline\"\n                        style={{}}\n                        to={`/beam/${comment.gallery_id}`}\n                      >\n                        {comment.gallery_title}\n                      </Link>\n                      from u/{comment.gallery_username}\n                      <span className=\"ml-1\">\n                        {moment(comment.gallery_date_created).fromNow()}\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"comment-gallery-info-title text-xl font-bold\"></div>\n                </div>\n                <hr className=\"mx-4 my-4 opacity-25\" />\n                {comment.reply && (\n                  <div\n                    className=\"comment-reply-prefix mx-6 p-2 text-sm\"\n                    style={{\n                      background: \"rgba(200,200,200,.3)\",\n                    }}\n                  >\n                    <div className=\"comment-prefix-user text-xs font-bold\">\n                      <Link\n                        className=\"hover:underline\"\n                        to={`/user/${comment.reply.username}`}\n                      >\n                        <span className=\"opacity-50\">u/</span>\n                        <span\n                          className=\"\"\n                          style={{ color: \"rgb(74, 212, 147)\" }}\n                        >\n                          {comment.reply.username}\n                        </span>\n                      </Link>\n                      <span className=\"ml-1\">\n                        - {moment(comment.comment_date).fromNow()}\n                      </span>\n                    </div>\n                    <div className=\"comment-prefix-message\">\n                      {comment.reply.message}\n                    </div>\n                  </div>\n                )}\n                <div className=\"comment-content mt-3 mx-6 text-sm\">\n                  <div className=\"comment-content-user font-bold\">\n                    {comment.username}\n                  </div>\n                  <div className=\"comment-content-message\">\n                    {comment.message}\n                  </div>\n                </div>\n                <div className=\"user-page-comment-control\">\n                  <ul></ul>\n                </div>\n                <div className=\"user-page-comment-controls text-xs ml-6 mt-4 opacity-50 font-bold\">\n                  <span className=\"hover:underline mr-2\">\n                    <i class=\"fas fa-reply mr-1\"></i> reply\n                  </span>\n                  <span\n                    className=\"hover:underline\"\n                    onClick={(e) =>\n                      copy(\n                        e,\n                        `https://www.imgbeam.com/beam/${comment.gallery_id}?comment_id=${comment.comment_id}`\n                      )\n                    }\n                  >\n                    share\n                  </span>\n                </div>\n              </div>\n            </Link>\n          )\n        })}\n        {endReached ? (\n          <div></div>\n        ) : (\n          <div\n            className=\"mt-3 flex flex-row justify-around\"\n            style={{\n                borderRadius: '8px',\n                height: '50px'\n            }}\n          >\n            <button\n              className=\"w-full  p-3 flex flex-row justify-around\"\n              onClick={(e) => getComments()}\n              \n            >\n              {loading ? (\n                <MoonLoader size={20}></MoonLoader>\n              ) : (\n                <span>more</span>\n              )}\n            </button>\n          </div>\n        )}\n      </View>\n    )\n}\n\nconst View = styled.div`\n  color: ${props => props.theme.text};\n  .comment{\n    background: ${props => props.theme.background_1}\n  }\n`","import React from 'react'\n\nexport default function FollowingList() {\n    return (\n        <div>\n            \n        </div>\n    )\n}\n","import React from 'react'\nimport theme from '../../../theme/colors'\nimport moment from 'moment'\nexport default function AboutView(props) {\n    return (\n        <div className=\"container justify-center mx-auto text-left flex flex-row pt-4\">\n            <div id=\"user-about-description\" className=\"\" style={{\n                flex: '2'\n            }}>\n                <h3 className=\"font-bold\">Description</h3>\n                <p className=\"mt-4\">\n                    {\n                        props.user.description || <div className=\"\" style={{\n                            color: `${theme.textFaded}`\n                        }}>\n                            No Description Yet\n                        </div>\n                    }\n                </p>\n            </div>\n            <div className=\"right-stats flex-1\" style={{\n                \n            }}>\n                <div className=\"date\">\n                    <h4>Member Since</h4>\n                    <p>{moment(props.user.member_since).format('MMM D yyyy')}</p>\n                </div>\n                <div className=\"total-views mt-4\">\n                <h4>Total Views</h4>\n                    <p>0</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/default_background.eb7ed319.jpg\";","import React, { useState } from \"react\"\nimport colors from \"../../../theme/colors\"\nimport backdrop_default from \"../../../default_background.jpg\"\nimport Loader from \"react-spinners/RingLoader\"\nexport default function BackdropSelect(props) {\n  const [file, setFile] = useState(null)\n  const [url, setURL] = useState('')\n  const [processing, setProcessing] = useState(false)\n  function setBackdropFile(e){\n    let newFile = e.target.files[0]\n    console.log(newFile)\n    setFile(newFile)\n    let reader = new FileReader()\n    reader.readAsDataURL(newFile)\n    reader.onload = function(file){\n      \n      setURL(file.target.result)\n\n    }\n  }\n  async function sendBackdrop() {\n    setProcessing(true)\n    let form = new FormData()\n    form.append(\"backdrop\", file)\n    try {\n      let url = `/api/account/settings/backdrop/update`\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"POST\",\n        body: form,\n      })\n      if (res.status === 200) {\n        props.pulldata()\n        props.toggleMenu(false)\n      }\n    } catch (err) {\n      console.log(err)\n      setProcessing(false)\n    }\n  }\n  if (processing) {\n    return (\n      <div\n        className=\"fixed text-white top-0 bottom-0 left-0 right-0 flex flex-col items-center justify-center\"\n        style={{\n          zIndex: 99,\n        }}\n      >\n        <div\n          className=\"overlay fixed top-0 bottom-0 left-0 right-0 z-0\"\n          onClick={(e) => props.toggleMenu(false)}\n          style={{\n            background: \"rgba(0,0,0,.7)\",\n          }}\n        ></div>\n        <div\n          className=\"panel z-10 overflow-hidden flex flex-col items-center justify-center\"\n          style={{\n            borderRadius: \"26px\",\n            minWidth: '260px',\n            minHeight: '160px',\n            backgroundColor: `${colors.backgroundMedium}`,\n          }}\n        >\n        <Loader color={'white'} ></Loader>\n        </div>\n      </div>\n    )\n  }\n  else return (\n    <div\n      className=\"fixed text-white top-0 bottom-0 left-0 right-0 flex flex-col items-center justify-center\"\n      style={{\n        zIndex: 99,\n      }}\n    >\n      <div\n        className=\"overlay fixed top-0 bottom-0 left-0 right-0 z-0\"\n        onClick={(e) => props.toggleMenu(false)}\n        style={{\n          background: \"rgba(0,0,0,.7)\",\n        }}\n      ></div>\n      <div\n        className=\"panel z-10 overflow-hidden\"\n        style={{\n          borderRadius: \"26px\",\n          backgroundColor: `${colors.backgroundMedium}`,\n        }}\n      >\n        <div\n          className=\"py-2 font-extrabold flex flex-col items-center justify-center\"\n          style={{\n            background: `rgba(80,80,80,.1)`,\n            borderRadius: \"26px\",\n            height: \"50px\",\n          }}\n        >\n          <div>Choose Banner</div>\n        </div>\n        <div\n          className=\"mx-8\"\n          style={{\n            borderRadius: \"26px\",\n            boxShadow: \" 2px 2px 8px rgba(0,0,0,.3)\",\n          }}\n        >\n          <div id=\"banner-preview\">\n            <div\n              className=\"mt-4 overflow-hidden\"\n              style={{\n                maxWidth: \"420px\",\n                minWidth: \"420px\",\n                borderTopLeftRadius: \"26px\",\n                borderTopRightRadius: \"26px\",\n              }}\n            >\n              <img\n                src={url === \"\" ? (props.backdrop || backdrop_default) : url }\n                alt=\"\"\n                style={{\n                  width: \"100%\",\n                  height: \"100%\",\n                  objectFit: \"contain\",\n                  filter: `${url === \"\" ? 'grayscale(1)': 'grayscale(0)'}`\n\n                }}\n              />\n            </div>\n          </div>\n          <div\n            className=\"flex flex-row font-bold text-sm overflow-hidden justify-between\"\n            style={{\n              minHeight: \"120px\",\n              borderBottomLeftRadius: \"26px\",\n              borderBottomRightRadius: \"26px\",\n            }}\n          >\n            <div className=\"flex-grow w-1/2\">\n              <label\n                htmlFor=\"backdrop-select\"\n                className=\"text-white flex-col w-full h-full flex items-center justify-center\"\n                style={{\n                  backgroundColor: \"rgba(70,70,70,.4)\",\n                }}\n              >\n                Select\n              </label>\n              <input\n                type=\"file\"\n                name=\"backdrop-select\"\n                className=\"hidden\"\n                id=\"backdrop-select\"\n                onChange={(e) => setBackdropFile(e)}\n              />\n            </div>\n            <div className=\"flex-grow w-1/2\">\n              <label\n                htmlFor=\"backdrop-select\"\n                className=\" text-white flex-col w-full h-full flex items-center justify-center\"\n                style={{\n                  backgroundColor: \"rgba(70,70,70,.3)\",\n                }}\n              >\n                <div\n                  className=\"px-12 py-8\"\n                  style={{\n                    border: \"1px dashed rgba(170,170,170,.4)\",\n                    borderBottomRightRadius: \"16px\",\n                  }}\n                >\n                  Drop Here\n                </div>\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"control-wrap text-white flex-row flex justify-end items-center mr-8 mb-4\">\n          <button\n            onClick={(e) => props.toggleMenu(false)}\n            className=\"font-extrabold my-3 py-3 px-4 mx-3 opacity-50\"\n            style={{\n              color: `${colors.textFaded}`,\n            }}\n          >\n            cancel\n          </button>\n          <button\n            onClick={(e) => sendBackdrop()}\n            disabled={file == null ? true : false}\n            className=\"font-extrabold px-8 py-2\"\n            style={{\n              backgroundColor: `${colors.success}`,\n              borderRadius: \"26px\",\n            }}\n          >\n            Confirm\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from \"react\"\nimport colors from \"../../../theme/colors\"\nimport avatar_default from \"./avatar.png\"\nimport Loader from \"react-spinners/RingLoader\"\nimport styled from \"styled-components\"\nexport default function AvatarSelect(props) {\n  const [file, setFile] = useState(null)\n  const [url, setURL] = useState(\"\")\n  const [processing, setProcessing] = useState(false)\n\n  function setAvatarFile(e) {\n    let newFile = e.target.files[0]\n    console.log(newFile)\n    setFile(newFile)\n    let reader = new FileReader()\n    reader.readAsDataURL(newFile)\n    reader.onload = function (file) {\n      setURL(file.target.result)\n    }\n  }\n  async function updateAvatar(e) {\n    setProcessing(true)\n    let formdata = new FormData()\n    formdata.append(\"avatar\", file)\n    try {\n      let res = await fetch(\"/api/account/settings/avatar/update\", {\n        method: \"POST\",\n        credentials: \"include\",\n        body: formdata,\n      })\n      if (res.status === 200) {\n        props.pulldata()\n        props.toggleMenu(false)\n      }\n    } catch (err) {\n      setProcessing(false)\n      console.log(err)\n    }\n  }\n//   function applyFilter(){\n//     import('jimp').then((jimp)=>{\n//         console.log(file)\n//        let j = jimp.default\n//        j.read(url).then(v =>{\n//            console.log('loaded')\n//             v.grayscale()\n//        })\n//     })\n//   }\n  if (processing) {\n    return (\n      <div\n        className=\"fixed text-white top-0 bottom-0 left-0 right-0 flex flex-col items-center justify-center\"\n        style={{\n          zIndex: 99,\n        }}\n      >\n        <div\n          className=\"overlay fixed top-0 bottom-0 left-0 right-0 z-0\"\n          onClick={(e) => props.toggleMenu(false)}\n          style={{\n            background: \"rgba(0,0,0,.7)\",\n          }}\n        ></div>\n        <div\n          className=\"panel z-10 overflow-hidden flex flex-col items-center justify-center\"\n          style={{\n            borderRadius: \"26px\",\n            minWidth: \"260px\",\n            minHeight: \"160px\",\n            backgroundColor: `${colors.backgroundMedium}`,\n          }}\n        >\n          <Loader color={\"white\"}></Loader>\n        </div>\n      </div>\n    )\n  } else\n    return (\n      <div\n        className=\"fixed text-white top-0 bottom-0 left-0 right-0 flex flex-col items-center justify-center\"\n        style={{\n          zIndex: 99,\n        }}\n      >\n        <div\n          className=\"overlay fixed top-0 bottom-0 left-0 right-0 z-0\"\n          onClick={(e) => props.toggleMenu(false)}\n          style={{\n            background: \"rgba(0,0,0,.7)\",\n          }}\n        ></div>\n        <div\n          className=\"panel z-10 overflow-hidden\"\n          style={{\n            borderRadius: \"26px\",\n            backgroundColor: `${colors.backgroundMedium}`,\n          }}\n        >\n          <div\n            className=\"py-2 font-extrabold flex flex-col items-center justify-center\"\n            style={{\n              background: `rgba(80,80,80,.1)`,\n              borderRadius: \"26px\",\n              height: \"50px\",\n            }}\n          >\n            <div>Choose Avatar</div>\n          </div>\n          <div\n            className=\"mx-8\"\n            style={{\n              borderRadius: \"26px\",\n              //   boxShadow: \" 2px 2px 8px rgba(0,0,0,.3)\",\n            }}\n          >\n            <div id=\"avatar-preview\">\n              <div\n                className=\"mt-4 overflow-hidden relative flex flex-col items-center justify-center\"\n                style={{\n                  width: \"360px\",\n                  height: \"200px\",\n\n                  borderTopLeftRadius: \"26px\",\n                  borderTopRightRadius: \"26px\",\n                }}\n              >\n                <div\n                  className=\"circle absolute overflow-hidden\"\n                  style={{\n                    width: \"200px\",\n                    height: \"200px\",\n                    borderRadius: \"100%\",\n                    zIndex: 9,\n                    border: \"4px solid rgba(255,255,255,.5)\",\n                  }}\n                >\n                  {/* inner image */}\n                  <img\n                    src={url === \"\" ? props.avatar || avatar_default : url}\n                    alt=\"\"\n                    style={{\n                      height: \"100%\",\n                      // width: 'auto',\n                      objectFit: \"cover\",\n                      filter: `${url === \"\" ? \"grayscale(1)\" : \"grayscale(0)\"}`,\n                    }}\n                  />\n                </div>\n\n                {/* out image  */}\n                <img\n                  src={url === \"\" ? props.avatar || avatar_default : url}\n                  alt=\"\"\n                  style={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    boxShadow: \"2px 2px 5px rgba(0,0,0,.4)\",\n                    objectFit: \"contain\",\n                    opacity: .2,\n                    filter: `${url === \"\" ? \"grayscale(1)\" : \"grayscale(0)\"}`,\n                  }}\n                />\n              </div>\n            </div>\n            <div\n              className=\"flex flex-row mt-5 font-bold text-sm overflow-hidden justify-between\"\n              style={{\n                minHeight: \"120px\",\n                borderRadius: \"26px\",\n              }}\n            >\n              <div className=\"flex-grow w-1/2\">\n                <label\n                  htmlFor=\"backdrop-select\"\n                  className=\"text-white flex-col w-full h-full flex items-center justify-center\"\n                  style={{\n                    backgroundColor: \"rgba(70,70,70,.4)\",\n                  }}\n                >\n                  Select\n                </label>\n                <input\n                  type=\"file\"\n                  name=\"backdrop-select\"\n                  className=\"hidden\"\n                  id=\"backdrop-select\"\n                  onChange={(e) => setAvatarFile(e)}\n                />\n              </div>\n              <div className=\"flex-grow w-1/2\">\n                <label\n                  htmlFor=\"backdrop-select\"\n                  className=\" text-white flex-col w-full h-full flex items-center justify-center\"\n                  style={{\n                    backgroundColor: \"rgba(70,70,70,.3)\",\n                  }}\n                >\n                  <div\n                    className=\"px-12 py-8\"\n                    style={{\n                      border: \"1px dashed rgba(170,170,170,.4)\",\n                      borderRadius: \"16px\",\n                    }}\n                  >\n                    Drop Here\n                  </div>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"control-wrap text-white flex-row flex justify-end items-center mr-8 mb-4\">\n            <button\n              onClick={(e) => props.toggleMenu(false)}\n              className=\"font-extrabold my-3 py-3 px-4 mx-3 opacity-50\"\n              style={{\n                color: `${colors.textFaded}`,\n              }}\n            >\n              cancel\n            </button>\n            <Confirm\n              onClick={(e) => updateAvatar()}\n              disabled={file == null ? true : false}\n              className=\"font-extrabold px-8 py-2\"\n              style={{\n                borderRadius: \"26px\",\n              }}\n            >\n              Confirm\n            </Confirm>\n          </div>\n        </div>\n      </div>\n    )\n}\nconst Confirm = styled.button`\n  background: ${(props) => (props.disabled ? \"#69696966\" : colors.success)};\n  color: ${(props) => (props.disabled ? \"#030101\" : \"white\")};\n`\n","import React, { useState, useEffect } from \"react\"\nimport avatarDefault from \"./avatar.png\"\nimport styled from \"styled-components\"\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\"\nimport defaultbg from \"./user_bg.jpg\"\nimport bear from \"../gallery_page/404Gorilla_alt.svg\"\nimport comma from \"comma-number\"\nimport theme from \"../../../theme/colors\"\nimport PostsComponent from \"./PostsComponent\"\nimport CommentsComponent from \"./CommentsComponent\"\nimport FollowingList from \"./FollowingList\"\nimport MoonLoader from \"react-spinners/MoonLoader\"\nimport AboutView from \"./AboutView\"\nimport BackdropSelect from \"./BackdropSelect\"\nimport AvatarSelect from './AvatarSelect'\nimport { Helmet } from \"react-helmet\"\nexport default function UserPage(props) {\n  const [backdropMenu, toggleBackdropMenu] = useState(false)\n  const [avatarMenu, toggleAvatarMenu] = useState(false)\n\n  const [error, setError] = useState(false)\n  const [data, setData] = useState({\n    title: \"\",\n    galleries: [],\n    total_points: 0,\n  })\n  const [received, setReceived] = useState(false)\n  const userAPI = \"/api/user\"\n  useEffect(() => {\n    fetchData()\n    getFollowing()\n  }, [])\n\n  async function getFollowing() {\n    try {\n      let url = `/api/user/${props.match.params.username}/following`\n      let res = await fetch(url, {\n        credentials: \"include\",\n      })\n      if (res.status == 200) {\n        setFollowing(await res.json())\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function fetchData() {\n    console.log(`${userAPI}${props.match.params.username}`)\n    try {\n      let res = await fetch(`${userAPI}/${props.match.params.username}`, {\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n      console.log(res)\n      let json = await res.json()\n      console.log(json)\n      setError(false)\n      setData(json)\n      setReceived(true)\n    } catch (err) {\n      console.log(err)\n      setError(true)\n      setReceived(true)\n    }\n  }\n  // following\n  // follows\n  const [following, setFollowing] = useState(false)\n  async function follow() {\n    let url = `/api/user/${props.match.params.username}/follow`\n    try {\n      let res = await fetch(url, {\n        method: \"post\",\n        credentials: \"include\",\n      })\n      if (res.status == 401) {\n        console.log(\"Unauthorized\")\n        alert(\"Please log in or register to do that.\")\n        return\n      }\n      if (res.status == 200) {\n        let json = await res.json()\n        console.log(json)\n        setFollowing(json)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  if (!received) {\n    return (\n      <div className=\"fixed top-0 left-0 w-screen h-screen flex flex-col justify-center items-center\">\n        <MoonLoader color={\"white\"}></MoonLoader>\n      </div>\n    )\n  }\n  if (received && error) {\n    return (\n      <div className=\"h-screen w-full flex flex-col justify-center items-center\">\n        <div className=\"404-cont rounded-full bg-green-400 px-24 py-24\">\n          <img className=\"ml-8\" src={bear} alt=\"\" width=\"300\" />\n          <h2 className=\"font-bold text-5xl  mt-6\">404</h2>\n          <div className=\"text-xl\">\n            Something seems to have gone wrong...\n          </div>\n        </div>\n      </div>\n    )\n  } else\n    return (\n      <UserPageElement\n        style={{\n          minHeight: \"calc(100vh)\",\n        }}\n      >\n      <Helmet>\n      <meta charset=\"utf-8\" />\n          <title>{`${data.username} - Imgbeam, Capital of Memeland`}</title>\n          <meta name=\"description\" content={`${data.description}`} />\n          <meta name=\"image\" content={data.avatar} />\n          {/* <!-- Schema.org for Google --> */}\n          <meta\n            itemprop=\"name\"\n            content={`${data.username} - Imgbeam, Capital of Memeland`}\n          />\n          <meta itemprop=\"description\" content={`${data.description}`} />\n          <meta itemprop=\"image\" content={data.avatar} />\n          {/* <!-- Twitter --> */}\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta\n            name=\"twitter:title\"\n            content={`${data.username} - Imgbeam, Capital of Memeland`}\n          />\n          <meta name=\"twitter:description\" content={`${data.description}`} />\n          <meta name=\"twitter:image:src\" content={data.avatar} />\n          {/* <!-- Open Graph general (Facebook, Pinterest & Google+) --> */}\n          <meta\n            name=\"og:title\"\n            content={`${data.username} - Imgbeam, Capital of Memeland`}\n          />\n          <meta name=\"og:description\" content={`${data.description}`} />\n          <meta name=\"og:image\" content={data.avatar} />\n          <meta name=\"og:type\" content=\"website\" />\n      </Helmet>\n        <div id=\"user-header-wrap\" style={{\n\n        }}>\n          {data.owner ? (\n            <Banner\n              onClick={(e) => toggleBackdropMenu(true)}\n              className=\"backdrop-image relative block  z-10\"\n              style={{\n                height: \"calc(100vw / 5)\",\n                width: \"100%\",\n                backgroundImage: `url(${data.backdrop || defaultbg})`,\n                backgroundPosition: `center`,\n                backgroundSize: \"cover\",\n              }}\n            >\n              <div\n                className=\"absolute overlay top-0 right-0 left-0 bottom-0 flex flex-col items-center justify-center\"\n                style={{\n                  background:\n                    \"linear-gradient(to top, rgba(170,170,170,.3), rgba(170,170,170,0)\",\n                }}\n              >\n              <BorderContainer className=\"flex flex-col items-center justify-center\">\n                <div className=\"font-extrabold text-white\">Change Banner</div>\n\n              </BorderContainer>\n              </div>\n            </Banner>\n          ) : (\n            <div\n              className=\"backdrop-image block  z-10\"\n              style={{\n                height: \"calc(100vw / 5)\",\n                width: \"100%\",\n                background: `url(${data.backdrop || defaultbg})`,\n                backgroundSize: \"cover\",\n                backgroundPosition: `center`,\n              }}\n            ></div>\n          )}\n\n          <div\n            id=\"user-page-avatar-info\"\n            className=\"container mx-auto py-3\"\n            style={{}}\n          >\n            <div className=\"flex flex-row pt-4 px-32\">\n              <div className=\"flex flex-row justify-between items-center\">\n                {/* header content */}\n                <div className=\"avatar-left mr-4\" style={{}}>\n                  {/* avatar button conditional */}\n                  {data.owner ? (\n                    <Avatar\n                      onClick={e => toggleAvatarMenu(true)}\n                      className=\" flex-row hidden overflow-hidden relative z-10 sm:flex items-start pt-2 justify-between \"\n                      style={{\n                        backgroundImage: `url(${data.avatar || avatarDefault})`,\n                        backgroundPosition: \"center\",\n                        backgroundSize: \"cover\",\n                        height: \"100px\",\n                        width: \"100px\",\n                        borderRadius: \"100%\",\n                      }}\n                    >\n                      <div\n                        className=\"overlay absolute top-0 bottom-0 left-0 right-0 z-20 \"\n                        style={{\n                          // background: \"rgba(170,170,170,.3)\",\n                          background: 'linear-gradient(to top, rgba(255,255,255,.4), rgba(255,255,255,0)'\n\n                        }}\n                      >\n                        <div\n                          className=\"absolute right-0 left-0 bottom-0 font-bold text-xs \"\n                          style={{\n                            height: \"30px\",\n                          }}\n                        >\n                          Choose\n                        </div>\n                      </div>\n                    </Avatar>\n                  ) : (\n                    <div\n                      className=\" flex-row hidden overflow-hidden relative z-10 sm:flex items-start pt-2 justify-between \"\n                      style={{\n                        background: `url(${data.avatar || avatarDefault})`,\n                        backgroundPosition: \"center\",\n                        backgroundSize: \"cover\",\n                        height: \"100px\",\n                        width: \"100px\",\n                        borderRadius: \"100%\",\n                      }}\n                    ></div>\n                  )}\n                </div>\n              </div>\n              <div className=\"flex flex-grow flex-row justify-between items-center\">\n                <div className=\"username-right text-left\">\n                  <div>\n                    <h2 className=\"text-3xl font-bold\">{data.username}</h2>\n                  </div>\n                  <div\n                    className=\"name-sub flex flex-col \"\n                    style={{\n                      color: `${theme.textFaded}`,\n                      fontSize: \"14px\",\n                    }}\n                  >\n                    <div className=\"mr-2\">{data.followers.length || 0} {(data.followers && data.followers.length) > 1 ? 'followers' : 'follower'}</div>\n                  </div>\n                </div>\n                {\n                  // only show interactions if not you\n                }\n                <div\n                  className=\"\"\n                  style={{}}\n                >\n                  {!data.owner && (\n                    <div className=\"px-6 interactions-right  flex flex-row items-center\">\n                      <div className=\"message-wrap mr-3\">\n                        <Link\n                          to={`/messages/${data.username}`}\n                          className=\" flex items-center justify-center\"\n                          style={{\n                            width: \"40px\",\n                            height: \"40px\",\n                            background: `${theme.backgroundLightest}`,\n                            borderRadius: \"100%\",\n                          }}\n                        >\n                          <i className=\"fas fa-envelope block\"></i>\n                        </Link>\n                      </div>\n                      <div>\n                        {!following ? (\n                          <button\n                            className=\"px-8 py-2 font-bold\"\n                            onClick={(e) => follow(e)}\n                            style={{\n                              background: `${theme.success}`,\n                              height: \"40px\",\n                              borderRadius: \"26px\",\n                            }}\n                          >\n                            Follow\n                          </button>\n                        ) : (\n                          <button\n                            className=\"px-8  py-2 font-bold\"\n                            onClick={(e) => follow(e)}\n                            style={{\n                              height: \"40px\",\n                              borderRadius: \"26px\",\n                              background: `${theme.backgroundLightest}`,\n                            }}\n                          >\n                            Unfollow\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Nav\n          id=\"user-page-nav\"\n          className=\"z-50 relative nav md:sticky py-2\"\n          style={{\n            // boxShadow: \"0 2px 4px rgba(0,0,0,.4)\",\n          }}\n        >\n          <div\n            className=\"container mx-auto \"\n            id=\"user-page-nav\"\n            style={{}}\n          >\n            <ul className=\"flex flex-row  mx-auto justify-center\">\n              <Link to={`/user/${props.match.params.username}`}>\n                <NavButton\n                  className=\"px-4 py-2 font-extrabold\"\n                  active={\n                    window.location.pathname ==\n                    `/user/${props.match.params.username}`\n                  }\n                >\n                  Galleries\n                </NavButton>\n              </Link>\n              <Link to={`/user/${props.match.params.username}/comments`}>\n                <NavButton\n                  className=\"px-4 py-2 font-extrabold\"\n                  active={window.location.href.includes(\"comments\")}\n                >\n                  Comments\n                </NavButton>\n              </Link>\n              <Link to={`/user/${props.match.params.username}/following`}>\n                <NavButton\n                  className=\"px-4 py-2 font-extrabold\"\n                  active={window.location.href.includes(\"following\")}\n                >\n                  Following\n                </NavButton>\n              </Link>\n              <Link to={`/user/${props.match.params.username}/about`}>\n                <NavButton\n                  className=\"px-4 py-2 font-extrabold\"\n                  active={window.location.href.includes(\"about\")}\n                >\n                  About\n                </NavButton>\n              </Link>\n            </ul>\n          </div>\n        </Nav>\n        <div\n          id=\"user-page-content-wrapper\"\n          className=\"flex flex-col relative z-20 container mx-auto py-6 \"\n        >\n          <div\n            id=\"user-activity-column\"\n            className=\"relative container\"\n            style={{\n              minHeight: 'calc(80vh - 200px)'\n            }}\n          >\n            <Route\n              path={`/user/${props.match.params.username}`}\n              exact\n              render={() => (\n                <PostsComponent\n                  username={props.match.params.username}\n                ></PostsComponent>\n              )}\n            ></Route>\n            <Route\n              path={`/user/${props.match.params.username}/comments`}\n              render={() => (\n                <CommentsComponent\n                  username={props.match.params.username}\n                ></CommentsComponent>\n              )}\n            ></Route>\n            <Route\n              path={`/user/${props.match.params.username}/following`}\n              render={() => (\n                <FollowingList\n                  username={props.match.params.username}\n                ></FollowingList>\n              )}\n            ></Route>\n            <Route\n              path={`/user/${props.match.params.username}/about`}\n              render={() => (\n                <AboutView\n                  user={data}\n                  username={props.match.params.username}\n                ></AboutView>\n              )}\n            ></Route>\n          </div>\n        </div>\n        {backdropMenu && (\n          <BackdropSelect\n            pulldata={fetchData}\n            backdrop={data.backdrop}\n            avatar={data.avatar}\n            toggleMenu={toggleBackdropMenu}\n          ></BackdropSelect>\n        )}\n        {\n          avatarMenu &&\n          <AvatarSelect\n             pulldata={fetchData}\n            backdrop={data.backdrop}\n            avatar={data.avatar}\n            toggleMenu={toggleAvatarMenu}\n          ></AvatarSelect>\n        }\n      </UserPageElement>\n    )\n}\n\nconst Nav = styled.div`\n  top: ${props => props.theme.navbar_height};\n`\nconst UserPageElement = styled.div`\n  .nav{\n    background: ${props => props.theme.background_2}\n  }\n`\nconst Li = styled.li`\n  display: inline-block;\n  margin: 0 12px;\n  border-radius: 8px;\n  padding: 10px 16px;\n  background: ${(props) => (props.active ? \"#555\" : \"#232323\")};\n  transform: ${(props) => (props.active ? \"scale(1.1)\" : \"scale(1)\")};\n  font-size: ${(props) => (props.active ? \"24px\" : \"22px\")};\n  overflow: visible;\n  transition: all 0.3s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n  cursor: pointer;\n  :hover {\n    background: #555;\n    opacity: 0.2;\n  }\n`\nconst NavButton = styled.li`\n  color: ${(props) => (props.active ? props.theme.success : theme.textFaded)};\nborder-radius: 8px;\n  background-color: ${(props) =>\n    props.active ? props.theme.background_3 : \"none\"};\n  :hover {\n    opacity: .7;\n  }\n`\nconst BorderContainer = styled.div`\n  border: ${props => `2px dashed ${props.theme.border}`};\n  padding: 32px;\n  position: absolute;\n  border-radius: 12px;\n  top: 10px;\n  right: 10px;\n  bottom: 10px;\n  left: 10px;\n`\n\nconst Avatar = styled.button`\n  .overlay {\n    transition: all .2s ease-in-out;\n    opacity: 0;\n  }\n  :hover {\n    .overlay {\n      opacity: 1;\n    }\n  }\n`\nconst Banner = styled.button`\n  .overlay {\n    opacity: 0;\n    transition: all 0.3s ease-in-out;\n  }\n  :hover {\n    .overlay {\n      opacity: 1;\n    }\n  }\n`\n","import React, { useEffect, useRef } from \"react\"\nimport styled from \"styled-components\"\nexport default function ImageMenu(props) {\n  const ref = useRef()\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClick)\n    return () => {\n      document.removeEventListener(\"click\", handleClick)\n    }\n  })\n  function handleClick(e) {\n    if (e.target !== ref.current && e.target.parentNode !== ref.current) {\n      props.toggleMenu(false)\n    }\n  }\n  function deleteImage() {\n    let image = props.image\n  }\n  return (\n    <Menu className=\"absolute text-left right-0 text-sm bg-gray-900\" ref={ref}>\n      <ul>\n      <Li>\n      <a target=\"_blank\">Make First</a>\n      \n      </Li>\n      <Li>\n      <a href={`${props.path}`} target=\"_blank\">View Full Resolution</a>\n      \n      </Li>\n      <Li>\n      <a href={`${props.path}`} download>Download Full Resolution</a></Li>\n        <Li className=\"\">Share</Li>\n        <Li\n          className=\"text-red-600\"\n          onClick={(e) => props.deleteImage(props.image_id, props.image_name)}\n        >\n          Delete\n        </Li>\n      </ul>\n    </Menu>\n  )\n}\nconst Menu = styled.div`\n  border-radius: 12px;\n  padding: 0.8rem 1.4rem;\n  top: 100%;\n  font-family: inherit;\n`\nconst Li = styled.li`\n    margin: 12px 0;\n    white-space: nowrap;\n    opacity: .7;\n    :hover{\n        opacity: 1\n    }\n`\n","import React, { useState, useEffect, useRef } from \"react\"\nimport styled from \"styled-components\"\nimport Menu from \"./ImageMenu\"\nexport default function ImageContainer(props) {\n  const [menu, toggleMenu] = useState(false)\n  const inputRef = useRef()\n  const [newDescription, setNewDescription] = useState('')\n  const [editing, toggleEditing] = useState(false)\n  function deleteImage(){\n    \n  }\n  function edit() {\n    setNewDescription(props.description)\n    toggleEditing(true)\n  }\n  useEffect(()=>{\n    if(editing){\n        inputRef.current.focus()\n    }\n  }, [editing])\n  function doneEditing(e){\n    toggleEditing(false)\n    changeDescription()\n  }\n  function on_enter_key(e){\n    if(e.keyCode == 13){\n        inputRef.current.blur()\n    }\n  }\n  async function changeDescription(){\n    let updatedDescription = newDescription\n    \n    let url = `/beam/api/edit/${props.gallery_id}/description?description=${updatedDescription}&image_id=${props.image_id}`\n    try {\n      let res = await fetch(url, {\n        method: \"post\",\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n      let json = await res.json()\n      console.log(json)\n      if (json.success) {\n        console.log(\"Description updated.\")\n        props.updateGallery()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  return (\n    <ImageContainerEl className=\"mb-4 relative\">\n      <div className=\"overlay absolute opacity-0 top-0 left-0 right-0 bottom-0\">\n          <div className=\"image-delete-button absolute top-0 right-0\">\n            <button className=\"p-4\" onClick={e => props.deleteImage(props.image_id, props.image_name)}>\n            <i className=\"fas fa-times text-white fa-2x\"></i>\n            </button>\n          </div>\n      </div>\n      <div className=\"image-wrapper\">\n        <img src={props.path} alt={props.description || props.path} />\n        <div\n          className=\"menu-button\"\n          onClick={(e) => {\n            toggleMenu((old) => !old)\n          }}\n        >\n          <i className=\"fas fa-ellipsis-h\"></i>\n          {menu && (\n            <Menu\n              path={props.path}\n              toggleMenu={toggleMenu}\n              deleteImage={props.deleteImage}\n              image_name={props.image_name}\n              image_id={props.image_id}\n            ></Menu>\n          )}\n        </div>\n      </div>\n      <div\n        onClick={(e) => edit(e)}\n        className=\"description-edit py-8 text-left px-4 overflow-x-hidden\"\n        style={{\n          cursor: \"pointer\",\n        }}\n      >\n        {editing ? (\n          <Input onKeyDown={e=> on_enter_key(e)} onChange={e=>setNewDescription(e.target.value)} value={newDescription} onBlur={e=>doneEditing()} ref={inputRef} type=\"text\" />\n        ) : (\n          props.description || \n          <div className=\"w-full flex flex-col justify-center items-center\">\n          <i className=\"fas fa-pencil-alt\"></i>\n          </div>\n        )}\n      </div>\n    </ImageContainerEl>\n  )\n}\nconst ImageContainerEl = styled.div`\n  position: relative;\n  overflow: hidden;\n  border-radius: 4px;\n  box-shadow: 0 0 24px rgba(0,0,0,.3);\n  .overlay{\n    z-index:99;\n  }\n  :hover{\n    .overlay{\n      opacity: 1;\n    }\n  }\n  div.image-wrapper {\n    position: relative;\n\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: fill;\n    }\n    div.menu-button {\n      transition: all 0.1s linear;\n      border-radius: 100%;\n      width: 40px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      z-index: 99;\n      height: 40px;\n      margin-right: 10px;\n      margin-bottom: 10px;\n      opacity: 0.6;\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      font-weight: 900;\n      :hover {\n        opacity: 1;\n        background: rgba(255, 255, 255, 0.3);\n      }\n    }\n  }\n`\nconst Input = styled.input`\n    outline: none;\n    border: none;\n    width: 100%;\n    margin-right: 1rem;\n    background: transparent;\n`","import React, { useEffect, useState, useRef } from \"react\"\nimport colors from \"../../../theme/colors\"\nimport styled, { keyframes } from \"styled-components\"\nimport {connect} from 'react-redux'\n\nfunction ArrangementView(props) {\n  const [arrangement, setArrangement] = useState([])\n  const [dragPosition, setDragPosition] = useState(null)\n  const [element, setElement] = useState(null)\n  useEffect(() => {\n    setArrangement(props.images)\n  }, [])\n  useEffect(() => {\n    if (!element) setDragPosition(null)\n  }, [element])\n  useEffect(() => {\n    console.log(dragPosition)\n  }, [dragPosition])\n  function dragStart(e, index) {\n    // e.preventDefault()\n    // e.stopPropagation()\n    e.currentTarget.classList.add(\"dragging\")\n    setElement(index)\n  }\n  function dragEnd(e) {\n    // e.preventDefault()\n    // e.stopPropagation()\n    e.currentTarget.classList.remove(\"dragging\")\n    setElement(null)\n  }\n  function dragging(e, index) {\n    e.preventDefault()\n    setDragPosition(index)\n    // console.log('to drop on position ' + index)\n  }\n  function drop(e) {\n    e.preventDefault()\n    // now change array order\n    moveTo(element, dragPosition)\n  }\n  function moveTo(element, target_position) {\n    console.log(\"need to move \" + element + \" to \" + target_position)\n    let image = arrangement[element]\n    let newArrangement = [...arrangement]\n    newArrangement.splice(element, 1)\n    newArrangement.splice(target_position, 0, image)\n    setArrangement(newArrangement)\n  }\n  function moveUp(index) {\n    if (index == arrangement.length - 1) return\n    setArrangement((oldArrangement) => {\n      let newArrangement = [...oldArrangement]\n      let item = newArrangement.splice(index, 1)[0]\n      newArrangement.splice(index + 1, 0, item)\n      return newArrangement\n    })\n  }\n  function moveDown(index) {\n    if (index == 0) return // prevent moving outside of array range\n    setArrangement((oldArrangement) => {\n      let newArrangement = [...oldArrangement]\n      let item = newArrangement.splice(index, 1)[0]\n      newArrangement.splice(index - 1, 0, item)\n      return newArrangement\n    })\n  }\n  async function updateArrangement() {\n    let url = `/api/beam/edit/${props.gallery_id}/arrangement`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n        body: JSON.stringify(arrangement),\n      })\n      if(res.status === 200){\n        props.refreshData()\n        props.toggle(false)\n      }\n      console.log(res.status)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  useEffect(() => {\n    console.log(arrangement)\n  }, [arrangement])\n  return (\n    <div\n      className=\"fixed top-0 bottom-0 left-0 right-0 flex flex-col justify-center items-center  p-32\"\n      style={{\n        zIndex: 9999,\n        marginLeft: `${props.sidebar ? '240px' : 0}`\n        // background: \"rgba(0,0,0,.7)\",\n      }}\n    >\n      <div\n        className=\"fixed top-0 bottom-0 left-0 right-0\"\n        onClick={(e) => props.toggle(false)}\n        style={{\n          zIndex: \"0\",\n          background: \"rgba(0,0,0,.6)\",\n        }}\n      ></div>\n      <Panel\n        onDrop={e => e.preventDefault()}\n        id=\"arrangement-panel\"\n        className=\"my-24 mx-24 py-6 px-16 w-full h-full flex flex-col\"\n        style={{\n          zIndex: 99,\n          backgroundColor: `${colors.backgroundDark}`,\n          borderRadius: \"3px\",\n          boxShadow: \"0 0 14px rgba(0,0,0,.5)\",\n        }}\n      >\n        <div className=\"arrangement-title mb-4\">\n          <h3 className=\"font-bold text-lg\">Drag to rearrange</h3>\n        </div>\n        <div className=\"tile-container flex flex-row flex-wrap flex-grow\">\n          {arrangement.map((imageObj, index) => {\n            return (\n              <div\n                className=\"position py-4 px-4\"\n                id={`arrangement-position-${index}`}\n                onDragOver={(e) => dragging(e, index)}\n                key={`arrangement-preview-${imageObj.file_name}`}\n              >\n              \n                <Tile\n                  draggable={true}\n                  activeForDrop={dragPosition === index}\n                  cover={index === 0}\n                  onDragStart={(e) => dragStart(e, index)}\n                  onDragEnd={(e) => dragEnd(e)}\n                  onDrop={(e) => drop(e)}\n                  id={`arrangement-tile-${index}`}\n                  className=\" flex flex-col draggable-tile\"\n                >\n                  <div\n                    className=\"image-holder w-32 h-24 bg-black relative\"\n                    style={{\n                      boxShadow: \"0 0 8px rgba(0,0,0,.6)\",\n                    }}\n                  >\n                    <img\n                      src={imageObj.path_lq}\n                      alt=\"\"\n                      style={{\n                        objectFit: \"contain\",\n                        width: \"100%\",\n                        height: \"100%\",\n                      }}\n                    />\n                  </div>\n                \n                  {/* <div className=\"button-wrap mt-4 flex flex-row w-full items-center justify-between\">\n                    <div className=\"w-50 flex flex-row justify-start\">\n                      {index !== 0 && (\n                        <button\n                          className=\"rounded-full h-6 w-6 flex flex-col justify-center items-center\"\n                          onClick={(e) => moveDown(index)}\n                          style={{\n                            background: `${colors.backgroundLightest}`,\n                          }}\n                        >\n                          <i className=\"fas fa-chevron-left block\"></i>\n                        </button>\n                      )}\n                    </div>\n                    {index === 0 && (\n                      <div className=\"font-bold text-xs\">cover image</div>\n                    )}\n                    <div className=\"w-50 flex flex-row justify-end\">\n                      {index !== arrangement.length - 1 && (\n                        <button\n                          className=\"rounded-full h-6 w-6 flex flex-col justify-center items-center\"\n                          onClick={(e) => moveUp(index)}\n                          style={{\n                            background: `${colors.backgroundLightest}`,\n                          }}\n                        >\n                          <i className=\"fas fa-chevron-right block\"></i>\n                        </button>\n                      )}\n                    </div>\n                  </div> */}\n                </Tile>\n                {\n                    index === 0 &&\n                    <div className=\"text-sm font-extrabold mt-3\">\n                      cover\n                    </div>\n                  }\n              </div>\n            )\n          })}\n        </div>\n\n        <div id=\"arrangement-control\" className=\"flex flex-row justify-end\">\n          <button\n            onClick={(e) => props.toggle(false)}\n            className=\"px-6 py-1 font-bold mr-8\"\n            style={{\n              borderRadius: '3px',\n              color: `${colors.backgroundLight}`,\n            }}\n          >\n            Cancel\n          </button>\n          <button\n            onClick={(e) => updateArrangement()}\n            className=\"px-6 py-1 font-bold\"\n            style={{\n              borderRadius: \"3px\",\n              background: `${colors.success}`,\n            }}\n          >\n            Confirm\n          </button>\n        </div>\n      </Panel>\n    </div>\n  )\n}\nconst Tile = styled.div`\n  cursor: grab;\n  .dragging {\n    cursor: grabbing;\n  }\n  .image-holder {\n    border: ${(props) =>\n      props.activeForDrop ? \"2px solid rgba(255,255,255,.4)\" : \"2px solid transparent\"};\n      border-radius:4px;\n      overflow:hidden;\n    /* border-color: ${(props) => (props.cover ? colors.success : \"transparent\")}; */\n    border-width: 2px;\n    :after{\n      content: '';\n      position: absolute;\n      top:0;\n      bottom:0;\n      left:0;\n      right:0;\n      background: ${(props) => (props.activeForDrop ? \"rgba(255,255,255,.1)\" : \"transparent\")};\n      z-index: 9;\n\n    }\n  }\n  .button-wrap {\n    opacity: 0;\n    transition: all 0.05s linear;\n  }\n  :hover {\n    .button-wrap {\n      opacity: 1;\n    }\n  }\n`\nconst enter = keyframes`\n  from{\n    opacity: 0;\n    transform: scale(.5);\n  }\n  to{\n    opacity: 1;\n    transform: scale(1);\n  }\n`\nconst Panel = styled.div`\n  opacity: 0;\n  transform: scale(0.5);\n  animation: ${enter} 0.1s linear forwards;\n`\n\nfunction mapStateToProps(state){\n  return{\n    sidebar: state.app_state_reducer.sidebar\n  }\n}\nexport default connect(mapStateToProps)(ArrangementView)","import React, { useEffect, useState } from \"react\"\nimport ImageContainer from \"./ImageContainer\"\nimport { Redirect, useHistory } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport VideoContainer from \"../gallery_page/VideoContainer\"\nimport moment from \"moment\"\nimport MoonLoader from \"react-spinners/MoonLoader\"\nimport theme from \"../../../theme/colors\"\nimport ArrangementView from \"../gallery_page/ArrangementView\"\nimport {Hr} from '../../Sidebar'\nexport default function GalleryEdit(props) {\n  const [error, setError] = useState(false)\n  const [gallery, setGallery] = useState({\n    title: \"\",\n    images: [],\n    username: \"\",\n  })\n  const history = useHistory()\n  const [tags, setTags] = useState([])\n  const [recieved, setRecieved] = useState(false)\n  let prepend = process.env.MODE === \"production\" ? \"\" : \"http://localhost:8888\"\n\n  // get initial data on load\n  useEffect(() => {\n    fetchData()\n    getTags()\n    getFavorites()\n    getLikes()\n  }, [])\n  async function fetchData() {\n    console.log(\"requesting gallery\")\n    try {\n      let res = await fetch(`/api/beam/${props.match.params.gallery_id}`, {\n        credentials: \"include\",\n      })\n      let json = await res.json()\n      console.log(json)\n      setError(false)\n      setGallery(json)\n      setRecieved(true)\n    } catch (err) {\n      console.log(err)\n      setError(true)\n      setRecieved(true)\n    }\n  }\n\n  //tags\n  const [newTagActive, setNewtagActive] = useState(false)\n  const [newTag, setNewTag] = useState(\"\")\n  function makeNewTag(e) {\n    setNewtagActive(true)\n  }\n  useEffect(() => {\n    console.log(newTagActive)\n  }, [newTagActive])\n  async function onBlurTag(e) {\n    setNewtagActive(false)\n    if (e.target.value.replace(/\\.[^/.]+$/, \"\").length > 0) {\n      // upload\n      let url = `/api/beam/edit/${props.match.params.gallery_id}/tags/add?tag=${newTag}`\n      setNewTag(\"\") // reset string\n      try {\n        let res = await fetch(url, {\n          method: \"post\",\n          mode: \"cors\",\n          credentials: \"include\",\n        })\n        console.log(res.status)\n        if (res.status == 200) {\n        }\n        getTags()\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  }\n  async function deleteTag(tagString) {\n    console.log(\"request to delete \" + tagString)\n    let url = `/api/beam/edit/${props.match.params.gallery_id}/tags/remove?tag=${tagString}`\n    try {\n      let res = await fetch(url, {\n        method: \"DELETE\",\n        mode: \"cors\",\n        credentials: \"include\",\n      })\n      if (res.status == 200) {\n        getTags()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  useEffect(() => {\n    if (newTagActive) {\n      document.getElementById(\"new-tag-input\").focus()\n    }\n  }, [newTagActive])\n  function tag_press_enter(e) {\n    if (e.keyCode == 13) {\n      document.getElementById(\"new-tag-input\").blur()\n    }\n  }\n\n  // get tags\n  async function getTags() {\n    console.log(\"getting tags\")\n    try {\n      let res = await fetch(`/api/beam/${props.match.params.gallery_id}/tags`, {\n        credentials: \"include\",\n        mode: \"cors\",\n        method: \"get\",\n      })\n      if (res.status === 200) {\n        let tags = await res.json()\n        setTags(tags)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  useEffect(() => {\n    console.log(tags)\n  }, [tags])\n  // callback for when data is set to state\n  useEffect(() => {\n    document.title = gallery.title + ` by ${gallery.username}`\n  }, [gallery])\n  function triggerFileInput(e) {\n    document.getElementById(\"new-image-input\").click()\n  }\n\n  // get likes\n  const [likes, setLikes] = useState([])\n  async function getLikes() {\n    let url = `/api/beam/${props.match.params.gallery_id}/likes`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"get\",\n        mode: \"cors\",\n      })\n      let json = await res.json()\n      if (json.success) {\n        console.log(json.likes)\n        setLikes(json.likes)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // new file uplaod\n  const [file, setFile] = useState()\n\n  useEffect(() => {\n    console.log(\"file loaded\")\n    // send file\n    if (file) {\n      addImage(file)\n    }\n  }, [file])\n  async function addImage(file) {\n    let data = new FormData()\n    data.append(\"file\", file)\n    try {\n      let res = await fetch(\n        `/api/beam/edit/${props.match.params.gallery_id}/images/add`,\n        {\n          method: \"POST\",\n          mode: \"cors\",\n          credentials: \"include\",\n          body: data,\n        }\n      )\n      // if success, redirect to gallery\n      console.log(res.status)\n      fetchData()\n      setFile(null)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // delete image\n  function deleteImage(image_id, image_name) {\n    console.log(\"deleting \" + image_id)\n    // display are you sure box\n    if (window.confirm(\"Are you sure you want to delete?\")) {\n      // run delete\n      request_image_delete(image_id, image_name)\n    } else {\n      console.log(\"Aborted.\")\n    }\n  }\n  async function request_image_delete(image_id, image_name) {\n    // abort if only 1 image\n    if (gallery.images.length == 1) {\n      alert(\"Gallery must contain at least one image.\")\n      return\n    }\n    let url = `/api/beam/edit/${props.match.params.gallery_id}/images/remove?image_id=${image_id}&image_name=${image_name}`\n    try {\n      let res = await fetch(url, {\n        mode: \"cors\",\n        credentials: \"include\",\n        method: \"post\",\n      })\n      if (res.status == 200) {\n        console.log(\"Image removed.\")\n        fetchData()\n      }\n    } catch (err) {\n      console.log(error)\n    }\n  }\n\n  async function request_gallery_delete(e) {\n    if (!window.confirm(\"Are you sure you want to delete?\")) {\n      return\n    }\n    let url = `/api/beam/edit/${props.match.params.gallery_id}/delete`\n    try {\n      let res = await fetch(url, {\n        method: \"DELETE\",\n        credentials: \"include\",\n      })\n      // redirect on success\n      if (res.status === 200) {\n        history.push(`/user/${gallery.username}`)\n      }\n      console.log(res.status)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // edit title\n  const [editTitle, setEditTitle] = useState(false)\n  const [newTitle, setNewTitle] = useState(\"\")\n  function toggleTitleEdit() {\n    setNewTitle(gallery.title)\n    setEditTitle(true)\n  }\n  useEffect(() => {\n    if (editTitle) {\n      document.getElementById(\"title-edit\").focus()\n    }\n  }, [editTitle])\n  function title_pressed_enter(e) {\n    if (e.keyCode == 13) {\n      document.getElementById(\"title-edit\").blur()\n    }\n  }\n  function updateTitle(e) {\n    setEditTitle(false)\n    changeTitle()\n  }\n  async function changeTitle(e) {\n    let updatedTitle = newTitle\n\n    let url = `/api/beam/edit/${props.match.params.gallery_id}/title?title=${updatedTitle}`\n    try {\n      let res = await fetch(url, {\n        method: \"post\",\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n      if (res.status === 200) {\n        fetchData()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  function doneEditing() {\n    props.history.push(`/beam/${props.match.params.gallery_id}`)\n  }\n\n  // get favorites\n  const [favorites, setFavorites] = useState(0)\n  async function getFavorites() {\n    try {\n      let res = await fetch(\n        `/api/beam/${props.match.params.gallery_id}/favoritescount`\n      )\n      let json = await res.json()\n      // console.log(json.favorites)\n      setFavorites(json.favorites)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // arrangement\n\n  // Arrangement\n  const [arranging, toggleArranging] = useState(false)\n\n  // if error, display 404\n  if (error) {\n    return <div>not found</div>\n  }\n  // if not yet received, display spinner\n  else if (!recieved) {\n    return (\n      <div className=\"flex h-screen w-full flex-col justify-center items-center\">\n        <MoonLoader color={\"white\"}></MoonLoader>\n        {/* <div>\n          Finding...\n        </div> */}\n      </div>\n    )\n  }\n\n  // markup\n  else\n    return (\n      <View\n        className=\"pt-24 mx-4 relative\"\n        id=\"post-edit-page\"\n        style={{\n          zIndex: 99,\n        }}\n      >\n        {gallery.owner === false && (\n          <Redirect to={`/beam/${props.match.params.gallery_id}`}></Redirect>\n        )}\n\n        <div className=\"flex relative flex-col container mx-auto\">\n          <div\n            className=\"flex flex-row  relative mx-auto box-border  pb-12 \"\n            style={{}}\n          >\n            <div\n              id=\"edit-post-info\"\n              className=\"edit-meta  sm:mr-6 text-left sticky\"\n              style={{\n                maxWidth: \"340px\",\n                minWidth: \"260px\",\n                position: \"-webkit-sticky\",\n                position: \"sticky\",\n                top: \"90px\",\n                alignSelf: \"flex-start\",\n              }}\n            >\n              <MetaInfo className=\"flex flex-row relative \">\n                <div className=\"px-4 md:px-0 pb-6 relative z-10\">\n                  {!editTitle ? (\n                    <TitleClick\n                      onClick={(e) => toggleTitleEdit()}\n                      className=\"text-2xl font-bold\"\n                      style={{ cursor: \"text\" }}\n                      title=\"Click to edit title.\"\n                    >\n                      {gallery.title || (\n                        <span className=\"opacity-75\">add a title</span>\n                      )}\n                    </TitleClick>\n                  ) : (\n                    <TitleEdit\n                      id=\"title-edit\"\n                      onKeyDown={(e) => title_pressed_enter(e)}\n                      onBlur={(e) => updateTitle(e)}\n                      className=\"text-2xl outline-none font-bold bg-transparent\"\n                      value={newTitle}\n                      onChange={(e) => setNewTitle(e.target.value)}\n                    ></TitleEdit>\n                  )}\n\n                  <h3 className=\"text-xs opacity-50 font-bold\">\n                    {moment(gallery.date_created).format(\"MMMM Do YYYY\")}\n                  </h3>\n\n                  <div id=\"post-edit-description\" className=\"mt-6\">\n                    {gallery.description}\n                  </div>\n                </div>\n              </MetaInfo>\n\n              <MetaInfo id=\"edit-tags-section\" className=\"mt-3\">\n                {/* <h2 className=\"text-sm font-bold \">TAGS</h2> */}\n\n                <div id=\"tags-section\" className=\"mb-3\">\n                  {tags &&\n                    tags.map((tag, indx) => {\n                      return (\n                        <Tag key={`edit-tag-${indx}`} className=\"\" style={{}}>\n                          <div\n                            className=\"delete-tag-button\"\n                            onClick={(e) => deleteTag(tag.name)}\n                          >\n                            <i className=\"fas fa-minus-circle fa-lg\"></i>\n                          </div>\n                          <div className=\"text-xs\">{tag.name}</div>\n                        </Tag>\n                      )\n                    })}\n                  {/* limit total number of tags */}\n                  {tags.length < 20 && (\n                    <AddTag\n                      style={{}}\n                      className=\"mr-5 \"\n                      active={newTagActive}\n                      onClick={(e) => makeNewTag(e)}\n                      // onBlur={(e) => setNewtagActive(false)}\n                    >\n                      {!newTagActive ? (\n                        <i className=\"fas fa-plus\" style={{}}></i>\n                      ) : (\n                        <TagInput\n                          id=\"new-tag-input\"\n                          type=\"text\"\n                          name=\"new-tag\"\n                          style={{}}\n                          onBlur={(e) => onBlurTag(e)}\n                          onKeyDown={(e) => tag_press_enter(e)}\n                          onChange={(e) => setNewTag(e.target.value)}\n                          value={newTag}\n                        />\n                      )}\n                    </AddTag>\n                  )}\n                </div>\n              </MetaInfo>\n              <div id=\"edit-post-controls-list\" className=\"mt-8 relative\">\n                <ul className=\"text-sm\">\n                  <li className=\"my-1 py-1 flex flex-row items-center \">\n                    {gallery.singleton ? (\n                      <a\n                        className=\"flex flex-row items-center w-full\"\n                        href={`${prepend}/api/beam/${props.match.params.gallery_id}/download`}\n                        download\n                      >\n                        <Item\n                          icon={\"fa-save\"}\n                          string={\"Download Gallery\"}\n                        ></Item>\n                      </a>\n                    ) : (\n                      <a\n                        className=\"flex flex-row items-center w-full\"\n                        href={`${prepend}/api/beam/${props.match.params.gallery_id}/zip`}\n                        download\n                      >\n                        <Item\n                          icon={\"fa-save\"}\n                          string={\"Download Gallery\"}\n                        ></Item>\n                      </a>\n                    )}\n                  </li>\n                  <li className=\"my-1 py-1 font-bold \">\n                    <Item\n                      string={\"Rearrange Media\"}\n                      icon={\"fa-random\"}\n                      action={toggleArranging}\n                    ></Item>\n                  </li>\n                  <li className=\"my-1 py-1 font-bold \">\n                    <Item\n                      icon={\"fa-trash\"}\n                      string={\"Delete Gallery\"}\n                      action={request_gallery_delete}\n                    ></Item>\n                  </li>\n                </ul>\n              </div>\n              <Hr className=\"\"></Hr>\n\n              <div\n                className=\"mt-8 flex flex-row items-center\"\n                style={{\n                  height: \"32px\",\n                }}\n              >\n                <PrimaryActionButton\n                  className=\"px-8 self-stretch py-1 w-full text-xs font-extrabold\"\n                  onClick={(e) => doneEditing()}\n                  style={{\n                    maxWidth: \"200px\",\n                  }}\n                >\n                  Finish Editing\n                </PrimaryActionButton>\n                <PrimaryActionButton className=\"ml-3 self-stretch px-3\">\n                  <i className=\"fas fa-chevron-down\"></i>\n                </PrimaryActionButton>\n              </div>\n            </div>\n\n            <div\n              className=\"edit-content mt-12 sm:mt-0  pb-12\"\n              style={{\n                maxWidth: \"680px\",\n              }}\n            >\n              <div id=\"gallery-columns\">\n                {recieved &&\n                  gallery.images.map((imageObj, index) => {\n                    if (imageObj.media_type === \"image\") {\n                      return (\n                        <ImageContainer\n                          image_id={imageObj.image_id}\n                          image_name={imageObj.file_name}\n                          deleteImage={deleteImage}\n                          path={imageObj.path}\n                          updateGallery={fetchData}\n                          description={imageObj.description}\n                          key={`gallery-image-${index}`}\n                          gallery_id={props.match.params.gallery_id}\n                        />\n                      )\n                    } else {\n                      return (\n                        <VideoContainer\n                          image_id={imageObj.image_id}\n                          image_name={imageObj.file_name}\n                          deleteImage={deleteImage}\n                          string={imageObj.path}\n                          key={`gallery-image-${index}`}\n                          description={imageObj.description}\n                          gallery_id={props.match.params.gallery_id}\n                        ></VideoContainer>\n                      )\n                    }\n                  })}\n              </div>\n              <div className=\"add-content-container\">\n                <Button\n                  className=\"float-right px-12 py-1 text-sm font-bold \"\n                  onClick={(e) => triggerFileInput(e)}\n                  title=\"Add new media\"\n                >\n                  <div className=\"font-bold text-sm\">New</div>\n                  {/* <i className=\"fas fa-image fa-lg\"></i> */}\n                </Button>\n                <input\n                  type=\"file\"\n                  name=\"\"\n                  onChange={(e) => setFile(e.target.files[0])}\n                  id=\"new-image-input\"\n                  className=\"hidden\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        {arranging && (\n          <ArrangementView\n            toggle={toggleArranging}\n            gallery_id={gallery.gallery_id}\n            toggleArranging={toggleArranging}\n            refreshData={fetchData}\n            images={gallery.images}\n          ></ArrangementView>\n        )}\n      </View>\n    )\n}\n\nfunction Item(props) {\n  return (\n    <ItemEl color={props.color} onClick={(e) => props.action(e)} className=\"\">\n      <div className=\"flex item-content flex-row items-center justify-start\">\n        <div\n          className=\"icon-holder flex flex-col items-center justify-center mr-4\"\n          style={{\n            width: \"32px\",\n          }}\n        >\n          <i\n            className={`icon block fas ${props.icon} `}\n            style={{\n              fontSize: \"20px\",\n            }}\n          ></i>\n        </div>\n        <div className=\"text-sm font-semibold\">{props.string}</div>\n        <div className=\"ml-auto\">{props.children}</div>\n      </div>\n    </ItemEl>\n  )\n}\nconst ItemEl = styled.button`\n  width: 100%;\n  :hover {\n    .icon {\n      color: ${(props) => props.color || props.theme.secondary};\n    }\n  }\n  .check {\n    color: ${(props) => props.theme.icons};\n  }\n  .icon {\n    color: ${(props) => props.theme.icons_2};\n  }\n  .item-content {\n    padding: 8px 8px;\n    border-radius: 8px;\n    :hover {\n      background-color: ${(props) => props.theme.background_3};\n    }\n  }\n`\nconst View = styled.div`\n  color: ${(props) => props.theme.text};\n`\nconst MetaInfo = styled.div``\nconst Button = styled.button`\n  position: relative;\n  color: white;\n  overflow: hidden;\n  border-radius: 3px;\n  /* border-radius: 26px; */\n  background: ${theme.success};\n`\nconst Tag = styled.div`\n  cursor: pointer;\n  margin-bottom: 10px;\n  margin-right: 1rem;\n  display: inline-block;\n  position: relative;\n  padding: 10px 18px;\n  font-weight: bolder;\n  border-radius: 8px;\n  box-shadow: ${props => `4px 4px 18px ${props.theme.background_4}`};\n  border: ${props => `1px solid ${props.theme.border}`};\n  transition: all 0.2s ease-in;\n  :hover {\n    div.delete-tag-button {\n      display: block;\n      right: -10px;\n      top: 0;\n    }\n  }\n  .delete-tag-button {\n    display: ${(props) => (props.active ? \"block\" : \"none\")};\n    position: absolute;\n  }\n`\n\nconst TitleClick = styled.h1`\n  &:hover {\n    opacity: 0.75;\n  }\n`\nconst TitleEdit = styled.input`\n  overflow: visible;\n  width: 100%;\n`\n\nconst AddTag = styled.button`\n  padding: 10px 24px;\n  opacity: 0.3;\n  display: inline-block;\n  border-radius: 26px;\n  transition: all 0.2s ease-in;\n\n  input {\n    border: none;\n    outline: none;\n    width: auto;\n  }\n`\nconst PrimaryActionButton = styled.button`\n  border-radius: 8px;\n  background: ${theme.success};\n  color: white;\n`\nconst TagInput = styled.input`\n  background: ${(props) => props.theme.background_4};\n  padding: 3px;\n`\nconst IconContainer = styled.div`\n  width: 24px;\n  display: flex;\n  margin-right: 16px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n","import React from 'react'\n\nexport default function LeaderBoardPage() {\n    return (\n        <div>\n            \n        </div>\n    )\n}\n","import React, { useState, useEffect } from \"react\"\nimport styled, { keyframes } from \"styled-components\"\nimport { useHistory } from \"react-router-dom\"\nimport MoonLoader from \"react-spinners/MoonLoader\"\nimport { ToastContainer, toast } from \"react-toastify\"\n\nexport default function UploadComponent(props) {\n  const history = useHistory()\n  const [error, setError] = useState(false)\n  const [files, setFiles] = useState([])\n  const [uploading, setUploading] = useState(false)\n  const [fileURLs, setFileURLs] = useState([])\n  const [title, setTitle] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n  function on_select(e) {\n    // console.log(e.target.files)\n\n    let newFiles = [...files]\n    newFiles.push(e.target.files[0])\n    setFiles(newFiles)\n\n    let fileReader = new FileReader()\n    fileReader.readAsDataURL(e.target.files[0])\n    fileReader.onload = function (file) {\n      let newFileUrls = [...fileURLs]\n      newFileUrls.push(file.target.result)\n      setFileURLs(newFileUrls)\n    }\n  }\n\n  // useEffect(() => {\n  //   console.log(fileURLs)\n  // }, [fileURLs])\n  useEffect(() => {\n    console.log(files)\n  }, [files])\n  function on_drop(e) {\n    e.stopPropagation()\n    e.preventDefault()\n    console.log(\"drop in dropzone\")\n    let file = e.dataTransfer.files[0]\n    validate_file(file)\n  }\n  // make sure file is right format and size before auto-upload\n  function validate_file(file) {\n    let maxSizeImage = 20000000 // this is Bytes\n    let maxSizeVideo = 40000000\n    let vidLength = 90\n    console.log(file.size)\n    console.log(file.name)\n    console.log(file.type)\n    if (file.size < maxSizeImage) {\n      // setFile(file)\n    }\n  }\n  async function createPost() {\n    toast.dismiss()\n    toast.clearWaitingQueue()\n    // file presence check\n    if (files.length == 0) {\n      toast(\"No files to upload.\", {\n        position: \"bottom-center\",\n      })\n      return\n    }\n    // file size check\n    let size = 0\n    files.forEach(file=>{\n      size += file.size\n    })\n    // greater than 50 mb\n    console.log(size)\n    if((size / 1000000) > 50){\n      toast(\"Uploads can not be larger than 50mb.\", {\n        position: \"bottom-center\",\n      })\n      return\n    }\n\n    // title check\n    if (title == \"\") {\n      toast(\"A title is required.\", {\n        position: \"bottom-center\",\n      })\n      return\n    }\n    // build req body\n    let data = new FormData()\n    files.forEach((file, index) => {\n      data.append(`file_${index}`, file)\n    })\n    data.append(\"title\", title)\n    data.append(\"description\", description)\n\n    try {\n      setUploading(true)\n      let res = await fetch(\"/api/upload/create\", {\n        method: \"POST\",\n        mode: \"cors\",\n        credentials: \"include\",\n        body: data,\n      })\n      console.log(res.status)\n      if (res.status == 500) {\n        setUploading(false)\n        setError(true)\n        return\n      }\n      if (res.status == 400) {\n        toast(\"Select a file to upload.\", { position: \"bottom-center\" })\n        setUploading(false)\n      }\n      // if success, redirect to gallery\n      if (res.status == 200) {\n        setError(false)\n        setUploading(false)\n        let json = await res.json()\n        history.push(`/beam/${json.gallery_id}`)\n      }\n    } catch (err) {\n      // setError(true)\n      setUploading(false)\n      console.log(err)\n      console.log(\"Error during upload.\")\n    }\n  }\n  // remove file\n  function remove(index){\n    let oldFiles = [...files]\n    let oldFileURLs = [...fileURLs]\n    let removed = oldFiles.splice(index, 1)\n    let removedURLs = oldFileURLs.splice(index, 1)\n    setFiles(oldFiles)\n    setFileURLs(oldFileURLs)\n \n  }\n\n\n\n  if (uploading) {\n    return (\n      <div className=\"flex flex-col px-8 py-8 justify-center items-center\">\n      <h3 className=\"font-extrabold py-3\">Processing</h3>\n        <MoonLoader size={20}></MoonLoader>\n      </div>\n    )\n  } else if (error) {\n    return (\n      <div className=\"my-8 text-white flex flex-col justify-center items-center\">\n        <h2 className=\"text-3xl font-extrabold text-white\">\n          Error during file upload.\n        </h2>\n        <div className=\"mt-8\">\n          <button\n            className=\"text-xl font-bold py-3 px-5 bg-green-400\"\n            onClick={(e) => createPost()}\n          >\n            Try Again\n          </button>\n          <button\n            className=\"font-extrabold text-sm py-3 block  px-5 opacity-50\"\n            onClick={(e) => props.cancelUpload()}\n          >\n            Cancel Upload\n          </button>\n        </div>\n      </div>\n    )\n  } else\n    return (\n      <div className=\" mx-auto \" style={{}}>\n        <UploadComponentDiv className=\"px-6 text-white py-2 mx-auto max-w-2xl  flex flex-col\">\n          <section id=\"new-post-form\" className=\"flex flex-col text-white\">\n            <div\n              className=\"w-full mb-4 flex flex-row\"\n              style={{\n                background: \"rgba(255,255,255,.3)\",\n                borderRadius: \"26px\",\n              }}\n            >\n              <TitleInput\n                className=\"px-4 py-3 flex-grow outline-none placeholder-gray-900 focus:outline-none w-full\"\n                type=\"text\"\n                autoFocus\n                maxLength={128}\n                placeholder=\"Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n              <div className=\"close-icon flex flex-col items-center justify-center w-12\">\n                {title.length > 0 && (\n                  <button\n                    className=\"w-full h-full opacity-75\"\n                    onClick={(e) => setTitle(\"\")}\n                  >\n                    <i className=\"fas fa-times\"></i>\n                  </button>\n                )}\n              </div>\n            </div>\n\n            <textarea\n              className=\"px-4 py-3 mb-4 outline-none placeholder-gray-900 focus:outline-none w-full\"\n              type=\"text\"\n              maxLength={1024}\n              placeholder=\"Description\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              style={{\n                background: \"rgba(255,255,255,.3)\",\n                borderRadius: \"26px\",\n              }}\n            />\n          </section>\n          <section id=\"upload-things\">\n            <UploadButton\n              className=\" p-2  w-full flex-col flex items-center justify-center\"\n              style={{}}\n            >\n              <label\n                htmlFor=\"file-input\"\n                className=\"items-center  justify-center cursor-pointer w-full h-full flex flex-col py-4\"\n                style={{\n                  borderRadius:'26px',\n                  background: \"rgba(255,255,255,.1)\",\n                }}\n              >\n                <div className=\"flex flex-row justify-start w-full\">\n                  <div className=\"px-6\">\n                    <i class=\"fas fa-file-image fa-3x\"></i>\n                  </div>\n                  <div className=\"text-left\">\n                    <h4 className=\"text-xl font-bold\">Explore Files</h4>\n                    <div className=\"tet-sm\">\n                      Select one or multiple image/video files.\n                    </div>\n                  </div>\n                </div>\n              </label>\n              <input\n                type=\"file\"\n                className=\"absolute hidden\"\n                style={{ zIndex: -1 }}\n                name=\"file-upload\"\n                onChange={(e) => on_select(e)}\n                id=\"file-input\"\n                accept=\".jpg,.jpeg,.png,.gif,.apng,.tiff,.tif,.bmp,.xcf,.webp,.mp4,.mov,.avi,.webm,.mpeg,.flv,.mkv,.mpv,.wmv\"\n              />\n            </UploadButton>\n            <section id=\"submit-control\">\n            <SubmitButton\n              className=\"w-full font-extrabold py-3 mt-4  \"\n              onClick={(e) => createPost()}\n              // disabled={files.length == 0}\n            >\n              Post\n            </SubmitButton>\n          </section>\n            <div className=\"w-full mt-6 flex flex-row flex-wrap \">\n              {files.length > 0 && (\n                <h2 className=\"font-extrabold text-xl text-center w-full\">\n                  {files.length} files selected\n                </h2>\n              )}\n\n              {files &&\n                fileURLs.map((fileURL, index) => {\n                  return (\n                    <FileTile key={`file-upload-${index}`}>\n                      <div\n                        key={`media-upload-image-preview-${index}`}\n                        className=\"m-2 relative object-cover \"\n                        style={{\n                          width: \"180px\",\n                          height: \"100px\",\n                          boxShadow: '2px 2px 12px rgba(0,0,0,.5)'\n\n                          // border: \"1px solid white\",\n                        }}\n                      >\n                        {/* remove button */}\n                        <div className=\"absolute top-0 right-0 z-50 hidden remove-button\" style={{\n                           top: '-20px',\n                            right: '-20px',\n                        }} >\n                        <button className=\"p-2 remove-circle\" onClick={e => remove(index)}\n                          style={{\n                           \n                            borderRadius: '100%',\n                            width: '40px',\n                            height: '40px',\n                            background: 'rgba(255,255,255,.5)'\n                          }}\n                        >\n                          <i className=\"fas fa-times\"></i>\n\n                        </button>\n                        </div>\n                        <div className=\"overlay absolute top-0 bottom-0 left-0 right-0 hover:bg-white opacity-25 z-10\" style={{\n                        }}></div>\n                        {\n                          files[index].type.includes(\"image\") ?\n                          <img\n                          className=\"object-cover\"\n                          style={{\n                            width: \"100%\",\n                            height: \"100%\",\n                          }}\n                          src={fileURL}\n                          alt=\"\"\n                        />\n                        :\n                        <div className=\"absolute top-0 bottom-0 right-0 left-0 flex items-center justify-center\">\n                        <i className=\"fas fa-film block fa-2x\"></i>\n                        </div>\n                        }\n                       \n                      </div>\n                      <div className=\"file-info flex flex-col\">\n                        <h4\n                          className=\"font-bold\"\n                          style={{\n                            fontSize: \"14px\",\n                          }}\n                        >\n                          {files[index].name}\n                        </h4>\n                        <h6\n                          className=\" opacity-50 font-bold\"\n                          style={{\n                            fontSize: \"10px\",\n                          }}\n                        >\n                          {readableBytes(files[index].size)}\n                        </h6>\n                      </div>\n                    </FileTile>\n                  )\n                })}\n            </div>\n          </section>\n\n         \n        </UploadComponentDiv>\n        <ToastContainer limit={1}></ToastContainer>\n      </div>\n    )\n}\nconst enter = keyframes`\n  from{\n    transform: scale(.4);\n    opacity:0;\n  }\n  to{\n    transform: scale(1);\n    opacity:1;\n  }\n`\nconst UploadComponentDiv = styled.div`\n  animation: ${enter} 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6) forwards;\n  #drop-target-container {\n  }\n  #drop-zone {\n  }\n  #drop-target-image {\n  }\n`\nconst UploadButton = styled.div`\n  border: 1px dashed rgba(255, 255, 255, 0.5);\n  border-radius: 26px;\n`\nconst SubmitButton = styled.button`\n  background: #38cc77;\n  /* box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.4); */\n  border-radius: 26px;\n`\nconst TitleInput = styled.input`\n  position: relative;\n  background: transparent;\n  height: 50px;\n`\n\nfunction readableBytes(bytes) {\n  let byteString = bytes.toString()\n  let ext = \"Bytes\"\n  // console.log(bytes.toString())\n  if (byteString.length > 3) {\n    ext = \"KB\"\n    bytes = bytes / 1000\n  }\n  if (byteString.length > 6) {\n    ext = \"MB\"\n    bytes = bytes / 1000\n  }\n\n  return bytes.toFixed(1).toString() + \" \" + ext\n}\n\nconst FileTile = styled.div`\n  :hover{\n    .remove-button{\n      display: block;\n    }\n  }\n  .remove-circle{\n    :hover{\n      background: rgba(255,255,255,1)\n    }\n  }\n`","import React from \"react\"\n\nexport default function CancelOverlay(props) {\n  console.log(props)\n  return (\n    <div\n      className=\"fixed top-0 left-0 w-screen h-screen flex flex-col justify-center items-center\"\n      style={{\n        zIndex: 999,\n      }}\n    >\n      <div\n        className=\"overlay absolute top-0 left-0 right-0 bottom-0\"\n        onClick={(e) => props.toggleOverlayOff()}\n        style={{\n          zIndex: 1,\n          background: \"rgba(0,0,0,.7)\",\n          // pointerEvents: \"none\",\n        }}\n      ></div>\n      <div\n        className=\"relative p-2 pb-4 text-white \"\n        style={{\n          zIndex: 2,\n          minWidth: \"300px\",\n          background: \"rgba(60,60,60,1)\",\n          borderRadius: \"26px\",\n          boxShadow: \"2px 2px 4px rgba(0,0,0,.3)\",\n        }}\n      >\n        <div className=\"px-4 font-bold py-6\">Discard your new post?</div>\n        <hr className=\"opacity-25 mx-6\" />\n        <div className=\"pt-6\">\n          <button\n            className=\"mx-3  py-2 text-sm font-extrabold hover:opacity-75  w-32 focus:outline-none\"\n            onClick={(e) => props.toggleOverlayOff()}\n            style={{\n              color: \"#2ecc71\",\n              borderRadius: '26px',\n              height: '50px',\n              background: 'rgba(255,255,255,.2)'\n            }}\n          >\n            finish post\n          </button>\n          <button\n            className=\"mx-3 font-extrabold py-2 hover:opacity-75 w-32 focus:outline-none\"\n            onClick={(e) => props.goback()}\n            style={{\n              background: \"#e74c3c\",   \n              borderRadius: \"26px\",\n              height: '50px',\n              boxShadow: \"2px 2px 4px rgba(0,0,0,.3)\",\n            }}\n          >\n            discard\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from \"react\"\nimport UploadComponent from \"./upload_component/UploadComponent\"\nimport styled, { keyframes } from \"styled-components\"\nimport { useHistory } from \"react-router-dom\"\nimport CancelOverlay from \"./CancelOverlay\"\nimport theme from '../theme/colors'\nexport default function NewPostOverlay(props) {\n  let history = useHistory()\n  useEffect(() => {\n    checkIfLoggedIn()\n    document.title = \"New Upload\"\n  }, [])\n  async function checkIfLoggedIn() {\n    let url = `/api/loggedin`\n    try {\n      let res = await fetch(url)\n      if (res.status == 401) {\n        window.location.href = \"/login\"\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  const [cancelOverlay, toggleCancelOverlay] = useState(false)\n  function cancel() {\n    toggleCancelOverlay(true)\n  }\n  function goback() {\n    history.goBack()\n  }\n  function toggleOverlayOff() {\n    toggleCancelOverlay(false)\n  }\n\n  return (\n    <div\n      className=\"top-0 bottom-0 left-0 right-0 fixed flex flex-col justify-center items-center \"\n      style={{\n        zIndex: 1000,\n        background: \"rgba(0,0,0,.8)\",\n      }}\n    >\n      {cancelOverlay && (\n        <CancelOverlay\n          goback={goback}\n          toggleOverlayOff={toggleOverlayOff}\n        ></CancelOverlay>\n      )}\n\n      <div className=\"overlay z-0 fixed top-0 bottom-0 left-0 right-0\" onClick={e => cancel()}>\n\n      </div>\n      <Panel\n        id=\"new-post-panel\"\n        className=\" relative py-2  z-50 px-2\"\n      >\n        <div className=\"cancel-container p-6 absolute top-0 right-0\">\n          <button\n            onClick={(e) => cancel()}\n            className=\" outline-none text-white \"\n            style={\n              {\n                width: '50px',\n                height: '50px',\n                borderRadius: '100%',\n                backgroundColor: 'rgba(255,255,255,.2)'\n              }\n            }\n          >\n            <i className=\"fas fa-times fa-lg\"></i>\n          </button>\n        </div>\n        <div id=\"upload-intro\" className=\" p-2\">\n          <h1 className=\"text-xl text-white font-extrabold\">New Post</h1>\n          <p className=\"text-white text-sm\">\n            Upload your media to imgbeam for free, and share it with the world.\n          </p>\n        </div>\n\n        <UploadComponent cancelUpload={goback}></UploadComponent>\n        <Bottom>\n          <div className=\"supported text-white mt-6 max-w-md\">\n            <h4 className=\"opacity-50\">supported formats</h4>\n            <div className=\"text-xs opacity-25\">\n              .jpg, .jpeg, .png, .gif, .apng, .tiff, .tif, .bmp, .xcf, .webp,\n              .mp4, .mov, .avi, .webm, .mpeg, .flv, .mkv, .mpv, .wmv\n            </div>\n          </div>\n        </Bottom>\n\n        \n      </Panel>\n      {/* agreement */}\n      <div\n          id=\"agreement\"\n          className=\"mt-6 text-xs absolute left-0 right-0 bottom-0 text-white pb-4\"\n        >\n          By uploading to imgbeam, you agree to abide by imgbeams's\n          <a\n            href=\"/termsofuse\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            className=\"text-green-400 font-bold pl-1\"\n          >\n            terms of service\n          </a>\n        </div>\n    </div>\n  )\n}\nconst enter = keyframes`\n    from{\n        transform: translateY(300px);\n        opacity: 0;\n    }\n    to{\n        transform: translateY(0px);\n        opacity: 1;\n    }\n`\nconst Bottom = styled.div`\n  animation-delay: 0.5s;\n  animation: ${enter} 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n`\nconst Panel = styled.div`\n  background: ${theme.backgroundMedium};\n  border-radius: 26px;\n  /* max-height: calc(100vh - 200px); */\n`\n","import React from 'react'\nimport moment from 'moment'\nexport default function AccountInfo(props) {\n    return (\n        <div>\n        <Row>\n        <Header title={\"Account\"}></Header>\n            <Subheader string={`Signed in as ${props.user.username} (${props.user.email})`}></Subheader>\n        </Row>\n        <Row>\n        <Header title={\"Member Since\"}></Header>\n            <Subheader string={`${moment(props.user.member_since).format('MMM D YYYY')}`}></Subheader>\n        </Row>\n  \n        </div>\n    )\n}\nexport function Header(props){\n    return (\n        <div className=\"font-bold pt-4 pb-2\">\n            {props.title}\n        </div>\n    )\n}\nfunction Subheader(props){\n    return (\n        <div className=\"text-sm\">\n            {props.string}\n        </div>\n    )\n}\nfunction Row(props){\n    return(\n        <div className=\"mb-3\">\n            {props.children}\n        </div>\n    )\n}","import React, { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport {Link} from 'react-router-dom'\nimport colors from \"../../../theme/colors\"\nimport { Header } from \"../account_page/Settings\"\nexport default function HistoryView(props) {\n  const [history, setHistory] = useState([])\n  useEffect(() => {\n    fetchGalleries()\n  }, [])\n\n  async function fetchGalleries() {\n    let url = `/api/account/history`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n      })\n      if (res.status === 200) {\n        let json = await res.json()\n        console.log(json)\n        setHistory(json)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  function sortIntoDays(galleries) {}\n  return (\n    <div className=\"container mx-auto pl-3  flex flex-row\">\n      <div className=\"flex-grow\" id=\"history-list\">\n        <Header title={\"Viewing History\"}></Header>\n\n        <ul className=\"mt-8 pb-6\">\n          {history &&\n            history.map((gallery, index) => {\n              return (\n                <HistoryItem\n                  key={`history-item-${gallery.gallery_id}`}\n                  gallery={gallery}\n                ></HistoryItem>\n              )\n            })}\n        </ul>\n      </div>\n      <PermissionsPanel\n        id=\"history-permissions\"\n        className=\"sticky pl-4 hidden md:block\"\n        style={{\n          width: \"320px\",\n          top: \"64px\",\n          height: \"calc(100vh - 64px)\",\n        }}\n      >\n        <Header title={\"History Permissions\"}></Header>\n      </PermissionsPanel>\n    </div>\n  )\n}\nfunction HistoryItem(props) {\n  return (\n    <ListItem className=\"\">\n      <div\n        className=\"h-full mr-4\"\n        style={{\n          width: \"220px\",\n        }}\n      >\n        <Link to={`/beam/${props.gallery.gallery_id}`}>\n          {props.gallery.images[0].media_type == \"image\" ? (\n            <img\n              className=\"\"\n              src={props.gallery.images[0].path_lq}\n              alt=\"\"\n              style={{\n                objectFit: \"cover\",\n                width: \"100%\",\n                height: \"100%\",\n              }}\n            />\n          ) : (\n            <video\n              src={props.gallery.images[0].path_lq}\n              style={{\n                objectFit: \"cover\",\n                width: \"100%\",\n                height: \"100%\",\n              }}\n            ></video>\n          )}\n        </Link>\n      </div>\n      <Link to={`/beam/${props.gallery.gallery_id}`}>\n        <div className=\"flex flex-col\">\n          <div className=\"history-item-title font-bold text-lg\">\n            {props.gallery.title}\n          </div>\n          <div\n            className=\"history-item-poster text-sm flex flex-row\"\n            style={{\n            }}\n          >\n            <div className=\"mr-4\">{props.gallery.username}</div>\n            <div>{props.gallery.views} views</div>\n          </div>\n          <div\n            className=\"history-item-description mt-8 text-sm \"\n            style={{\n            }}\n          >\n            {props.gallery.description}\n          </div>\n        </div>\n      </Link>\n    </ListItem>\n  )\n}\nfunction DateHeader(props) {\n  return <div></div>\n}\nconst ListItem = styled.li`\n  display: flex;\n  flex-direction: row;\n  height: 140px;\n  margin-bottom: 16px;\n`\nconst PermissionsPanel = styled.div`\n  background-color: ${props => props.theme.background_3};\n`","import React from \"react\"\nimport styled from \"styled-components\"\nexport default function EmailPassword(props) {\n  return (\n    <div>\n      <h2 className=\"font-bold text-2xl\">Email</h2>\n      <p className=\"text-green-500 font-bold\">{props.user.email}</p>\n      <h2 className=\"font-bold text-2xl mt-8\">Change Password</h2>\n      <form action=\"/api/account/password/update\" id=\"password-change\" className=\"flex flex-col mt-6 max-w-lg\" method=\"POST\">\n        <label className=\"font-bold text-sm\" htmlFor=\"password-old\">Current Password</label>\n        <Input id=\"password-old\" name=\"password-old\" type=\"password\" />\n        <label className=\"font-bold text-sm mt-6\" htmlFor=\"password-new-1\">New Password</label>\n        <Input id=\"password-new-1\" name=\"password-new-1\" type=\"password\" />\n        <label className=\"font-bold text-sm\" htmlFor=\"password-new-2\">Confirm New Password</label>\n        <Input id=\"password-new-2\" name=\"password-new-2\" type=\"password\" />\n\n        <p className=\"text-xs opacity-50 mt-2\">New password must contain at least one letter and one number, and be alphanumeric. Special characters and spaces are not allowed.</p>\n        <input type=\"submit\"  className=\"bg-green-400 mt-6 py-2 font-bold hover:opacity-50\"  value=\"Change Password\" />\n      </form>\n    </div>\n  )\n}\nconst Input = styled.input`\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0.5rem 0.5rem;\n  outline: none;\n  border: none;\n  margin: 0.5rem 0;\n`\n","import React, {useState} from \"react\"\nimport styled, {keyframes} from 'styled-components'\nexport default function AvatarSelect(props) {\n  function setAvatar(e){\n    let newFile = e.target.files[0]\n    console.log(newFile)\n    setFile(newFile)\n    let reader = new FileReader()\n    reader.readAsDataURL(newFile)\n    reader.onload = function(file){\n      \n      setURL(file.target.result)\n\n    }\n  }\n  const [file, setFile] = useState(null)\n  const [url, setURL] = useState('')\n  async function updateAvatar(e){\n    let formdata = new FormData()\n    formdata.append('avatar', file)\n    try{\n      let res = await fetch(\"/api/account/settings/avatar/update\", {\n        method: \"POST\",\n        credentials: \"include\",\n        body: formdata,\n      })\n      if(res.status == 200){\n        props.toggleAvatarSelect()\n      }\n\n    }\n    catch(err){\n      console.log(err)\n    }\n  }\n  return (\n    <div\n      className=\"fixed top-0  left-0 w-screen h-screen flex flex-col justify-center items-center\"\n      style={{\n        background: \"rgba(0,0,0,.7)\",\n      }}\n    >\n      <div\n        onClick={(e) => props.toggleAvatarSelect(false)}\n        className=\"overlay fixed top-0 left-0 w-screen h-screen z-10\"\n        style={{}}\n      ></div>\n      <Modal\n        className=\"bg-gray-700 p-4 z-20\"\n        style={{\n          borderRadius: '4px',\n          width: '300px'\n        }}\n      >\n        {/* <h4 className=\"font-bold text-center\">Avatar Select</h4> */}\n        <div id=\"avatar-file-explorer\" className=\"border-dashed relative  w-full\">\n          <InputButton htmlFor=\"avatar-file\" className=\" w-full block p-3\">Choose from your device.</InputButton>\n          <input className=\"absolute hidden\" type=\"file\" name=\"avatar-file\" onChange={e => setAvatar(e)} accept=\".jpg,.jpeg,.png,.gif,.apng,.tiff,.tif,.bmp\" id=\"avatar-file\"/>\n        </div>\n        <div id=\"avatar-select-preview\" className=\"w-full\">\n          {\n            file &&\n            <img src={url} alt=\"\" width={'100%'} style={{\n              borderRadius:'4px'\n            }} />\n          \n          }\n        </div>\n        <div className=\"avatar-grid grid grid-cols-3\" style={{\n            width: '300px'\n        }}></div>\n        <SaveButton disabled={!file} onClick={e => updateAvatar(e)} className=\"py-3 px-8 mt-3 w-full shadow-lg font-extrabold\">Save</SaveButton>\n      </Modal>\n    </div>\n  )\n}\nconst InputButton = styled.label`\n  background: rgba(255,255,255,.1);\n\n` \nconst SaveButton = styled.button`\n  border-radius: 4px;\n  background: ${props => !props.disabled ? 'rgb(52, 124, 218)' : 'gray'} ;\n  opacity: ${props => !props.disabled ?  1: .4} ;\n\n\n`\nconst enter = keyframes`\n  from{\n    transform: scale(1.4);\n    opacity: 0;\n  }\n  to{\n    transform: scale(1);\n    opacity: 1;\n  }\n`\nconst Modal = styled.div`\n  opacity: 0;\n  animation: .1s ${enter} linear forwards;\n`","import React from 'react'\n\nexport default function DeactivateComponent(props) {\n    return (\n        <div>\n            <div className=\"account-status-controls mt-8\">\n            <h2 className=\"font-bold text-lg\">Delete Account</h2>\n\n                <button className=\"bg-gray-800 mt-8 hover:bg-red-600 hover:text-white text-red-600 text-xs font-bold py-4 px-6\">DELETE ACCOUNT</button>\n            </div>\n        </div>\n    )\n}\n","import React, { useEffect, useState } from \"react\"\nimport { Redirect, Route, Link } from \"react-router-dom\"\nimport EmailPassword from \"./EmailPassword\"\nimport AccountInfo from \"./Settings\"\nimport Notifications from \"./Notifications\"\nimport styled from \"styled-components\"\nimport AvatarSelect from \"./AvatarSelect\"\nimport DeactivateComponent from \"./DeactivateComponent\"\nimport {Hr} from '../../Sidebar'\nexport default function AccountPage(props) {\n  useEffect(() => {\n    getAccount()\n    document.title = 'Your Account'\n  }, [])\n  const [account, setAccount] = useState(null)\n  const [avatarSelect, toggleAvatarSelect] = useState(false)\n  async function getAccount() {\n    let url = `/api/account`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n      })\n      let json = await res.json()\n      setAccount(json)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  if (account == null) {\n    return <div></div>\n  } else\n    return (\n      <div className=\"text-left relative\">\n        {avatarSelect && <AvatarSelect toggleAvatarSelect={toggleAvatarSelect}></AvatarSelect>}\n        <div className=\"container mx-auto max-w-5xl my-8 flex  px-6 lg:px-0 flex-row\">\n          <div\n            id=\"account-left-nav\"\n            style={{\n              width: \"200px\",\n            }}\n          >\n            <ul className=\"text-sm\">\n              <Li active={props.location.pathname == \"/account\"}>\n                <Link to={`/account`}>Your Account</Link>\n              </Li>\n              <Li active={props.location.pathname.includes(\"emailpassword\")}>\n                <Link to={`/account/emailpassword`}>Email and Password</Link>\n              </Li>\n              <Li active={props.location.pathname.includes(\"deactivate\")}>\n                <Link to={`/account/deactivate`}>Deactivate Account</Link>\n              </Li>\n            </ul>\n          </div>\n          <div id=\"account-right-settings\" className=\"flex-1 ml-12\">\n            {/* router */}\n            <Route\n              exact\n              path={`/account`}\n              render={(props) => (\n                <AccountInfo {...props} user={account} toggleAvatarSelect={toggleAvatarSelect}></AccountInfo>\n              )}\n            ></Route>\n            \n            <Route\n              exact\n              path={`/account/emailpassword`}\n              render={(props) => (\n                <EmailPassword {...props} user={account}></EmailPassword>\n              )}\n            ></Route>\n            <Route\n              esact\n              path={`/account/deactivate`}\n              render={() => (\n                <DeactivateComponent\n                  username={props.match.params.username}\n                ></DeactivateComponent>\n              )}\n            ></Route>\n          </div>\n        </div>\n      </div>\n    )\n}\nconst Li = styled.li`\n  color: ${(props) => (props.active ? props.theme.success : props.theme.text)};\n  margin-bottom: 0.6rem;\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport colors from '../theme/colors'\nexport default function ActionButton(props) {\n    return (\n        <Root disable={props.disable} onClick={props.action} className=\"py-1 px-8\">\n            {props.string}\n        </Root>\n    )\n}\nconst Root = styled.button`\n    background: ${props => props.theme.background_1};\n    border: ${props => `1px solid ${props.theme.border}`};\n    font-size: 14px;\n    font-weight: bold;\n    border-radius: 3px;\n    color: ${props => props.disabled ? props.theme.textFaded : props.theme.text};\n`\n","import React, { useEffect, useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport MoonLoader from \"react-spinners/MoonLoader\"\nimport Helmet from \"react-helmet\"\nimport color from \"../../../theme/colors\"\nimport Supergrid from \"../../SuperGrid\"\nimport ActionButton from \"../../ActionButton\"\nimport styled from \"styled-components\"\nimport {connect} from 'react-redux'\nimport {setSearch} from '../../../state/store/actions/index'\nfunction ResultsPage(props) {\n  let history = useHistory()\n  useEffect(() => {\n    submitSearch()\n    setSearchString(props.match.params.searchString)\n    props.setSearch(props.match.params.searchString)\n  }, [])\n  const [searchString, setSearchString] = useState(\"\")\n  const [results, setResults] = useState([])\n  const [searching, setSearching] = useState(true)\n  async function submitSearch() {\n    let from = results.length\n    let to = from + 40\n    let searchString = props.match.params.searchString\n    console.log(\"searching \" + searchString)\n    let url = `/api/search/results/${searchString}`\n    try {\n      let res = await fetch(url)\n      let json = await res.json()\n      console.log(json)\n      if (res.status == 200) {\n        setResults(json)\n        setSearching(false)\n      }\n    } catch (err) {\n      console.timeLog(err)\n      setSearching(false)\n    }\n  }\n  function search() {\n    history.push(`/search/${searchString}`)\n  }\n\n  const [sortMethod, setSortMethod] = useState(\"top\")\n  const [sortOrder, setSortOrder] = useState(\"newest\")\n  const [sortMenu, toggleSortMenu] = useState(false)\n  const [OrderMenu, toggleOrderMenu] = useState(false)\n\n  function sortByNew() {\n    setResults(\n      [...results].sort(\n        (a, b) => new Date(b.date_created) - new Date(a.date_created)\n      )\n    )\n    setSortOrder(\"newest\")\n  }\n  function sortByOld() {\n    setResults(\n      [...results].sort(\n        (a, b) => new Date(a.date_created) - new Date(b.date_created)\n      )\n    )\n    setSortOrder(\"oldest\")\n  }\n  useEffect(() => {\n    console.log(results)\n  }, [results])\n  if (searching) {\n    return (\n      <div className=\"flex flex-col min-h-screen items-center pt-32\">\n        <Helmet>\n          <meta charset=\"utf-8\" />\n          <title>{`${props.match.params.searchString} - Search Imgbeam`}</title>\n          <meta\n            name=\"description\"\n            content={`Search Imgbeam for pictures and videos about anything and everything.`}\n          />\n          <meta name=\"image\" content={\"https://www.imgbeam.com/splash.png\"} />\n          {/* <!-- Schema.org for Google --> */}\n          <meta itemprop=\"name\" content={`Search Imgbeam`} />\n          <meta\n            itemprop=\"description\"\n            content={`Search Imgbeam for pictures and videos about anything and everything.`}\n          />\n          <meta\n            itemprop=\"image\"\n            content={\"https://www.imgbeam.com/splash.png\"}\n          />\n          {/* <!-- Twitter --> */}\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta\n            name=\"twitter:title\"\n            content={`${props.match.params.searchString} - Search Imgbeam`}\n          />\n          <meta\n            name=\"twitter:description\"\n            content={`Search Imgbeam for pictures and videos about anything and everything.`}\n          />\n          <meta\n            name=\"twitter:image:src\"\n            content={\"https://www.imgbeam.com/splash.png\"}\n          />\n          {/* <!-- Open Graph general (Facebook, Pinterest & Google+) --> */}\n          <meta\n            name=\"og:title\"\n            content={`${props.match.params.searchString} - Search Imgbeam`}\n          />\n          <meta\n            name=\"og:description\"\n            content={`Search Imgbeam for pictures and videos about anything and everything.`}\n          />\n          <meta\n            name=\"og:image\"\n            content={\"https://www.imgbeam.com/splash.png\"}\n          />\n          <meta name=\"og:type\" content=\"website\" />\n        </Helmet>\n        <MoonLoader size={20} color={`white`}></MoonLoader>\n      </div>\n    )\n  } else\n    return (\n      <div className=\" w-full \" style={{}}>\n        <Helmet>\n          <meta charset=\"utf-8\" />\n          <title>{`${props.match.params.searchString} - Search Imgbeam`}</title>\n          <meta\n            name=\"description\"\n            content={`Search Imgbeam for pictures and videos about anything and everything.`}\n          />\n          <meta name=\"image\" content={\"https://www.imgbeam.com/splash.png\"} />\n          {/* <!-- Schema.org for Google --> */}\n          <meta\n            itemprop=\"name\"\n            content={`${props.match.params.searchString} - Search Imgbeam`}\n          />\n          <meta\n            itemprop=\"description\"\n            content={`Search Imgbeam for pictures and videos about anything and everything.`}\n          />\n          <meta\n            itemprop=\"image\"\n            content={\"https://www.imgbeam.com/splash.png\"}\n          />\n          {/* <!-- Twitter --> */}\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta\n            name=\"twitter:title\"\n            content={`${props.match.params.searchString} - Search Imgbeam`}\n          />\n          <meta\n            name=\"twitter:description\"\n            content={`Search Imgbeam for pictures and videos about anything and everything.`}\n          />\n          <meta\n            name=\"twitter:image:src\"\n            content={\"https://www.imgbeam.com/splash.png\"}\n          />\n          {/* <!-- Open Graph general (Facebook, Pinterest & Google+) --> */}\n          <meta\n            name=\"og:title\"\n            content={`${props.match.params.searchString} - Search Imgbeam`}\n          />\n          <meta\n            name=\"og:description\"\n            content={`Search Imgbeam for pictures and videos about anything and everything.`}\n          />\n          <meta\n            name=\"og:image\"\n            content={\"https://www.imgbeam.com/splash.png\"}\n          />\n          <meta name=\"og:type\" content=\"website\" />\n        </Helmet>\n        <div className=\"text-xl flex flex-col justify-center items-center text-center\">\n          <Header >\n            {/* <div className=\"w-full search-banner bg-red-300 h-10\">\n              <div className=\"header-title\">\n                Search Imgbeam\n              </div>\n            </div> */}\n            <div className=\"container mx-auto\">\n              <div\n                id=\"search-page-bar\"\n                className=\"mx-auto flex pt-12 flex-col items-center\"\n                style={{\n                  maxWidth: \"720px\",\n                  width: \"100%\",\n                }}\n              >\n                <SearchBar\n                  search={search}\n                  updateSearchString={setSearchString}\n                  searchString={searchString}\n                ></SearchBar>\n              </div>\n\n              <div>\n                <h1 className=\"search-title\">\n                  {props.match.params.searchString.charAt(0).toUpperCase() +\n                    props.match.params.searchString.slice(1)}\n                </h1>\n                <h2 className=\"breakdown\">\n                  Browse {results.length} {props.match.params.searchString}{\" \"}\n                  results\n                </h2>\n                <div className=\"text-sm mt-6\">\n                  <div>Sorting by date</div>\n                  {/* <div>\n                  <button id=\"button-sort-method\">{sortMethod}</button>\n                </div>\n                <div>\n                  <button id=\"button-sort-order\">{sortOrder}</button>\n                </div> */}\n                  <div className=\"flex flex-row mt-2\">\n                    <ActionButton\n                      disable={sortOrder === \"oldest\"}\n                      action={(e) => sortByNew()}\n                      string={\"Newest\"}\n                    ></ActionButton>\n                    <div className=\"mr-4\"></div>\n                    <ActionButton\n                      disable={sortOrder === \"newest\"}\n                      action={(e) => sortByOld()}\n                      string={\"Oldest\"}\n                    ></ActionButton>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Header>\n          {results?.length > 0 && <Supergrid galleries={results}></Supergrid>}\n        </div>\n      </div>\n    )\n}\nconst Header = styled.header`\nwidth: 100%;\n  .breakdown {\n    font-size: 16px;\n    font-weight: 600;\n    color: ${(props) => props.theme.textFaded};\n  }\n  .search-title {\n    margin-top: 24px;\n    font-size: 32px;\n    font-weight: bold;\n  }\n`\n\nfunction SortByMenu(props) {\n  return (\n    <div\n      className=\"absolute\"\n      style={{\n        top: \"100%\",\n      }}\n    >\n      <div\n        onClick={(e) => props.close()}\n        className=\"overlay fixed top-0 bottom-0 left-0 right-0\"\n        style={{\n          background: \"rgba(0,0,0,0)\",\n        }}\n      ></div>\n      <div\n        className=\"panel\"\n        style={{\n          borderRadius: \"26px\",\n          // backgroundColor: `${color.backgroundMedium}`,\n        }}\n      >\n        <ul>\n          <li></li>\n          <li></li>\n          <li></li>\n        </ul>\n      </div>\n    </div>\n  )\n}\nfunction SearchBar(props) {\n  return (\n    <SearchBarView\n      onClick={(e) => document.getElementById(\"search-page-input\").focus()}\n    >\n      <div className=\"mx-3\">\n        <i class=\"fas fa-search icon\"></i>\n      </div>\n      <input\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") props.search()\n        }}\n        id=\"search-page-input\"\n        type=\"text\"\n        className=\"flex-1\"\n        value={props.searchString}\n        onChange={(e) => props.updateSearchString(e.target.value)}\n      />\n      <div className=\"h-full\">\n        <SearchButton>Search</SearchButton>\n      </div>\n    </SearchBarView>\n  )\n}\nconst SearchBarView = styled.div`\n  border-radius: 8px;\n  overflow: hidden;\n  display: flex;\n  padding: 10px 14px;\n  cursor: text;\n  height: 56px;\n  font-size: 16px;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n  background: ${(props) => props.theme.background_1};\n  box-shadow: 3px 3px 18px rgba(0, 0, 0, 0.07);\n  /* border: ${(props) => `1px solid ${props.theme.border}`}; */\n  .icon {\n    color: ${(props) => props.theme.icons};\n    opacity: 0.6;\n    font-size: 16px;\n    padding: 4px;\n  }\n  input {\n    background: transparent;\n    font-size: 16px;\n    font-weight: 500;\n    :focus,\n    :active {\n      outline: none;\n    }\n  }\n`\nconst SearchButton = styled.button`\n  background: ${props => props.theme.background_1};\n  border: ${props => `1px solid ${props.theme.border}`};\n  color: ${props => props.theme.text};\n  font-size: 14px;\n  font-weight: 500;\n  border-radius: 8px;\n  height: 100%;\n  width: 80px;\n  :hover{\n    background: ${props => props.theme.background_3}\n  }\n`\nfunction OrderByMenu(props) {\n  return (\n    <div\n      className=\"absolute\"\n      style={{\n        top: \"100%\",\n      }}\n    >\n      <div\n        onClick={(e) => props.close()}\n        className=\"overlay fixed top-0 bottom-0 left-0 right-0\"\n        style={{\n          background: \"rgba(0,0,0,0)\",\n        }}\n      ></div>\n      <div\n        className=\"panel\"\n        style={{\n          borderRadius: \"26px\",\n          backgroundColor: `${color.backgroundMedium}`,\n        }}\n      >\n        <ul className=\"flex flex-col-reverse\">\n          <li>\n            <button>Today</button>\n          </li>\n          <li>\n            <button>Week</button>\n          </li>\n          <li>\n            <button>Month</button>\n          </li>\n          <li>\n            <button>Year</button>\n          </li>\n          <li>All</li>\n        </ul>\n      </div>\n    </div>\n  )\n}\nconst mapDispatchToProps = {\n  setSearch\n}\nfunction mapStateToProps(state){\n  return{\n\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ResultsPage)","import React, { useEffect, useState } from \"react\"\nimport ReactPlayer from \"react-player\"\nimport color from \"string-to-color\"\nimport styled from \"styled-components\"\nimport SuperGrid from \"../../SuperGrid\"\nexport default function TagResults(props) {\n  const [galleries, setGalleries] = useState([])\n  useEffect(() => {\n    getGalleries()\n  }, [])\n  const [looking, setLooking] = useState(true)\n  useEffect(() => {\n    document.title = \"#\" + props.match.params.tagstring + \" - imgbeam\"\n  })\n\n  async function getGalleries() {\n    setLooking(true)\n    let tagString = props.match.params.tagstring\n    let url = `/api/search/tags?tag=${tagString}`\n    try {\n      let res = await fetch(url)\n      let json = await res.json()\n      console.log(json)\n      if (json) {\n        setGalleries(json)\n      }\n    } catch (err) {\n      console.log(err)\n    } finally {\n      setLooking(false)\n    }\n  }\n  if (looking) {\n    return (\n      <div\n        className=\"flex flex-col items-center justify-center\"\n        style={{\n          width: \"100%\",\n          height: \"400px\",\n        }}\n      >\n        <div className=\"text-white font-bold text-sm\">Searching for tag.</div>\n      </div>\n    )\n  } else\n    return (\n      <div className=\"text-white\">\n        <div\n          id=\"tag-results-header\"\n          className=\"py-12\"\n          style={{\n            background: `linear-gradient(to bottom, ${color(\n              props.match.params.tagstring\n            )}55, ${color(props.match.params.tagstring)}00`,\n          }}\n        >\n          <h2 className=\"font-bold text-5xl\">\n            <span className=\"opacity-50\">#</span>\n            {props.match.params.tagstring.replace(\"_\", \" \")}\n          </h2>\n          <h4>{galleries.length} galleries.</h4>\n        </div>\n        <SuperGrid usernames={true} avatars={true} galleries={galleries}></SuperGrid>\n        \n      </div>\n    )\n}\nconst Tile = styled.div`\n  video {\n    object-fit: cover;\n  }\n`\n","import React, { useEffect, useState } from \"react\"\nimport moment from \"moment\"\nexport default function UserResults(props) {\n  const [users, setUsers] = useState([])\n  useEffect(() => {\n    getUsers()\n  }, [])\n  async function getUsers() {\n    let userString = props.match.params.userstring\n    let url = `/search/users?user=${userString}`\n    try {\n      let res = await fetch(url)\n      let json = await res.json()\n      console.log(json)\n      if (json.success) {\n        setUsers(json.users)\n      }\n    } catch (err) {\n      console.log()\n    }\n  }\n  return (\n    <div className=\"text-white container mx-auto max-w-5xl mt-8\">\n      <h2 className=\"font-bold text-2xl\">\n        User Search for {props.match.params.userstring}\n      </h2>\n      <div className=\"user-list text-left \">\n        <ul\n          className=\"mt-8\"\n          style={{\n            background: \"#373737\",\n          }}\n        >\n          {users.map((userObject, index) => {\n            return (\n              <li className=\"\" key={`user-result-list-key-${index}`}>\n                <a\n                  href={`/user/${userObject.username}`}\n                  className=\"p-3 hover:opacity-75 block\"\n                >\n                  <div className=\"flex flex-row\">\n                    <div\n                      className=\"avatar-container bg-green-500\"\n                      style={{\n                        width: \"60px\",\n                        height: \"60px\",\n                      }}\n                    ></div>\n                    <div className=\"info-container ml-3\">\n                      <h3 className=\"font-bold \">{userObject.username}</h3>\n                      <p className=\"text-xs opacity-50\">\n                        Member since{\" \"}\n                        {moment(userObject.date_created).format(\"MMM d yyyy\")}\n                      </p>\n                      {/* rank and points */}\n                      <div className=\"rank text-xs opacity-50\">{userObject.rank} - {userObject.points || 0} pts</div>\n                    </div>\n                  </div>\n                </a>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport moment from \"moment\"\nimport { Link } from \"react-router-dom\"\nimport {toast} from 'react-toastify'\nimport SignInPlaceholder from '../../SignInPlaceholder'\nexport default function NotificationView(props) {\n  const [notifications, setNotifications] = useState(null)\n  useState(() => {\n    getNotifications()\n  }, [])\n  useEffect(()=>{\n    console.log(notifications)\n  }, [notifications])\n  async function clearNotification(comment_notification_id) {\n    let url = `/notifications/api/clear?notification_id=${comment_notification_id}`\n    try{\n        let res = await fetch(url, {\n            method: 'DELETE',\n            credentials: 'include'\n        })\n        let json = await res.json()\n        if(json.success){\n            console.log('cleared')\n            getNotifications()\n            toast(\"Notification Cleared\")\n        }\n        else{\n            console.log('error clearing notification')\n        }\n    }\n    catch(err){\n        console.log(err)\n    }\n  }\n  async function clearAllNotifications(){\n    let url = `/notifications/api/clear/all`\n    try{\n        let res = await fetch(url, {\n            method: 'DELETE',\n            credentials: 'include'\n        })\n        let json = await res.json()\n        if(json.success){\n            console.log('cleared')\n            getNotifications()\n            toast(\"All Notifications Cleared\")\n\n        }\n        else{\n            console.log('error clearing notification')\n        }\n    }\n    catch(err){\n        console.log(err)\n    }\n  }\n  async function getNotifications(props) {\n    let url = `/notifications/api/get/all`\n    try {\n      let res = await fetch(url)\n      let json = await res.json()\n      if (json.success) {\n        setNotifications(json.notifications)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  if(!props.signedIn){\n    return(\n      <SignInPlaceholder header={`Sign up to get alerts.`} icon={`fas fa-bell`} subheader={`Sign in or create a new account to start receiving notifications about your favorite posters and artists.`}></SignInPlaceholder>\n    )\n  }\n  if(!notifications){\n    return(\n      <div className=\"text-white py-8 font-bold\">\n      <h2>No New Notifications</h2>\n    </div>\n    )\n   \n  }\n  return (\n    <div className=\"text-white text-left container mx-auto mt-12 \">\n      {notifications !== null && (\n        <div\n          className=\"\"\n          style={{\n            maxWidth: \"420px\",\n          }}\n        >\n            <div id=\"notification-control\" className=\"w-full\">\n                <button onClick={e => clearAllNotifications()} className=\"py-1 px-6 bg-gray-900\">\n                    Clear All Notifications\n                </button>\n            </div>\n          {notifications.map((notificationObject, index) => {\n            return (\n              <div className=\"flex flex-row overflow-hidden bg-gray-700 my-2\" style={{\n                  borderRadius: '4px'\n              }}>\n                <Link\n                  to={`/beam/${notificationObject.gallery_id}`}\n                  className=\"flex-grow hover:opacity-75\"\n                >\n                <div className=\"post-title-wrapper p-3\">\n                    <h3 className=\"font-bold text-lg\">{notificationObject.title}</h3>\n                </div>\n                  <div key={`notification-${index}`} className=\"p-3 \">\n                  <p className=\"mt-4 font-bold\">\"{notificationObject.message}\"</p>\n\n                    <h6 className=\"text-xl font-extrabold\">\n                      <span className=\"block leading-6 text-sm\">{notificationObject.username}</span>\n                    </h6>\n                    \n                   { \n                       notificationObject.reply_id ?\n\n                       <p className=\"opacity-75 text-xs\">\n                    replied  to\n                      your comment.\n                    </p>\n                    :\n                    <p className=\"opacity-75 text-xs\">\n                    commented on your post.\n                    </p>\n                    }\n                    <div className=\"\">\n                        <p className=\"font-bold text-xs opacity-50\">{moment(notificationObject.date_created).fromNow()}</p>\n                    </div>\n                  </div>\n                </Link>\n                <button className=\"self-stretch\" onClick={e => clearNotification(notificationObject.comment_notification_id)}>\n                <div className=\"flex flex-col items-center justify-center bg-gray-900 hover:opacity-75 h-full\">\n                  <i class=\"fas fa-times block mx-4\"></i>\n                </div>\n                </button>\n               \n              </div>\n            )\n          })}\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nexport default function SortMenu(props) {\n    return (\n        <View id=\"sort-menu\">\n            <div className=\"overlay fixed top-0 bottom-0 left-0 right-0\" onClick={e => props.toggleMenu(false)} style={{\n                zIndex: 9999\n            }}></div>\n            <ul>\n                {\n                    props.options.map((option, index)=>{\n                        return(\n                            <li key={`option-${option}`}>\n                                {option}\n                            </li>\n                        )\n                    })\n                }\n            </ul>\n        </View>\n    )\n}\nconst View = styled.div`\n    background: ${props => props.theme.background_1};\n    border-radius: 8px;\n    text-align: left;\n    position: absolute;\n    top: 100%;\n    left: 0;\n    z-index: 9999;\n    margin-top: 12px;\n    border: ${props => `1px solid ${props.theme.border}`};\n    box-shadow: 2px 2px 18px rgba(0,0,0,.1);\n`","import React, { useState, useEffect, useRef } from \"react\"\nimport MoonLoader from \"react-spinners/MoonLoader\"\nimport styled from \"styled-components\"\nimport triangle from \"../../../triangle_icon.png\"\nimport SuperGrid from \"../../SuperGrid\"\nimport SortMenu from './SortMenu'\nexport default function HomePage(props) {\n  const [activeMode, setActiveMode] = useState(\"trending\")\n  // const throttleScroll = throttle(scrollHandler, 100)\n  // const throttleScroll2 = throttle(scrollHandler2, 300)\n  const modes = ['trending', 'new', 'alltime']\n  const [sortMenu, toggleSortMenu] = useState(false)\n  function scrollHandler2() {\n    let pageheight = document.body.scrollHeight\n    let windowheight = window.innerHeight\n    let windowPosition = window.scrollY\n    props.setScrollPosition(windowPosition)\n    if (pageheight < windowPosition + windowheight + 400) {\n      if (!gettingMoreGalleries && !noMoreRef.current) {\n        getMore()\n        console.log(\"getting more\")\n      }\n    }\n  }\n\n  useEffect(() => {\n    getMore()\n    console.log(\"galleries already present\")\n\n    document.title = \"Imgbeam - The Nexus of all things Interweb\"\n    document.addEventListener(\"scroll\", scrollHandler2)\n\n    return () => {\n      document.removeEventListener(\"scroll\", scrollHandler2)\n    }\n  }, [])\n\n  // mounting completion\n  const [mounted, setMounted] = useState(false)\n\n  // get most-trending slice\n  const [noMore, setNoMore] = useState(false)\n  let noMoreRef = useRef(noMore)\n  noMoreRef.current = noMore\n  const [galleries, setGalleries] = useState([])\n  let trendingRef = useRef(galleries)\n  trendingRef.current = galleries\n\n  // callback for when activeMode changes\n  useEffect(() => {\n    reset()\n  }, [activeMode])\n  function reset() {\n    setGettingMoreGalleries(false)\n    setGalleries([])\n    setNoMore(false)\n  }\n  useEffect(() => {\n    if (galleries.length === 0) {\n      getMore()\n    }\n  }, [galleries])\n  async function getGalleries() {\n    if (noMore) {\n      return\n    }\n    console.log(\"getting galleries from \" + activeMode)\n    let from = trendingRef.current.length\n    let to = from + 60\n    let url = `/api/trending/${activeMode}?from=${from}&to=${to}`\n    console.log(\"fetching \" + from + \" \" + to)\n    try {\n      let res = await fetch(url)\n      let json = await res.json()\n      if (res.status === 200) {\n        if (json.length === 0) {\n          setNoMore(true)\n          setGettingMoreGalleries(false)\n          return\n        }\n        // console.log('NEW GALLERIES ' + from + ' ' + to)\n        // make sure galleries not already in trending\n        let newGalleries = json.filter((newGallery) => {\n          let isNew = true\n          galleries.forEach((oldGallery) => {\n            if (oldGallery.gallery_id === newGallery.gallery_id) {\n              isNew = false\n            }\n          })\n          return isNew\n        })\n        console.log(newGalleries)\n        setGalleries([...galleries, ...newGalleries])\n        setGettingMoreGalleries(false)\n        if (!mounted) {\n          setMounted(true)\n        }\n      }\n    } catch (err) {\n      console.log(err)\n      setGettingMoreGalleries(false)\n    }\n  }\n  // trigger get more function\n  const [gettingMoreGalleries, setGettingMoreGalleries] = useState(false)\n  function getMore() {\n    // exit out if allready in process of fetching and updating page\n    if (gettingMoreGalleries == true || noMore) {\n      return\n    }\n    setGettingMoreGalleries(true)\n  }\n  useEffect(() => {\n    if (gettingMoreGalleries) {\n      getGalleries()\n    }\n  }, [gettingMoreGalleries])\n\n  return (\n    <Home\n      id=\"app-home\"\n      className=\"min-h-screen relative px-4\"\n      style={{\n        zIndex: 1,\n      }}\n    >\n      <div>\n        <h1 className=\"text-center font-bold text-4xl mt-4 relative z-10\">\n          {/* ImgBeam <span className=\"opacity-50\">(v0.3.1)</span> */}\n        </h1>\n        <h2 className=\"text-center headline relative z-10 opacity-50\">\n          Avoiding copyright infringement since 2021.\n        </h2>\n      </div>\n\n      {/* <Background></Background> */}\n      <div className=\"controls w-full flex flex-row justify-between items-center\">\n        <SortButton modes={modes} sortMenu={sortMenu}  action={toggleSortMenu} string={\"Trending\"} icon={\"fa-fire\"}></SortButton>\n        {/* <SortButton string={\"Sort\"} icon={\"fa-sort\"}></SortButton> */}\n      </div>\n      <div className=\"trending-container z-10  mx-auto relative\" style={{}}>\n        <div className=\"flex flex-row justify-start\">\n          {mounted ? (\n            <SuperGrid\n              // title={\"Trending\"}\n              galleries={galleries}\n              getMore={getGalleries}\n            ></SuperGrid>\n          ) : (\n            <MoonLoader color={\"white\"} size={30}></MoonLoader>\n          )}\n        </div>\n        <div\n          id=\"getting-more\"\n          className=\"w-full py-16 flex flex-col justify-center items-center\"\n        >\n          {galleries.length > 0 && gettingMoreGalleries && (\n            <MoonLoader color={\"white\"} size={30}></MoonLoader>\n          )}\n        </div>\n      </div>\n    </Home>\n  )\n}\nfunction SortButton(props) {\n  return (\n    <SortButtonView onClick={e => props.action(!props.sortMenu)}>\n      <div className=\"mr-3\">{props.string}</div>\n      <div>\n        <i className={`fas ${props.icon} icon`}></i>\n      </div>\n      {\n        props.sortMenu &&\n      <SortMenu options={props.modes} sortMenu={props.sortMenu} toggleMenu={props.action}></SortMenu>\n\n      }\n    </SortButtonView>\n  )\n}\nconst SortButtonView = styled.button`\n  border: ${(props) => `1px solid ${props.theme.border}`};\n  border-radius: 8px;\n  height: 32px;\n  display: flex;\n  position: relative;\n  font-size: 14px;\n  color: ${(props) => props.theme.text};\n  padding: 4px 8px;\n  font-weight: 600;\n  flex-direction: row;\n  align-items: center;\n  :hover {\n    background: ${(props) => props.theme.background_1};\n  }\n  .icon {\n    font-size: 16px;\n    color: ${(props) => props.theme.icons};\n  }\n`\nfunction Background() {\n  return (\n    <div className=\"w-full absolute left-0 right-0 px-64 z-0\">\n      <div\n        className=\"\"\n        style={{\n          width: \"100%\",\n          maxWidth: \"1024px\",\n          top: \"-200px\",\n        }}\n      ></div>\n      <img src={triangle} alt=\"\" style={{}} />\n    </div>\n  )\n}\nconst Home = styled.div`\n  .headline{\n    font-weight: 900;\n    font-size: 22px;\n    letter-spacing: -1🤖px;\n  }\n`\n","import React, { useEffect, useState } from \"react\"\nimport Supergrid from \"../../SuperGrid\"\nimport { useHistory } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { connect } from \"react-redux\"\nimport SigninPlaceholder from \"../../SignInPlaceholder\"\nfunction UploadsView(props) {\n  const [posts, setPosts] = useState([])\n  useEffect(() => {\n    getUploads()\n  }, [])\n  async function getUploads() {\n    try {\n      let url = `/api/account/posts`\n      let res = await fetch(url, {\n        credentials: \"include\",\n      })\n      if (res.status == 200) {\n        setPosts(await res.json())\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  if (!props.signedIn) {\n    return (\n      <div className=\"mx-4\">\n        <SigninPlaceholder\n          icon={\"fas fa-photo-video\"}\n          subheader={\"Sign in to view your contributions.\"}\n          header={\"Uploads\"}\n        ></SigninPlaceholder>\n      </div>\n    )\n  } else\n    return (\n      <div className=\"mx-4\">\n        <div>\n          <NewPost></NewPost>\n        </div>\n        <Supergrid insert={NewPost} galleries={posts}></Supergrid>\n      </div>\n    )\n}\nfunction NewPost() {\n  const history = useHistory()\n  return (\n    <div>\n      <NewButton onClick={(e) => history.push(\"/new\")}>\n        <div className=\"mr-3\">\n          <i className=\"fas fa-plus\"></i>\n        </div>\n        <div>New Post</div>\n      </NewButton>\n    </div>\n  )\n}\nconst NewButton = styled.button`\n  background: ${(props) => props.theme.background_1};\n  border: ${(props) => `1px solid ${props.theme.border}`};\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 8px 12px;\n  margin-top: 32px;\n  :hover{\n    color: ${props => props.theme.textFaded};\n    background: ${props => props.theme.background_3};\n  }\n`\nfunction mapStateToProps(state) {\n  return {\n    signedIn: state.app_state_reducer.signedIn,\n    account: state.account_reducer.account,\n  }\n}\n\nexport default connect(mapStateToProps)(UploadsView)\n","import { scale } from \"jimp\"\nimport React, { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport SuperGrid from \"../../SuperGrid\"\nimport SignInPlaceholder from '../../SignInPlaceholder'\nexport default function FavoritesView(props) {\n  const [favorites, setFavorites] = useState([])\n  const [folders, setFolders] = useState([])\n  const [active, setActive] = useState(null)\n\n  useEffect(() => {\n    getFolders()\n  }, [])\n  \n  async function getFolders() {\n    let url = `/api/account/favorites/folders`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n      })\n      if (res.status == 200) {\n        setFolders(await res.json())\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function getFolder() {\n    let url = `/api/account/favorites/folders/${active}`\n    // console.log(\"getting \" + active)\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n      })\n      if (res.status == 200) {\n        let json = await res.json()\n        // console.log(json)\n        setFavorites(json)\n      }\n    } catch (err) {}\n  }\n  useEffect(() => {\n   getFolder()\n  }, [active])\n  const [dropFolder, setDropFolder] = useState(null)\n  const [dragged, setDragged] = useState(null)\n  // useEffect(() => {\n  //   // console.log(dragged)\n  // }, [dragged])\n  // useEffect(() => {\n  //   console.log(dropFolder)\n  // }, [dropFolder])\n  function onDrop(e) {\n    e.preventDefault()\n    e.stopPropagation()\n    let split = dragged.split('-')\n    let gallery_id = split[1]\n    // console.log(\n    //   \"need to move favorite  \" + gallery_id + \" into folder id: \" + dropFolder\n    // )\n    moveToFolder(gallery_id)\n  }\n  async function moveToFolder(gallery_id){\n    // get favorite id from gallery_id\n    let url = `/api/account/favorites/move/${gallery_id}/${dropFolder}`\n    try {\n      let res = await fetch(url, {\n        credentials: 'include',\n        method: \"PUT\"\n      })\n      if(res.status == 200){\n        getFolder()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  if(props.signedIn)\n  return (\n    <div className=\"mx-4\">\n      <Folders\n        active={active}\n        onDrop={onDrop}\n        setDropFolder={setDropFolder}\n        setActive={setActive}\n        getFolders={getFolders}\n        folders={folders}\n      ></Folders>\n      <SuperGrid\n        favoritesMode\n        draggable\n        setDragged={setDragged}\n        galleries={favorites}\n        title={folders[folders.map((folder)=> folder.folder_id).indexOf(active)] ? folders[folders.map((folder)=> folder.folder_id).indexOf(active)].name : \"Uncategorized\"}\n      ></SuperGrid>\n    </div>\n  )\n  else return(\n    <div className=\"text-white\">\n            <SignInPlaceholder header={`Keep a list of what you like.`} icon={`fas fa-heart`} subheader={`Sign in save and organize your favorite posts.`}></SignInPlaceholder>\n          \n        </div>\n  )\n}\nfunction Folders(props) {\n  return (\n    <div className=\"flex flex-row pt-8  overscroll-x-auto\">\n      <Folder\n        active={props.active == null}\n        folderObject={\n          props.folderObject || {\n            name: \"Uncategorized\",\n            folder_id: null,\n          }\n        }\n        setDropFolder={props.setDropFolder}\n        onDrop={props.onDrop}\n        setActive={props.setActive}\n        getFolders={props.getFolders}\n      ></Folder>\n      <AddFolder getFolders={props.getFolders}></AddFolder>\n\n      {props.folders.map((folderObject) => {\n        return (\n          <div>\n            <Folder\n              active={props.active === folderObject.folder_id}\n              onDrop={props.onDrop}\n              key={`favorites-folder-${folderObject.name}`}\n              setActive={props.setActive}\n              folderObject={folderObject}\n              getFolders={props.getFolders}\n              setDropFolder={props.setDropFolder}\n            ></Folder>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\nfunction Folder(props) {\n  useEffect(()=>{\n    setNameString(props.folderObject.name)\n  },[])\n  const [nameString, setNameString] = useState(\"\")\n  const [editing, toggleEditing] = useState(false)\n  async function deleteFolder(folder_id) {\n    let url = `/api/account/favorites/folders/delete?id=${folder_id}`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"DELETE\",\n      })\n      if (res.status == 200) {\n        props.getFolders()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function renameFolder() {\n    toggleEditing(false)\n    if(nameString === props.folderObject.name) return\n    let url = `/api/account/favorites/folders/${props.folderObject.folder_id}/${nameString}`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"PUT\",\n      })\n      if (res.status == 200) {\n        props.getFolders()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  function draggingOver(e) {\n    e.stopPropagation()\n    e.preventDefault()\n    props.setDropFolder(props.folderObject.folder_id)\n  }\n  const [count, setCount] = useState(0)\n  function validateName(e){\n    if(nameString.length < 48){\n      setNameString(e.target.value)\n    }\n  }\n  useEffect(() => {\n    // console.log(count)\n    if (count == 1) {\n      document\n        .getElementById(`folder-${props.folderObject.folder_id}`)\n        .classList.add(\"animate__shakeY\")\n    }\n    if (count == 0) {\n      document\n        .getElementById(`folder-${props.folderObject.folder_id}`)\n        .classList.remove(\"animate__shakeY\")\n    }\n  }, [count])\n  function interceptEnter(e){\n    if(e.keyCode === 13){\n      document.getElementById(`favorite-folder-input-${props.folderObject.folder_id}`).blur()\n    }\n  }\n  useEffect(()=>{\n    if(editing){\n      if(document.getElementById(`favorite-folder-input-${props.folderObject.folder_id}`)){\n        document.getElementById(`favorite-folder-input-${props.folderObject.folder_id}`).focus()\n      }\n    }\n  },[editing])\n  return (\n    <FolderHolder\n        active={props.active}\n\n      onDrop={(e) => props.onDrop(e)}\n      onDragLeave={(e) => setCount(count - 1)}\n      onDragEnter={(e) => setCount(count + 1)}\n      onDragOver={(e) => draggingOver(e)}\n    >\n      <FolderElement\n        active={props.active}\n\n        id={`folder-${props.folderObject.folder_id}`}\n        className=\"animate__animated \"\n        onClick={(e) => {\n          props.setActive(props.folderObject.folder_id)\n        }}\n      ></FolderElement>\n      <div className=\"folder-info flex flex-row items-center pt-4\">\n      {\n        !editing ? \n        <div\n        onClick={e => toggleEditing(true)}\n        className=\"name w-full text-center font-bold\"\n        style={{\n          fontSize: \"11px\",\n          cursor: \"pointer\"\n        }}\n      >\n        {props.folderObject.name}\n      </div>\n      :\n      <input id={`favorite-folder-input-${props.folderObject.folder_id}`} type=\"text\" onKeyDown={e => interceptEnter(e)} onChange={e => validateName(e)} value={nameString} onBlur={e => renameFolder(e)} />\n      }\n        \n       \n      </div>\n    </FolderHolder>\n  )\n}\nfunction AddFolder(props) {\n  async function createFolder(e) {\n    let url = `/api/account/favorites/folders`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"POST\",\n      })\n      if (res.status == 200) {\n        props.getFolders()\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  return (\n    <FolderHolder className=\"self-stretch px-4 flex flex-col items-center justify-start\">\n      <AddFolderEl\n        className=\"flex flex-col items-center justify-center\"\n        onClick={(e) => createFolder(e)}\n      >\n        <i className=\"fas fa-plus opacity-50\"></i>\n      </AddFolderEl>\n    </FolderHolder>\n  )\n}\n\nconst FolderHolder = styled.div`\n  /* padding: 12px 24px; */\n  width: 120px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: start;\n  color: ${props => props.active ? props.theme.text : 'rgba(140,140,140,1)'};\n  input{\n    background: transparent;\n    font-size: 12px;\n    max-width: 160px;\n    outline:none;\n    text-align: center;\n    :focus{\n      outline: none;\n    }\n  }\n`\nconst AddFolderEl = styled.button`\n  width: 82px;\n  height: 64px;\n  background: ${props => props.theme.background_3};\n  border-radius: 8px;\n`\nconst FolderElement = styled.button`\n  width: 82px;\n  height: 64px;\n  background: ${props => props.theme.success};\n  box-shadow: 2px 2px 6px rgba(0,0,0,.4);\n  transform: ${props => props.active ? 'scale(1.2)' : 'scale(1)'};\n  opacity: ${props=> props.active ? 1 : .5};\n  border-radius: 8px;\n  :hover{\n    transform: scale(1.09);\n  }\n  .animate__animated.animate__shakeY  {\n  }\n  :after{\n    content: '';\n    position: absolute;\n    top: -6px;\n    left:0;\n    border-radius: 8px;\n    width: 40px;\n    height: 20px;\n    background: ${props => props.theme.success};\n\n  }\n`\n","import React, { useState } from \"react\"\nimport {\n  BrowserRouter as Router,\n  Link,\n  Route,\n  useHistory,\n} from \"react-router-dom\"\nimport Sidebar from './Sidebar'\nimport FollowingView from \"./pages/following_page/FollowingPage\"\nimport Gallery_page from \"./pages/gallery_page/GalleryPage.jsx\"\nimport user_page from \"./pages/user_page/UserPage.jsx\"\nimport gallery_edit from \"./pages/gallery_edit/GalleryEdit.jsx\"\nimport leaderboard_page from \"./pages/leaderboard_page/LeaderBoardPage\"\nimport NewPostOverlay from \"./NewPostOverlay\"\nimport HistoryView from \"./pages/history_page/HistoryView\"\nimport Account from \"./pages/account_page/AccountPage\"\nimport ResultsPage from \"./pages/results_page/ResultsPage\"\nimport TagResults from \"./pages/tag_page/TagResults\"\nimport UserResults from \"./pages/users_page/UserResults\"\nimport NotificationView from \"./pages/notification_view/NotificationView\"\nimport HomePage from \"./pages/home_page/HomePage.jsx\"\nimport UploadsView from \"./pages/uploads_page/UploadsView\"\nimport colors from \"../theme/colors\"\nimport styled from \"styled-components\"\nimport NewPage from \"./pages/new_page/NewPage\"\nimport { signIn, signOut } from \"../state/store/actions/index\"\nimport { connect } from \"react-redux\"\nimport FavoritesView from \"./pages/favorites_page/FavoritesView\"\nfunction PageRouter(props) {\n  const [globalGrid, setGlobalGrid] = useState([])\n  // global state\n  function setGlobalGalleries(galleriesFromHomePage) {\n    setGlobalGrid(galleriesFromHomePage)\n  }\n  const [scrollPosition, setScrollPosition] = useState(0)\n  return (\n    <RouterStyle\n      className=\"text-left  pt-16 relative\"\n      style={{\n        zIndex: 997,\n        marginLeft: `${props.sidebar ? \"240px\" : \"15px\"}`,\n        minHeight: \"calc(100vh)\",\n      }}\n    >\n      {/* home tiles page with sorting mechanism */}\n      <Route\n        path=\"/\"\n        exact\n        render={(routerProps) => (\n          <HomePage\n            globalGalleries={globalGrid}\n            scrollPosition={scrollPosition}\n            setScrollPosition={setScrollPosition}\n            setGlobalGalleries={setGlobalGalleries}\n          ></HomePage>\n        )}\n      ></Route>\n      {/* <Route\n        path=\"/new\"\n        exact\n        render={(routerProps) => <NewPage></NewPage>}\n      ></Route> */}\n      {/* user view routes with posts/comments sub views */}\n      <Route path=\"/user/:username\" component={user_page}></Route>\n      <Route path=\"/u/user/:username\" component={user_page}></Route>\n      {/* gallery views */}\n      <Route\n        exact\n        path=\"/edit/beam/:gallery_id\"\n        component={gallery_edit}\n      ></Route>\n      {/* <Route\n        exact\n        path=\"/beam/:gallery_id\"\n        render={(routerProps) => (\n          <Gallery_page\n            signedIn={props.signedIn}\n            toggleLoginOverlay={props.toggleLoginOverlay}\n            key={routerProps.match.params.gallery_id}\n            {...routerProps}\n          ></Gallery_page>\n        )}\n      ></Route> */}\n      {/* settings */}\n      <Route\n        path=\"/account\"\n        render={(props) => <Account {...props}></Account>}\n      ></Route>\n      {/* My Uploads */}\n      <Route\n        path=\"/uploads\"\n        exact\n        render={() => <UploadsView signedIn={props.signedIn}></UploadsView>}\n      ></Route>\n      {/* Leaderboards */}\n      <Route path=\"/leadboard/:type\" exact component={leaderboard_page}></Route>\n      {/* Notifications */}\n      <Route\n        path=\"/notifications\"\n        exact\n        render={() => (\n          <NotificationView signedIn={props.signedIn}></NotificationView>\n        )}\n      ></Route>\n      {/* Following */}\n      <Route\n        path=\"/following\"\n        exact\n        render={() => <FollowingView signedIn={props.signedIn}></FollowingView>}\n      ></Route>\n      {/* Favorites */}\n      <Route\n        path=\"/favorites\"\n        exact\n        render={() => <FavoritesView signedIn={props.signedIn}></FavoritesView>}\n      ></Route>\n      {/* History */}\n      <Route\n        path=\"/history\"\n        exact\n        render={() => <HistoryView signedIn={props.signedIn}></HistoryView>}\n      ></Route>\n      {/* search results */}\n      <Route\n        path=\"/search/:searchString\"\n        \n        render={(props) => (\n          <ResultsPage {...props} key={Date.now()}></ResultsPage>\n        )}\n      ></Route>\n       {/* <Route\n        path=\"/search\"\n        \n        render={(props) => (\n          <SearchHome {...props} key={Date.now()}></SearchHome>\n        )}\n      ></Route> */}\n      {/* Tag Results */}\n      <Route\n        path=\"/tag/:tagstring\"\n        exact\n        render={(props) => (\n          <TagResults key={Date.now()} {...props}></TagResults>\n        )}\n      ></Route>\n      {/* User Search Results */}\n      <Route\n        path=\"/users/:userstring\"\n        render={(props) => <UserResults {...props}></UserResults>}\n      ></Route>\n      {/* new post */}\n      <Route\n        path=\"/create\"\n        exact\n        render={() => {\n          return <NewPostOverlay signedIn={props.signedIn}></NewPostOverlay>\n        }}\n      ></Route>\n    </RouterStyle>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    createMenu: state.app_state_reducer.createMenu,\n    sidebar: state.app_state_reducer.sidebar,\n    account: state.account_reducer.account,\n    signedIn: state.app_state_reducer.signedIn,\n  }\n}\nconst mapDispatchToProps = {\n  signIn,\n  signOut,\n}\n\nconst RouterStyle = styled.div`\n  transition: all .2s linear; \n  background-color: ${(props) => props.theme.background_2};\n`\nexport default connect(mapStateToProps, mapDispatchToProps)(PageRouter)\n","export default __webpack_public_path__ + \"static/media/imgbeam_logo.02417a9c.svg\";","export default __webpack_public_path__ + \"static/media/bg_1.ffcdb534.jpg\";","import React, {useEffect, useState} from 'react'\nimport logo from '../../imgbeam_logo.svg'\nimport bg1 from '../../bg_1.jpg'\nimport styled, {keyframes} from 'styled-components'\n// this should display whenever an authenticated function is requested by a unauthenticated visitor\nexport default function LoginOverlay(props) {\n    useEffect(()=>{\n        document.addEventListener('scroll', handleScroll)\n    },[])\n    function handleScroll(e){\n        e.preventDefault()\n    }\n \n    return (\n        <div className=\"fixed top-0 left-0 w-full h-full flex flex-col items-center justify-center\" style={{\n            zIndex:9999,\n        }}>\n            <div onClick={e=> props.close(false)} className=\"overlay absolute top-0 bottom-0 left-0 right-0\" style={{\n                background: 'rgba(0,0,0,.7)',\n                zIndex: 3,\n            }}></div>\n            <div  className=\"overlay absolute top-0 bottom-0 left-0 right-0\" style={{\n            pointerEvents:'none',\n                zIndex: 2,\n            }}></div>\n            {/* modal */}\n            <Panel className=\"bg-gray-800 shadow-lg relative text-white\" style={{\n                // background:'#373737'\n                zIndex:4,\n                borderRadius: '26px',\n                overflow: 'hidden'\n            }}>\n                <div id=\"login-modal-logo\" className=\"w-full px-16 py-8\" style={{\n                    background: `url(${bg1})`,\n                    backgroundSize:'cover',\n                    backgroundPosition:'center',\n                }}>\n                    <img src={logo} className=\"w-64 \" alt=\"\" style={{\n                        filter:'drop-shadow(0 0 8px rgba(0,0,0,.8))'\n                    }} />\n                </div>\n                <div className=\"my-8 px-6 text-white font-bold text-lg\"><a href=\"/login\" className=\"text-purple-400\">Log In </a> to proceed with that action.</div>\n                <form action=\"/login\" method=\"POST\" className=\" flex flex-col w-full px-8 pb-4\">\n                    <InputStyle className=\"outline-none focus:outline-none mb-6\" placeholder=\"username or email\" type=\"text\" name=\"username\" id=\"login-overlay-login\"/>\n                    <InputStyle className=\"outline-none focus:outline-none mb-6\" placeholder=\"password\" type=\"password\" name=\"password\" id=\"logib-overlay-password\"/>\n                   <LoginButton type=\"submit\">Log In</LoginButton>\n                   <div className=\"text-gray-500 cursor-pointer mt-4 mb-4\" onClick={e => props.close(false)}>cancel</div>\n                </form>\n            </Panel>\n        </div>\n    )\n}\nconst InputStyle = styled.input`\n    background: rgba(100,100,100,.1);\n    border: 1px solid #373737;\n    padding: 8px 10px;\n    border-radius: 16px;\n\n`\n\nconst intro = keyframes`\n from{\n     transform: scale(.6);\n     opacity: 0;\n }\n to{\n    transform: scale(1);\n     opacity: 1;\n }\n`\nconst Panel = styled.div`\n    animation: ${intro} .2s cubic-bezier(0.68, -0.6, 0.32, 1.6) forwards;\n\n`\nconst LoginButton = styled.button`\n    background: linear-gradient(to right, #6134da , #8f71e2 );\n    color: white;\n    font-weight: bold;\n    padding: 6px;\n    border-radius: 16px;\n`","import React from \"react\"\nimport styled from \"styled-components\"\nimport { Switch, Route, Link } from \"react-router-dom\"\nexport default function SettingsView(props) {\n  return (\n    <Settings className=\"flex flex-row min-h-screen text-left relative\">\n      <SettingsSidebar></SettingsSidebar>\n      <SettingsContent id=\"settings-content\">\n      <Switch>\n        <Route to=\"/account\"></Route>\n        <Route to=\"/application\"></Route>\n        <Route to=\"/notifications\"></Route>\n        <Route to=\"/privacy\"></Route>\n      </Switch>\n      </SettingsContent>\n     \n    </Settings>\n  )\n}\nconst SettingsContent = styled.div`\n    margin-left: 240px;\n    min-height: 100vh;\n    flex-grow: 1;\n    background: ${props => props.theme.background_1}\n`\nfunction ItemView(){\n  return (\n    <section></section>\n  )\n}\n// settings sidebar\nfunction SettingsSidebar() {\n  return (\n    <Sidebar id=\"settings-sidebar\">\n      <div\n        id=\"settings-title\"\n        className=\"text-lg font-semibold\"\n        style={{\n          paddingLeft: \"24px\",\n          paddingBottom: \"24px\",\n        }}\n      >\n        <h3>SETTINGS</h3>\n      </div>\n      <ul>\n        <SidebarItem string={\"Account\"} link={\"/settings\"}></SidebarItem>\n        <SidebarItem string={\"Application\"} link={\"/settings/application\"}></SidebarItem>\n        <SidebarItem string={\"Notifications\"} link={\"/settings/notifications\"}></SidebarItem>\n        <SidebarItem string={\"Privacy\"} link={\"/settings/privacy\"}></SidebarItem>\n      </ul>\n    </Sidebar>\n  )\n}\nfunction SidebarItem(props) {\n  return (\n    <li>\n      <Link to={props.link}>\n        <Item>{props.string}</Item>\n      </Link>\n    </li>\n  )\n}\nconst Item = styled.div`\n  display: block;\n  width: 100%;\n  padding: 12px 24px;\n  cursor: pointer;\n  :hover {\n    background: ${(props) => props.theme.background_1};\n  }\n`\nconst Settings = styled.div`\n  margin-top: ${(props) => props.theme.navbar_height};\n`\nconst Sidebar = styled.div`\n  padding: 24px 0;\n  width: 240px;\n  position: fixed;\n  z-index: 9999;\n  left: 0;\n  background-color: ${(props) => props.theme.background_3};\n  height: ${(props) => `calc(100vh - ${props.theme.navbar_height})`};\n`\n","import React, { useEffect, useState } from \"react\"\nimport styled, { keyframes } from \"styled-components\"\nimport { connect } from \"react-redux\"\nimport { useHistory } from \"react-router-dom\"\nimport imgbeam from '../../imgbeam_text_white.png'\nimport { Helmet } from \"react-helmet\"\nimport {\n  startUpload,\n  addFile,\n  setFiles,\n  removeFile,\n  setTags,\n  resetTransferState,\n  setDescription,\n  setTitle,\n  cancelUpload,\n} from \"../../state/store/actions/index\"\nfunction NewPostView(props) {\n  useEffect(() => {\n    return () => {\n      props.resetTransferState()\n    }\n  }, [])\n  // const [title, setTitle] = useState(\"\")\n  const [tags, setTags] = useState([])\n  const [tagString, setTagString] = useState(\"\")\n\n  // check if upload is valid and ready to transfer\n  const [valid, setValid] = useState(false)\n  useEffect(() => {\n    if (props.filesToDo.length == 0) return\n    let valid = true\n    if (props.title.length === 0) valid = false\n    if (props.filesToDo.length === 0) valid = false\n    if (getSize() > 80) valid = false\n    if (props.filesToDo.length > 40) valid = false\n    console.log(valid)\n    setValid(valid)\n  }, [props.filesToDo, props.description, props.title])\n  function getSize() {\n    return (\n      props.filesToDo\n        .map((file) => file.size)\n        .reduce((total, fileSize) => (total += fileSize)) / 1000000\n    )\n  }\n  function tagLink(string) {\n    console.log(string)\n    if (!tags.includes(string)) {\n      setTags([...tags, string])\n    }\n  }\n  function addTag(e) {\n    console.log(e.keyCode)\n    // remove last tag if string empty and delete hit\n    if (e.keyCode == 8 && tagString.length == 0) {\n      let tags_array = [...tags]\n      tags_array.splice(tags_array.length - 1, 1)\n      setTags(tags_array)\n    }\n    if (e.keyCode === 13) {\n      // check if tag already there\n      if (tags.includes(tagString)) {\n        setTagString(\"\")\n        return\n      }\n      setTags([...tags, tagString])\n    }\n  }\n  function removeTag(tagString) {\n    let index = tags.indexOf(tagString)\n    let new_tags = [...tags]\n    new_tags.splice(index, 1)\n    setTags(new_tags)\n  }\n  useEffect(() => {\n    setTagString(\"\")\n    // console.log(tags)\n  }, [tags])\n  const [counter, setCounter] = useState(0)\n  useEffect(() => {\n    console.log(counter)\n    if (counter > 0) {\n      document.getElementById(\"drop-zone\").classList.add(\"active\")\n      return\n    }\n    document.getElementById(\"drop-zone\").classList.remove(\"active\")\n  }, [counter])\n  if (props.uploading)\n    return (\n      <div>\n        <HelmetEl></HelmetEl>\n\n        <View>uploading</View>\n      </div>\n    )\n  else\n    return (\n      <View\n        className=\"mx-auto \"\n        onDragEnter={(e) => setCounter(counter + 1)}\n        onDragLeave={(e) => setCounter(counter - 1)}\n      >\n        <HelmetEl></HelmetEl>\n        <Banner>\n          <div className=\"absolute left-0 bottom-0 top-0 flex flex-col items-center justify-center pl-3\">\n            <a href=\"/\" className=\"block\">\n            <img src={imgbeam} alt=\"\" style={{\n              height: '32px'\n            }}/>\n\n            </a>\n          </div>\n          <h2 className=\"title\">New Post</h2>\n          {/* <h2 className=\"subtitle\">Let's make this as easy as possible...</h2> */}\n        </Banner>\n        <div\n          className=\"main-content mt-12 flex flex-col lg:flex-row container px-12 mx-auto\"\n          style={{\n            maxWidth: \"1080px\",\n            // overflowY: 'scroll',\n            marginBottom: '64px'\n          }}\n        >\n          <FileZone\n            addFile={props.addFile}\n            filesToDo={props.filesToDo}\n            removeFile={props.removeFile}\n          ></FileZone>\n          <InfoZone\n            addTag={addTag}\n            tagLink={tagLink}\n            tags={tags}\n            setDescription={setDescription}\n            removeTag={removeTag}\n            tagString={tagString}\n            setTagString={setTagString}\n            title_value={props.title}\n            setTitle={props.setTitle}\n          ></InfoZone>\n        </div>\n        <FixedFooter\n          startUpload={props.startUpload}\n          valid={valid}\n          title={props.title}\n          files={props.filesToDo}\n          cancelUpload={props.cancelUpload}\n        ></FixedFooter>\n      </View>\n    )\n}\nfunction FileZone(props) {\n  function addFileToState(newFile) {\n    let reader = new FileReader()\n    reader.onload = function (e) {\n      newFile.typeString = returnType(newFile.type)\n      newFile.url = e.target.result\n      props.addFile(newFile)\n    }\n    reader.readAsDataURL(newFile)\n  }\n  function returnType(typeString) {\n    if (typeString.includes(\"video\")) {\n      return \"video\"\n    }\n    return \"image\"\n  }\n  function checkFile(e) {\n    console.log(e.dataTransfer)\n    // if(e.dataTransfer.items[0].type.contains){\n    //   console.log('file present')\n    // }\n  }\n  function deleteFile(e, index) {\n    e.stopPropagation()\n    props.removeFile(index)\n  }\n  if (props.filesToDo[0]) console.log(props.filesToDo[0])\n  return (\n    <FileView>\n      <div id=\"main-drop\">\n        <DropZone\n          id=\"drop-zone\"\n          onDragOver={(e) => checkFile(e)}\n          occupied={props.filesToDo[0]}\n          onClick={(e) => document.getElementById(\"browse\").click()}\n        >\n          {props.filesToDo.length > 0 && (\n            <DeleteButton index={0} action={deleteFile}></DeleteButton>\n          )}\n          {props.filesToDo.length > 0 && (\n            <div className=\"overlay absolute  top-0 bottom-0 left-0 right-0 z-10\">\n              {props.filesToDo[0].typeString == \"image\" ? (\n                <img\n                  src={props.filesToDo[0].url}\n                  alt=\"\"\n                  style={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    objectFit: \"contain\",\n                  }}\n                />\n              ) : (\n                <video\n                  src={props.filesToDo[0].url}\n                  alt=\"\"\n                  muted\n                  autoPlay\n                  style={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    objectFit: \"contain\",\n                  }}\n                ></video>\n              )}\n            </div>\n          )}\n          \n          {props.filesToDo[0] && (\n            <div className=\"control-overlay z-50 absolute top-0 left-0 right-0 bottom-0\">\n              {/* <TrashButton></TrashButton> */}\n            </div>\n          )}\n\n          <div className=\"absolute top-0 right-0 bottom-0 left-0 flex flex-col items-center justify-center\">\n            <div className=\"relative\">\n              <i className=\"fas fa-cloud-upload-alt icon\"></i>\n            </div>\n            <div className=\"font-bold text-2xl\">Drop an Image or Video</div>\n            <div>\n              <BrowseLabel htmlFor=\"browse\">\n                or browse for a file\n                <input\n                  onChange={(e) => addFileToState(e.target.files[0])}\n                  id=\"browse\"\n                  style={{\n                    display: \"none\",\n                  }}\n                  type=\"file\"\n                  accept=\".jpg,.jpeg,.png,.gif,.apng,.tiff,.tif,.bmp,.xcf,.webp,.mp4,.mov,.avi,.webm,.mpeg,.flv,.mkv,.mpv,.wmv\"\n                />\n              </BrowseLabel>\n            </div>\n            <div className=\"subhead\">\n              (20MB per file limit, up to 80MB per upload)\n            </div>\n          </div>\n        </DropZone>\n      </div>\n      <div className=\"allowed mt-2\">\n        Accepted Formats\n        <div className=\"allowed-sub\">\n          images (.jpg, .png, gif, .tif, .webp) videos (.mp4, .avi, .webm, .mov)\n        </div>\n      </div>\n      {props.filesToDo[0] && <Summary filesToDo={props.filesToDo}></Summary>}\n      <MoreImages\n        length={props.filesToDo.length}\n        id=\"more-images\"\n        className=\"mt-6\"\n      >\n        <div className=\"flex flex-row flex-wrap\">\n          <NewMediaButton htmlFor=\"add-media\">\n            <input\n              type=\"file\"\n              id=\"add-media\"\n              className=\"hidden\"\n              onChange={(e) => addFileToState(e.target.files[0])}\n              style={{\n                display: \"none\",\n              }}\n              accept=\".jpg,.jpeg,.png,.gif,.apng,.tiff,.tif,.bmp,.xcf,.webp,.mp4,.mov,.avi,.webm,.mpeg,.flv,.mkv,.mpv,.wmv\"\n            />\n            <div>\n              <i className=\"fas fa-plus icon\"></i>\n            </div>\n          </NewMediaButton>\n          {props.filesToDo.map((file, index) => {\n            if (index !== 0) {\n              return (\n                <MediaButton>\n                  <DeleteButton\n                    index={index}\n                    action={deleteFile}\n                  ></DeleteButton>\n                  <img\n                    src={file.url}\n                    alt=\"\"\n                    style={{\n                      width: \"100%\",\n                      height: \"100%\",\n                      objectFit: \"contain\",\n                    }}\n                  />\n                </MediaButton>\n              )\n            }\n          })}\n        </div>\n      </MoreImages>\n    </FileView>\n  )\n}\nfunction HelmetEl() {\n  return (\n    <Helmet>\n      <meta charset=\"utf-8\" />\n      <title>{`New Post - ImgBeam, Capital of Memeland`}</title>\n      <meta\n        name=\"description\"\n        content={\n          \"Upload something new to ImgBeam. Share memes, find new wallpapers, get gifs, and more.\"\n        }\n      />\n      <meta name=\"image\" content={\"https://imgbeam.com/splash.png\"} />\n      {/* <!-- Schema.org for Google --> */}\n      <meta\n        itemprop=\"name\"\n        content={`New Post - ImgBeam, Capital of Memeland`}\n      />\n      <meta\n        itemprop=\"description\"\n        content={\n          \"Upload something new to ImgBeam. Share memes, find new wallpapers, get gifs, and more.\"\n        }\n      />\n      <meta itemprop=\"image\" content={\"https://imgbeam.com/splash.png\"} />\n      {/* <!-- Twitter --> */}\n      <meta name=\"twitter:card\" content=\"summary\" />\n      <meta\n        name=\"twitter:title\"\n        content={`New Post - ImgBeam, Capital of Memeland`}\n      />\n      <meta\n        name=\"twitter:description\"\n        content={\n          \"Upload something new to ImgBeam. Share memes, find new wallpapers, get gifs, and more.\"\n        }\n      />\n      <meta\n        name=\"twitter:image:src\"\n        content={\"https://imgbeam.com/splash.png\"}\n      />\n      {/* <!-- Open Graph general (Facebook, Pinterest & Google+) --> */}\n      <meta\n        name=\"og:title\"\n        content={`New Post - ImgBeam, Capital of Memeland`}\n      />\n      <meta\n        name=\"og:description\"\n        content={`Upload something new to ImgBeam. Share memes, find new wallpapers, get gifs, and more.`}\n      />\n      <meta name=\"og:image\" content={\"https://imgbeam.com/splash.png\"} />\n      <meta name=\"og:type\" content=\"website\" />\n    </Helmet>\n  )\n}\nconst MoreImages = styled.div`\n  transition: all 0.2s linear;\n  overflow-y: auto;\n`\n\n\nconst NewMediaButton = styled.label`\n  background-color: ${(props) => props.theme.background_2};\n  border: ${(props) => `1px solid ${props.theme.border}`};\n  cursor: pointer;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 92px;\n  height: 64px;\n  .icon {\n    transition: all 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n    color: ${(props) => props.theme.secondary};\n  }\n  :hover {\n    background-color: ${(props) => props.theme.background_2};\n    .icon {\n      transform: scale(1.5);\n    }\n  }\n  margin-right: 16px;\n  overflow: hidden;\n`\nconst MediaButton = styled.button`\n  background-color: ${(props) => props.theme.background_3};\n  border-radius: 8px;\n  display: flex;\n  margin-bottom: 16px;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 92px;\n  position: relative;\n  height: 64px;\n  margin-right: 16px;\n  overflow: hidden;\n`\n\nconst BrowseLabel = styled.label`\n  cursor: pointer;\n  font-weight: 700;\n  color: ${(props) => props.theme.tertiary};\n`\nconst DropZone = styled.div`\n  transition: all 0.2s linear;\n  cursor: pointer;\n  background: ${props => `linear-gradient(to top right, ${props.theme.success}, ${props.theme.secondary})`};\n  box-shadow: 0 8px 12px -8px rgba(0,0,0,.7);\n  color: white;\n    border-radius: 12px;\n  display: flex;\n  overflow: hidden;\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  &.active {\n    transform: scale(1.03);\n    background: ${(props) => props.theme.background_2};\n  }\n  .control-overlay {\n    transition: all 0.1s linear;\n    display: none;\n    opacity: 0;\n  }\n  :hover {\n    .drop-info {\n      opacity: 0.2;\n    }\n    .control-overlay {\n      display: flex;\n      opacity: 1;\n    }\n    .icon {\n      transform: scale(1.3);\n      opacity: 1;\n      margin-bottom: 20px;\n      color: white;\n    }\n  }\n  .overlay {\n    background-color: ${(props) => props.theme.background_2};\n  }\n  :after {\n    padding-top: 75%;\n    content: \"\";\n    display: block;\n  }\n  .icon {\n    opacity: 0;\n\n    transition: all 0.3s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n    font-size: 72px;\n  }\n  .subhead{\n    font-weight: bold;\n    color: white;\n    opacity: .7;\n  }\n`\nfunction Summary(props) {\n  return (\n    <SummaryView>\n      <div className=\"bar\">\n        {props.filesToDo.length} items{\" \"}\n        <span className=\"sizes\">\n          (\n          {(\n            props.filesToDo\n              .map((file) => file.size)\n              .reduce((total, fileSize) => (total += fileSize)) / 1000000\n          ).toFixed(1) || 0}\n          MB)\n        </span>\n      </div>\n    </SummaryView>\n  )\n}\nconst SummaryView = styled.div`\n  width: 100%;\n  margin-top: 24px;\n  border-radius: 8px;\n  overflow: hidden;\n  box-sizing: border-box;\n  font-size: 14px;\n  font-weight: 600;\n  .sizes {\n    color: ${(props) => props.theme.textFaded};\n  }\n  .bar {\n    padding: 12px;\n    background: ${(props) => props.theme.background_2};\n  }\n`\nconst FileView = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  @media(min-width: 600px){\n    margin-right: 32px;\n\n  }\n\n  .allowed{\n    font-size: 14px;\n    font-weight: 600;\n    color: ${props => props.theme.textFaded};\n  }\n  .allowed-sub{\n    font-size: 12px;\n  }\n`\nfunction DeleteButton(props) {\n  return (\n    <DeleteButtonView\n      className=\"delete-button\"\n      onClick={(e) => props.action(e, props.index)}\n    >\n      <i className=\"fas fa-times block\"></i>\n    </DeleteButtonView>\n  )\n}\nconst DeleteButtonView = styled.button`\n  border-radius: 8px;\n  position: absolute;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  padding: 12px;\n  top: -10px;\n  z-index: 99;\n  right: -10px;\n  border: ${(props) => `1px solid ${props.theme.border}`};\n  background: ${(props) => props.theme.background_1};\n`\nfunction InfoZone(props) {\n  return (\n    <InfoView>\n      <InputSection title={\"Title\"}>\n        <InputWrap\n          onChange={props.setTitle}\n          value={props.title_value}\n          placeholder={\"Add a title\"}\n          type=\"text\"\n          id=\"title\"\n        />\n      </InputSection>\n      <InputSection title={\"Tags\"}>\n        <InputWrap\n          addTag={props.addTag}\n          tags={props.tags}\n          removeTag={props.removeTag}\n          deleteTag={props.deleteTag}\n          onChange={props.setTagString}\n          value={props.tagString}\n          type=\"text\"\n          id=\"tags\"\n        />\n        <div id=\"suggest-tags\" className=\"mt-6\">\n          <h3 className=\"font-bold small-header text-sm opacity-50\">\n            Suggestions\n          </h3>\n          <ul className=\"flex flex-row flex-wrap\">\n            <TagSuggestion onClick={(e) => props.tagLink(\"meme\")}>\n              meme\n            </TagSuggestion>\n            <TagSuggestion onClick={(e) => props.tagLink(\"movies\")}>\n              movies\n            </TagSuggestion>\n            <TagSuggestion onClick={(e) => props.tagLink(\"funny\")}>\n              funny\n            </TagSuggestion>\n            <TagSuggestion onClick={(e) => props.tagLink(\"sports\")}>\n              sports\n            </TagSuggestion>\n          </ul>\n        </div>\n      </InputSection>\n      <InputSection title={\"Description\"}>\n        <DescriptionInput\n          value={props.description}\n          placeholder={\"Optional\"}\n          onChange={(e) => props.setDescription(e.target.value)}\n        ></DescriptionInput>\n      </InputSection>\n    </InfoView>\n  )\n}\nconst TagSuggestion = styled.button`\n  color: ${(props) => props.theme.success};\n  margin-right: 8px;\n`\nconst DescriptionInput = styled.textarea`\n  background: ${(props) => props.theme.background_3};\n  border-radius: 8px;\n  width: 100%;\n  padding: 8px;\n  min-height: 120px;\n  :focus,\n  :active {\n    outline: none;\n  }\n`\nfunction InputWrap(props) {\n  return (\n    <InputView >\n      {props.tags &&\n        props.tags.map((tag) => {\n          return (\n            <Tag onClick={(e) => props.removeTag(tag)}>\n              <div className=\"absolute flex cursor-pointer flex-col items-center justify-center overflow-hidden delete-overlay top-0 left-0 right-0 bottom-0\">\n                <i className=\"fas fa-times block\"></i>\n              </div>\n              {tag}\n            </Tag>\n          )\n        })}\n      <input\n        className=\"inline input\"\n        onChange={(e) => props.onChange(e.target.value)}\n        onKeyDown={(e) => (props.addTag ? props.addTag(e) : () => {})}\n        value={props.value}\n        placeholder={props.placeholder}\n        type=\"text\"\n      />\n    </InputView>\n  )\n}\nconst Tag = styled.div`\n  .delete-overlay {\n    opacity: 0;\n    background: ${(props) => props.theme.warning};\n  }\n  background: ${(props) => props.theme.background_colored_2};\n  border-radius: 3px;\n  margin-right: 4px;\n  position: relative;\n  display: inline;\n  padding: 4px 8px;\n  color: white;\n  :hover {\n    .delete-overlay {\n      opacity: 1;\n    }\n  }\n`\nconst InputView = styled.div`\n  /* max-width: 250px; */\n  cursor: text;\n  padding: 8px 12px;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  flex-direction: row;\n  border-radius: 8px;\n  min-height: 48px;\n\n  width: 100%;\n  background: ${(props) => props.theme.background_3};\n  input {\n    margin-left: 8px;\n    background: transparent;\n    outline: none;\n    width: 100%;\n    ::active,\n    :focus {\n      outline: none;\n    }\n  }\n`\nfunction InputSection(props) {\n  return (\n    <fieldset className=\"py-3\">\n      <div className=\"font-bold mb-2\">{props.title}</div>\n      {props.children}\n    </fieldset>\n  )\n}\nconst InfoView = styled.div`\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  width: 100%;\n  @media(min-width: 600px){\n    width: 340px;\n\n  }\n`\nfunction FixedFooter(props) {\n  const history = useHistory()\n  function goBack() {\n    history.goBack()\n    props.cancelUpload()\n  }\n  return (\n    <FooterView>\n      <FooterControl className=\"justify-start\">\n        <CancelButton onClick={(e) => goBack(e)} className=\"flex relative\">\n          Cancel\n        </CancelButton>\n      </FooterControl>\n      <div className=\"flex-1 hidden sm:flex flex-row  items-center justify-center\">\n        <div className=\"text-sm\">\n          Beam me up, Scotty!\n          <i className=\"fas fa-user-astronaut colored fa-lg ml-4\"></i>\n        </div>\n      </div>\n      <FooterControl className=\"justify-end\">\n        <PostButton\n          onClick={(e) => props.startUpload()}\n          disabled={!props.valid}\n          className=\"flex relative\"\n        >\n          Submit to Imgbeam\n        </PostButton>\n      </FooterControl>\n    </FooterView>\n  )\n}\nconst FooterView = styled.footer`\n  position: fixed;\n  padding: 0 24px;\n  bottom: 0;\n  display: flex;\n  flex-direction: row;\n  justify-items: center;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  z-index: 99;\n  height: 64px;\n  background: ${(props) => props.theme.background_1};\n  border-top: ${(props) => `1px solid ${props.theme.border}`};\n  .colored {\n    color: ${(props) => props.theme.success};\n  }\n`\nconst FooterControl = styled.div`\n  width: 250px;\n  display: flex;\n  position: relative;\n  align-items: center;\n`\nconst CancelButton = styled.button`\n  border: ${(props) => `1px solid ${props.theme.border}`};\n  border-radius: 8px;\n  padding: 8px 14px;\n  font-size: 14px;\n  font-weight: bold;\n`\nconst PostButton = styled.button`\n  font-size: 14px;\n  background: ${(props) => props.theme.success};\n  color: white;\n  opacity: ${(props) => (props.disabled ? 0.4 : 1)};\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\n\n  font-weight: bold;\n  padding: 8px 14px;\n  border-radius: 8px;\n`\nfunction mapStateToProps(state) {\n  return {\n    uploading: state.transfer_reducer.uploading,\n    filesToDo: state.transfer_reducer.filesToDo,\n    title: state.transfer_reducer.title,\n    description: state.transfer_reducer.description,\n  }\n}\nconst mapDispatchToProps = {\n  startUpload,\n  addFile,\n  setFiles,\n  setTags,\n  removeFile,\n  setTitle,\n  cancelUpload,\n  resetTransferState,\n  setDescription,\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(NewPostView)\nconst enter = keyframes`\n  from{\n    opacity:0;\n    transform: translateY(-50px);\n  }\n  to{\n    opacity:1;\n    transform: translateY(0px);\n  }\n`\nconst Banner = styled.div`\n  padding: 16px 0;\n  background: ${(props) => props.theme.background_colored};\n  font-weight: 700;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  flex-direction: row;\n  color: white;\n  .title {\n    opacity: 0;\n    line-height: 1;\n    animation: ${enter} 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6) forwards;\n    animation-delay: 0.2s;\n    font-size: 24px;\n  }\n  .subtitle {\n    opacity: 0;\n    animation: ${enter} 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6) forwards;\n    animation-delay: 0.4s;\n    font-size: 22px;\n    color: ${(props) => props.theme.textFaded};\n  }\n`\nconst View = styled.div`\n  z-index: 9999;\n  max-width: 100vw;\n  box-sizing: border-box;\n  /* opacity: 0; */\n  overflow-y: hidden;\n  padding-bottom: 64px;\n  position: absolute;\n  width: 100vw;\n  /* height: 100vh; */\n  display: flex;\n  flex-direction: column;\n  top:0;\n  background: ${props => props.theme.background_1};\n  /* animation: ${enter} 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6) forwards; */\n  /* margin-top: ${(props) => props.theme.navbar_height}; */\n`\n","export default __webpack_public_path__ + \"static/media/spaceship.a3fc49c0.png\";","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styled, { keyframes } from \"styled-components\"\nimport { connect } from \"react-redux\"\nimport spaceship from \"../spaceship.png\"\nimport { toggleSignUpOverlay } from \"../state/store/actions/index\"\nfunction SignUpOverlay(props) {\n  return (\n    <div\n      className=\"fixed px-6 pt-24 top-0 left-0 right-0 bottom-0 text-sm flex flex-col items-center\"\n      style={{\n        zIndex: 1000,\n      }}\n    >\n      <div\n        onClick={(e) => props.toggleSignUpOverlay()}\n        className=\"overlay fixed top-0 left-0 bottom-0 right-0 w-screen h-screen z-10\"\n        style={\n          {\n            // background: 'rgba(0,0,0,.6)'\n          }\n        }\n      ></div>\n      <Panel className=\"z-20 relative flex flex-col\" style={{}}>\n        <header className=\"w-full header\">\n          <div>\n            {/* <img\n              src={imgbeam_logo}\n              alt=\"\"\n              srcset=\"\"\n              style={{\n                height: \"48px\",\n              }}\n            /> */}\n            <div className=\"mt-2 font-extrabold title\">\n              Beam me up!\n            </div>\n            <div className=\"description mt-2 leading-5\">\n              Sign in or sign up to vote or favorite posts.\n            </div>\n          </div>\n          \n          <div className=\"mt-4\">\n          <a\n              className=\"inline-block sign-up-link font-bold\"\n              href={`/signup?redirect=${window.location.pathname}`}\n            >\n              Sign Up\n            </a>\n            <a\n              className=\"inline-block font-bold ml-6\"\n              href={`/login?redirect=${window.location.pathname}`}\n            >\n              Sign In\n            </a>\n          </div>\n        </header>\n      </Panel>\n    </div>\n  )\n}\nconst enter = keyframes`\n  from{\n    opacity:0;\n    transform: translateY(60px);\n  }\n  to{\n    opacity:1;\n    transform: translateY(0px);\n  }\n`\nconst Panel = styled.div`\n  opacity: 0;\n  animation: ${enter} 0.2s linear forwards;\n  border-radius: 8px;\n  background: ${(props) =>\n    `linear-gradient(to top right, ${props.theme.success}, ${props.theme.secondary})`};\n  text-align: left;\n  width: 100%;\n  margin: 64px 32px;\n  box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.6);\n  color: white;\n\n  overflow: hidden;\n  .warning {\n    border: ${(props) => `2px solid ${props.theme.warning}`};\n    color: ${(props) => props.theme.warning};\n    border-radius: 8px;\n    padding: 3px 8px;\n  }\n  .sign-up-link{\n    border-radius: 8px;\n    box-shadow: 4px 4px 6px rgba(0,0,0,.6);\n    background: ${props => `linear-gradient(to top right, ${props.theme.tertiary}, ${props.theme.success})`};\n    padding: 10px 16px;\n  }\n  header {\n    padding: 32px 50% 32px 48px;\n    background: url(${spaceship});\n    background-position: 80% -200%;\n    background-size: 30%;\n    background-repeat: no-repeat;\n    line-height: 1;\n    /* background-color: ${(props) => props.theme.background_4}; */\n    .title{\n    font-size: 22px;\n\n    }\n  }\n  @media (min-width: 800px) {\n    width: 520px;\n    margin: 64px auto 0 auto;\n  }\n`\nfunction mapStateToProps(state) {\n  return {\n    signUpOverlay: state.app_state_reducer,\n  }\n}\nconst mapDispatchToProps = {\n  toggleSignUpOverlay,\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpOverlay)\n","import React from 'react'\nimport qr from '../../../imgbeam_btc_address.png'\nimport styled from 'styled-components'\nimport icon from '../../../triangle_icon.png'\nexport default function DonateView() {\n    return (\n        <View id=\"donate-view\">\n            <div className=\"flex flex-col items-center justify-center\">\n                {/* <div className=\"logo-wrap mb-16\">\n                    <div className=\"absolute\">\n                        imgbeam\n                    </div>\n                    <img src={icon} alt=\"\" style={{\n                        width: '240px'\n                    }} />\n                </div> */}\n              <div className=\"headline\">What to help support this site?</div>\n              <div className=\"subheadline\">Bitcoin helps use keep the servers running.</div>\n              <div className=\"image-wrap mt-12 flex flex-col items-center \">\n                <div className=\"text-xs font-semibold mb-6\">Send a few Satoshis our way.</div>\n                <img src={qr} alt=\"\" style={{\n                  width: '120px'\n                }} />\n              </div>\n            </div>\n        </View>\n    )\n}\nconst View = styled.div`\n    margin-top: ${props => props.theme.navbar_height};\n    padding-top: 64px;\n    color: ${props => props.theme.text};\n    .headline{\n        font-size: 32px;\n        font-weight: 900;\n    }\n    .subheadline{\n        font-size: 14px;\n        font-weight: bold;\n\n    }\n`","import React from 'react'\nimport {connect} from 'react-redux'\nimport colors from '../theme/colors'\nfunction TransferIndicator(props) {\n    let width = (((props.filesComplete.length / (props.filesToDo.length + props.filesComplete.length)) * 100).toFixed(0) || 0) + 20\n    if(props.filesComplete.length == 0 && props.filesToDo.length == 0){\n        width = 100\n    }\n    return (\n        <div id=\"transfer-indicator\" className=\"fixed bottom-0 left-0 right-0 flex flex-row justify-start\" style={{\n            height: '5px',\n            zIndex: 10000,\n            background: 'black',\n            transitionDelay: '.3s',\n            transition: 'all .5s linear',\n            opacity: `${props.uploading ? 1: 0 }`\n        }}>\n            <div className=\"h-full  relative\" style={{\n                transition: `all .6s linear`,\n                background: `${colors.success}`,\n                width: `${width}%`\n            }}>\n            \n            </div>\n        </div>\n    )\n}\nfunction mapStateToProps(state){\n    return{\n        uploading: state.transfer_reducer.uploading,\n        currentFile: state.transfer_reducer.currentFile,\n        filesToDo: state.transfer_reducer.filesToDo,\n        filesComplete: state.transfer_reducer.filesComplete\n    }\n}\nexport default connect(mapStateToProps)(TransferIndicator)","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport styled from \"styled-components\"\nimport colors from \"../theme/colors\"\nfunction TransferToast(props) {\n  return (\n    <ToastElement\n      id=\"transfer-status\"\n      uploading={props.uploading}\n      className=\"fixed left-0 mb-4 ml-8  text-sm font-bold flex flex-col items-center justify-center py-5\"\n      style={{\n        width: \"260px\",\n        marginLeft: `${props.sidebar ? \"260px\" : 0}`,\n        zIndex: 9999,\n        display: `${props.transferring ? \"block\" : \"none\"}`,\n      }}\n    >\n      {/* Transferring {props.filesComplete.length + 1} / {props.filesToDo.length + props.filesComplete.length} files. */}\n      Uploading {props.filesToDo.length + props.filesComplete.length} files\n    </ToastElement>\n  )\n}\nfunction mapStateToProps(state) {\n  return {\n    uploading: state.transfer_reducer.uploading,\n    currentFile: state.transfer_reducer.currentFile,\n    filesToDo: state.transfer_reducer.filesToDo,\n    filesComplete: state.transfer_reducer.filesComplete,\n    transferring: state.transfer_reducer.uploading,\n    sidebar: state.app_state_reducer.sidebar,\n  }\n}\nexport default connect(mapStateToProps)(TransferToast)\n\nconst ToastElement = styled.div`\n  transition: all 0.2s cubic-bezier(0.68, -0.6, 0.32, 1.6);\n\n  bottom: 0;\n  bottom: ${(props) => (props.uploading ? 0 : \"-160px\")};\n  background-color: ${props => props.theme.background_2};\n`\nfunction CompleteJob() {\n  return <div></div>\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport styled, { keyframes } from \"styled-components\"\nimport { useHistory } from \"react-router-dom\"\nimport colors from \"../theme/colors\"\nimport { clearJob } from \"../state/store/actions/index\"\nfunction CompletedJobs(props) {\n  console.log(props)\n  return (\n    <Root\n      id=\"completed-jobs\"\n      style={{\n        pointerEvents: \"none\",\n        marginLeft: `${props.sidebar ? 260 : 0}px`,\n      }}\n    >\n      {props.completedJobs.map((jobObj) => {\n        return (\n          <CompleteJob\n            key={`complete-transfer-${jobObj.gallery_id}`}\n            job={jobObj}\n            clearJob={props.clearJob}\n          ></CompleteJob>\n        )\n      })}\n    </Root>\n  )\n}\nfunction mapStateToProps(state) {\n  console.log(state)\n  return {\n    completedJobs: state.transfer_reducer.completedJobs,\n    sidebar: state.app_state_reducer.sidebar,\n  }\n}\nfunction CompleteJob(props) {\n  const history = useHistory()\n\n  return (\n    <JobRoot className=\"flex flex-row items-center\">\n      <div\n        className=\"h-12 w-1 mr-3\"\n        style={{\n          background: `${colors.success}`,\n        }}\n      ></div>\n      <div>\n        <i\n          className=\"fas fa-check-circle mr-3 fa-lg\"\n          style={{\n            color: `${colors.success}`,\n          }}\n        ></i>\n      </div>\n      <div className=\"text-left\">\n        <div className=\"font-bold text-sm\">Post successful!</div>\n      </div>\n      <div\n      className=\"flex flex-row\"\n        style={{\n          marginLeft: \"auto\",\n        }}\n      >\n        <div className=\"mr-2\">\n          <ActionButton\n            string={\"View\"}\n            action={(e) => {\n              props.clearJob(props.job.gallery_id)\n              history.push(`/beam/${props.job.gallery_id}`)\n            }}\n          ></ActionButton>\n        </div>\n\n        <div className=\"toast-close\" style={{}}>\n          <ActionButton\n            icon={\"fa-times\"}\n            action={(e) => props.clearJob(props.job.gallery_id)}\n          ></ActionButton>\n        </div>\n      </div>\n    </JobRoot>\n  )\n}\nfunction ActionButton(props) {\n  return (\n    <ButtonView onClick={props.action}>\n      {props.icon && <i className={`fas ${props.icon} icon`}></i>}\n      {props.string && <div className=\"string\">{props.string}</div>}\n    </ButtonView>\n  )\n}\nconst ButtonView = styled.button`\nfont-size: 12px;\nfont-weight: 600;\n  background: ${(props) => props.theme.background_1};\n  border: ${(props) => `1px solid ${props.theme.border}`};\n  border-radius: 8px;\n  padding: 6px 14px;\n`\nconst mapDispatchToProps = {\n  clearJob,\n}\n\nconst enter = keyframes`\n    from{\n        transform: translateY(200px);\n    }\n    to{\n        transform: translateY(0px);\n\n    }\n`\nconst Root = styled.div`\n  position: fixed;\n  bottom: 10px;\n  display: flex;\n  color: white;\n  flex-direction: row;\n  left: 0;\n  right: 0;\n  z-index: 9999;\n`\nconst JobRoot = styled.div`\n  margin-right: 16px;\n  position: relative;\n  width: 280px;\n  pointer-events: auto;\n  color: ${(props) => props.theme.text};\n  background: ${(props) => props.theme.background_1};\n  border-radius: 8px;\n  padding: 6px;\n  border: ${(props) => `1px solid ${(props) => props.theme.border}`};\n  box-shadow: 3px 3px 18px rgba(0, 0, 0, 0.2);\n  animation: ${enter} 0.3s cubic-bezier(0.68, -0.6, 0.32, 1.6) forwards;\n`\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CompletedJobs)\n","import React, { useState, useEffect, useLayoutEffect } from \"react\"\nimport \"./css/main.css\"\nimport \"animate.css\"\nimport FocusView from \"./components/pages/gallery_page/ImageFocus\"\nimport Navbar from \"./components/navbar/Navbar\"\nimport { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\"\nimport PageRouter from \"./components/PageRouter\"\nimport LoginOverlay from \"./components/login_overlay/LoginOverlay\"\nimport styled from \"styled-components\"\nimport { ThemeProvider } from \"styled-components\"\nimport theme from \"./theme/theme\"\nimport SettingsView from \"./components/SettingsView\"\nimport { connect } from \"react-redux\"\nimport GalleryPage from \"./components/pages/gallery_page/GalleryPage\"\nimport NewPostView from './components/new_post/NewPostView'\nimport SignUpOverlay from './components/SignUpOverlay'\nimport Donate from './components/pages/donate_page/DonateView'\nimport {\n  signIn,\n  toggleSidebar,\n  signOut,\n  setNotifications,\n  setAccount,\n  setCheckedIn,\n  toggleTheme,\n  toggleSignUpOverlay\n} from \"./state/store/actions/index\"\nimport TransferIndicator from \"./components/TransferIndicator\"\nimport TransferToast from \"./components/TransferToast\"\nimport CompletedJobs from \"./components/CompletedJobs\"\nimport { throttle } from \"lodash\"\nfunction App(props) {\n  // session state\n  const [loginOverlay, toggleLoginOverlay] = useState(false)\n  const [appMenu, toggleAppMenu] = useState(false)\n  const throttledResize = throttle(resizer, 100)\n  function resizer(){\n    console.log('resize')\n    if(window.innerWidth < 600){\n      props.toggleSidebar(false)\n    }\n  }\n  // interval polling\n  useEffect(() => {\n    checkLoggedIn()\n    getAccount()\n    getNotifications()\n    // window.addEventListener('resize', throttledResize)\n    return function cleanup() {\n      // window.removeEventListener('resize', throttledResize)\n    }\n  }, [])\n\n \n\n  // poll server to update client state of loggedin\n  async function checkLoggedIn() {\n    try {\n      let res = await fetch(\"/api/loggedin\")\n      if (res.status === 200) {\n        props.signIn()\n      }\n      if (res.status === 401) {\n        props.signOut()\n      }\n      props.setCheckedIn(true)\n    } catch (err) {\n      // console.log(err)\n    }\n  }\n  async function getAccount() {\n    try {\n      let res = await fetch(\"/api/account\", {\n        credentials: \"include\",\n      })\n      let json = await res.json()\n      console.log(json)\n      console.log(props)\n      props.setAccount(json)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  // notifications\n  async function getNotifications() {\n    try {\n      let res = await fetch(`/api/notifications/get/all`, {\n        credentials: \"include\",\n      })\n      console.log('getting notifications')\n      if (res.ok) {\n        let json = await res.json()\n        console.log(json)\n        props.setNotifications(json)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  // setup theme\n\n  let themeObject = theme[props.theme]\n  console.log(themeObject)\n  return (\n    <ThemeProvider theme={themeObject}>\n      <AppElement\n        scroll={loginOverlay}\n        className=\"min-h-screen text-center relative\"\n        style={\n          {\n            // background: 'rgba(30,30,30,1)'\n          }\n        }\n      >\n        {/* overlays */}\n        {loginOverlay && (\n          <LoginOverlay close={toggleLoginOverlay}></LoginOverlay>\n        )}\n        <Router\n          style={{\n            position: \"relative\",\n          }}\n        >\n          {/* Navbars */}\n          <Navbar\n            appMenu={appMenu}\n            toggleAppMenu={toggleAppMenu}\n            account={props.account}\n          ></Navbar>\n\n          {/* panels */}\n          {/* <SideBar></SideBar> */}\n          {/* <CreatePanel></CreatePanel> */}\n\n          {/* Image Focus */}\n          {props.focus && <FocusView></FocusView>}\n\n          <Switch>\n            <Route\n              path=\"/settings\"\n              render={() => <SettingsView></SettingsView>}\n            ></Route>\n            {/* Router */}\n            <Route\n              exact\n              path=\"/beam/:gallery_id\"\n              render={(routerProps) => (\n                <GalleryPage\n                  signedIn={props.signedIn}\n                  toggleLoginOverlay={props.toggleLoginOverlay}\n                  key={routerProps.match.params.gallery_id}\n                  {...routerProps}\n                ></GalleryPage>\n              )}\n            ></Route>\n            <Route path=\"/new\" render={()=><NewPostView></NewPostView>}></Route>\n            <Route\n              path=\"/donate\"\n              render={() => (\n                <Donate\n                ></Donate>\n              )}\n            ></Route>\n            <Route\n              path=\"/\"\n              render={() => (\n                <PageRouter\n                  account={props.account}\n                  toggleLoginOverlay={toggleLoginOverlay}\n                ></PageRouter>\n              )}\n            ></Route>\n           \n          </Switch>\n\n          {/* file transfer indications */}\n          <TransferIndicator></TransferIndicator>\n          <TransferToast></TransferToast>\n          <CompletedJobs></CompletedJobs>\n          {/* Popups */}\n          {\n            props.signUpOverlay &&\n          <SignUpOverlay></SignUpOverlay>\n\n          }\n        </Router>\n      </AppElement>\n    </ThemeProvider>\n  )\n}\nconst AppElement = styled.div`\n  color: ${(props) => props.theme.text};\n  background-color: ${(props) => props.theme.background_1};\n`\n\nfunction mapStateToProps(state) {\n  return {\n    createMenu: state.app_state_reducer.createMenu,\n    sidebar: state.app_state_reducer.sidebar,\n    account: state.account_reducer.account,\n    signedIn: state.app_state_reducer.signedIn,\n    uploading: state.transfer_reducer.uploading,\n    focus: state.app_state_reducer.focusView,\n    focusPath: state.app_state_reducer.focusPath,\n    theme: state.app_state_reducer.theme,\n    signUpOverlay: state.app_state_reducer.signUpOverlay\n  }\n}\nconst mapDispatchToProps = {\n  signIn,\n  signOut,\n  setAccount,\n  setCheckedIn,\n  toggleTheme,\n  toggleSidebar,\n  toggleSignUpOverlay,\n  setNotifications\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","const initialState = {\n    account: {\n\n    },\n    notifications: [],\n    follows: []\n}\nexport default function account_reducer(state = initialState, action){\n    switch(action.type){\n        case \"SET_ACCOUNT\":\n            return {...state, account: action.payload}\n        case \"SET_NOTIFICATIONS\":\n            return {...state, notifications: action.payload}\n        case \"CLEAR_ALL_NOTIFICATIONS\":\n            return {...state, notifications: []}\n        case \"CLEAR_NOTIFICATION\":\n            let new_notification_array = state.notifications\n            // clear specific notification via ID\n\n            return {...state, notifications: new_notification_array}\n        default:\n            return state\n    }\n}","const initialState = {\n  createPanel: false,\n  sidebar: false,\n  signedIn: false,\n  checkedIn: false,\n  focusView: false,\n  focusPath: \"\",\n  focusGallery: \"\",\n  theme: \"theme_dark\",\n  navbar: true,\n  signUpOverlay: false,\n  search: \"\",\n  notifications: []\n}\nexport default function app_state_reducer(state = initialState, action) {\n  switch (action.type) {\n    case \"SET_SEARCH\":\n      return {...state, search: action.payload}\n    case \"SET_NOTIFICATIONS\":\n      return {...state, notifications: action.payload}\n    case \"SET_CHECKED_IN\":\n      return {...state, checkedIn: true}\n    case \"TOGGLE_CREATE\":\n      return { ...state, createPanel: !state.createPanel }\n    case \"TOGGLE_SIDEBAR\":\n      console.log(action.payload)\n      if(typeof action.payload == 'boolean') return {...state, sidebar: action.payload}\n      return { ...state, sidebar: !state.sidebar }\n    case \"SIGN_IN\":\n      return { ...state, signedIn: true }\n    case \"SIGN_OUT\":\n      return { ...state, signedIn: false }\n    case \"TOGGLE_FOCUS_VIEW\":\n      return { ...state, focusView: !state.focusView }\n    case \"TOGGLE_SIGN_UP_OVERLAY\":\n      return {...state, signUpOverlay: !state.signUpOverlay}\n    case \"SET_FOCUS_PATH\":\n      return {\n        ...state,\n        focusPath: action.payload.focusPath,\n        focusGallery: action.payload.focusGallery,\n      }\n    case \"TOGGLE_THEME\":\n      console.log('toggling theme')\n      if(action.payload)  {\n        localStorage.setItem('theme', action.payload)\n        return{...state, theme: action.payload}\n      }\n       // if defined in payload from local storage\n      if(state.theme === \"theme_dark\"){\n        localStorage.setItem('theme', \"theme_light\")\n        return {...state, theme: \"theme_light\"} // normal toggle\n      } \n      localStorage.setItem('theme', \"theme_dark\")\n      return {...state, theme: \"theme_dark\"}\n    case \"TOGGLE_NAVBAR\":\n      return {...state, navbar: !state.navbar}\n    default:\n      return state\n  }\n}\n","import { v4 as uuid } from \"uuid\"\nconst initialState = {\n  uploading: false,\n  filesToDo: [],\n  filesComplete: [],\n  currentFile: 0,\n  completedJobs: [],\n  title: \"\",\n  tags: [],\n  description: \"\"\n}\nexport default function transfer_reducer(state = initialState, action) {\n  switch (action.type) {\n    case \"SET_DESCRIPTION\":\n      return {...state, description: action.payload}\n    case \"RESET_TRANSFER_STATE\":\n      console.log(\"resetting transfer state\")\n      return { ...initialState }\n\n    case \"SET_TITLE\":\n      return {...state, title: action.payload}\n    case \"COMPLETE_UPLOAD\":\n      // add complete job object to state\n      console.log(action.payload)\n      console.log('trying to build completed jobs array')\n      let complete_job = {gallery_id: action.payload, filesUploaded: [...state.filesComplete]}\n      let completed_jobs_array = [...state.completedJobs, complete_job]\n      \n      return {...initialState,  completedJobs: completed_jobs_array}\n\n    case \"FILE_FAILURE\":\n      let id_of_failure = action.payload\n      let file = returnFileFromId(id_of_failure, state.filesToDo)\n      let index_of_failure = getIndex(id_of_failure, [...state.filesToDo])\n      if (file.attempts > 0) {\n        console.log(\"retrying file \" + id_of_failure)\n        file.attempts = file.attempts - 1\n        let updated_array = decrement_file_attempts(index_of_failure, [\n          ...state.filesToDo,\n        ])\n        return { ...state, filesToDo: updated_array }\n      } else {\n        console.log(\"ran out of atttempts for file \" + id_of_failure)\n        // remove file\n        let newFilesToDo = returnArrayWithFileRemoved(\n          id_of_failure,\n          state.filesToDo\n        )\n        return { ...state, filesToDo: newFilesToDo }\n      }\n\n    case \"START_UPLOAD\":\n      console.log(\"Upload state set to true\")\n      return { ...state, uploading: true}\n\n    case \"ADD_FILE\":\n      let processed_file = processFile(action.payload)\n      return { ...state, filesToDo: [...state.filesToDo, processed_file]}\n    case \"REMOVE_FILE\":\n      let files_array_for_removal = [...state.filesToDo]\n      let array_with_removed = returnArrayWithFileRemoved(action.payload, files_array_for_removal)\n      return {...state, filesToDo: array_with_removed}\n    case \"NEXT_FILE\":\n      if (state.currentFile < state.filesToDo.length - 1) {\n        return { ...state, currentFile: state.currentFile + 1 }\n      }\n      break\n    case \"SET_TAGS\":\n      return {...state, tags: action.payload}\n    case \"CLEAR_FILE\":\n      let id_to_clear = action.payload\n      let new_file_array = [...state.filesToDo]\n      let deleted = returnFileFromId(id_to_clear, new_file_array)\n      let array_to_return = returnArrayWithFileRemoved(id_to_clear, new_file_array)\n      return {\n        ...state,\n        filesToDo: array_to_return,\n        filesComplete: [...state.filesComplete, deleted],\n      }\n    case \"CANCEL_UPLOAD\":\n      return { ...initialState }\n    case \"CLEAR_JOB\":\n      console.log('clear job')\n      return {...state, completedJobs: [...clearJob(action.payload, state.completedJobs)]}\n    default:\n      return state\n  }\n}\n\nfunction returnFileFromId(file_id, array) {\n  let file_id_array = array.map((file_object) => {\n    return file_object.file_id\n  })\n  let index = file_id_array.indexOf(file_id)\n  return array[index]\n}\nfunction returnArrayWithFileRemoved(id_of_failure, filesToDo) {\n  let array = [...filesToDo]\n  let index = getIndex(id_of_failure, filesToDo)\n  array.splice(index, 1)\n  return array\n}\nfunction getIndex(id, filesToDo) {\n  let array = [...filesToDo]\n  let file_id_array = array.map((file_object) => {\n    return file_object.file_id\n  })\n  return file_id_array.indexOf(id)\n}\nfunction decrement_file_attempts(index, array) {\n  let file = array[index]\n  file.attempts = file.attempts - 1\n  array[index] = file\n  return array\n}\n\nfunction processFile(file) {\n  file.id = uuid()\n  file.attempts = 3\n  return file\n}\n\nfunction clearJob(gallery_id, array){\n  let id_array = array.map((job)=>{\n    return job.gallery_id\n  })\n  let index = id_array.indexOf(gallery_id)\n  array.splice(index, 1)\n  return [...array]\n}\nclass CompletedJob{\n  constructor(gallery_id){\n    this.gallery_id = gallery_id\n  }\n}","import { combineReducers } from \"redux\";\nimport account_reducer from \"./account_reducer\";\nimport app_state_reducer from \"./app_state_reducer\";\nimport transfer_reducer from './transfer_reducer'\nexport default combineReducers({ account_reducer, app_state_reducer, transfer_reducer });\n","import {\n  setFiles,\n  clearFileFromState,\n  fileFailure,\n  cancelUpload,\n  toggleCreatePanel,\n  completeUpload\n} from \"../state/store/actions/index\"\nimport watch from \"redux-watch\"\nimport store from \"../state/store/store\"\n// import store from \"../state/store/store\"\nexport default class UploadManager {\n  constructor(){\n    this.store = null\n  }\n  setWatcher(store){\n    this.store = store\n    let watcher = watch(store.getState, \"transfer_reducer.uploading\")\n    store.subscribe(\n      watcher((newVal, oldVal, objectPath) => {\n        console.log(\"%s changed from %s to %s\", objectPath, oldVal, newVal)\n        // watches for uploading getting set to true, being transfers here\n        if(newVal){\n            this.startJob(store)\n        }\n        // cancel job if cahnges to uploading: false\n        if(!newVal){\n            this.cancelJob()\n\n        }\n\n      })\n    )\n  }\n\n  cancelJob(){\n    // this returns transfer state to initialState\n    this.job = null\n  }\n  startJob(store){\n    this.job = new Job(null, store)\n  }\n}\n\n// state store informs the upload manager above when state changes to initiate aan upload.  It instantiates and stores a Job object from below, which manages the transfer and updating the stores state to stay in sync.  When it has no files left, it will update the store that uploading is complete (uploading value set to false).  The watcher in the Manager object will see this and clear out the job.\nclass Job {\n  constructor(gallery_id = null, store) {\n    console.log('initiating upload job')\n    this.title = store.getState().transfer_reducer.title\n    this.description = store.getState().transfer_reducer.description\n\n    console.log('transfer title is ' + this.title)\n    this.gallery_id = gallery_id\n    this.files = []\n    this.start()\n  }\n  start() {\n    if (this.gallery_id == null) {\n      console.log('starting job at create step')\n      this.createNewPost()\n    } else {\n      console.log('starting job at append step')\n      this.goToNextStep()\n    }\n  }\n  getNextFile(){\n    let state = store.getState()\n    let file = state.transfer_reducer.filesToDo[0]\n    console.log(state)\n    return file\n  }\n  getTags(){\n    let state = store.getState()\n    let tags = state.transfer_reducer.tags\n    return tags\n  }\n  async createNewPost() {\n    console.log('creating new post')\n    let file = this.getNextFile()\n    let tags = this.getTags()\n    // transfer started, close create menu\n    store.dispatch(toggleCreatePanel())\n    try {\n      let data = new FormData()\n      data.set(\"title\", this.title)\n      data.set(\"file\", file)\n      data.set(\"tags\", JSON.stringify(tags))\n      data.set(\"description\", this.description)\n      let url = \"/api/upload/create\"\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"POST\",\n        body: data,\n      })\n\n      if (res.status === 200) {\n        console.log('post created')\n        let json = await res.json()\n        console.log('new gallery id ' + json.gallery_id)\n        this.gallery_id = json.gallery_id\n        this.goToNextStep(this.gallery_id)\n      }\n    } catch (err) {\n      console.log(err)\n      \n    }\n  }\n\n  // handle looping through files to update\n  async goToNextStep(last_file_id) {\n    // clear out last file\n    clearLastFile(last_file_id)\n\n    // first check if any left to do\n    let file = this.getNextFile()\n    if(file){\n      console.log(file)\n      await this.addMedia(file)\n      return\n    }\n    // end transfer if no more files\n    this.onComplete(this.gallery_id)\n    \n  }\n\n  // individual upload job\n  async addMedia(file) {\n    console.log('ADDING FILE')\n    console.log(file)\n    let data = new FormData()\n    data.append('file', file)\n    try {\n      let url = `/api/beam/edit/${this.gallery_id}/images/add`\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"POST\",\n        body: data,\n      })\n      if (res.status == 200) {\n        console.log('file upload success, now clearing')\n        console.log(file.id)\n        this.goToNextStep(file.id)\n      } \n    } catch (err) {\n      console.log(err)\n      fileFailure(file.id)\n    }\n  }\n\n  clearFile(file_id) {\n    clearFileFromState(file_id)\n  }\n\n  onComplete(gallery_id){\n    console.log('Transfer job complete')\n    // restore initial state here\n    store.dispatch(completeUpload(gallery_id))\n  }\n}\n\nclass File {\n  constructor(file, index) {\n    this.file = file\n    this.index = index\n    this.complete = false\n  }\n  getIndex() {\n    return this.index\n  }\n  isComplete() {\n    return this.complete\n  }\n}\n\nfunction clearLastFile(id){\n  store.dispatch(clearFileFromState())\n}","import {createStore} from 'redux'\nimport mainReducer from './reducers'\nimport Manager from '../../transfer/index'\nconst store =  createStore(mainReducer)\nconst manager = new Manager(store.getState)\nexport default store\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from './state/store/store'\nimport * as serviceWorker from './serviceWorker';\nimport Manager from './transfer/index'\nimport {toggleTheme} from './state/store/actions/index'\nimport {ThemeProvider} from 'styled-components'\nimport theme from './theme/theme'\nimport watch from 'redux-watch'\nclass GlobalSettings{\n\n}\n\nconst localStorage = window.localStorage\nlet themeString = localStorage.getItem(\"theme\")\nconsole.log(\"getting app state from storage\")\nif (themeString) {\n  store.dispatch(toggleTheme(themeString))\n} else {\n  // if no preference, set default local storage to light\n  localStorage.setItem(\"theme\", \"theme_light\")\n  store.dispatch(toggleTheme(\"theme_light\"))\n}\n\n\n// set upload manager watcher\nconst manager = new Manager()\nmanager.setWatcher(store)\n\n// render\nReactDOM.render(\n  <React.StrictMode>\n  <Provider store={store}>\n    <App />\n\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n","module.exports = {\n  theme_dark: {\n    success: \"#3498db\",\n    error: \"#e74c3c\",\n    secondary: \"#2ecc71\",\n    tertiary: \"#9b59b6\",\n    warning: \"#f1c40f\",\n    text: \"rgb(255,255,255)\",\n    text_light: \"rgb(200,200,200)\",\n    gradient_1: \"linear-gradient(to top right,#3498db22,#2ecc7122)\",\n    icons: \"rgba(240,240,240)\",\n    icons_2: \"rgba(210,210,210)\",\n    background_colored: \"#143c57\",\n        background_colored_2: \"#80a6bf\",\n    border: \"rgba(40,40,40)\",\n\n    textFaded: \"rgb(170,170,170)\",\n    background_1: \"rgb(20,20,20)\",\n    background_2: \"rgba(32,32,32)\",\n    background_5: \"rgba(38,38,38)\",\n    background_3: \"rgba(45,45,45)\",\n    background_4: \"rgba(66,66,66)\",\n    backgroundLight: \"rgba(90,90,90)\",\n    backgroundLightest: \"rgba(90,90,90, .3)\",\n    navbar_height: \"64px\",\n    animation_curve: \"cubic-bezier(0.68, -0.6, 0.32, 1.6)\",\n  },\n  theme_light: {\n    success: \"#3498db\",\n    error: \"#e74c3c\",\n    secondary: \"#2ecc71\",\n    tertiary: \"#9b59b6\",\n    warning: \"#f1c40f\",\n    text: \"rgb(0,0,0)\",\n    text_light: \"rgb(60,60,60)\",\n    gradient_1: \"linear-gradient(to top right,#3498db22,#2ecc7122)\",\n    icons: \"rgba(90,90,90)\",\n    icons_2: \"rgba(144,144,144)\",\n    background_colored: \"#143c57\",\n        background_colored_2: \"#80a6bf\",\n    border: \"rgba(230,230,230)\",\n    textFaded: \"rgb(170,170,170)\",\n    background_1: \"rgb(255,255,255)\",\n    background_2: \"rgba(248,248,248)\",\n    background_3: \"rgba(238,238,238)\",\n    background_4: \"rgba(210,210,210)\",\n    backgroundLight: \"rgba(90,90,90)\",\n    backgroundLightest: \"rgba(90,90,90, .3)\",\n    navbar_height: \"64px\",\n    animation_curve: \"cubic-bezier(0.68, -0.6, 0.32, 1.6)\",\n  },\n}\n"],"sourceRoot":""}