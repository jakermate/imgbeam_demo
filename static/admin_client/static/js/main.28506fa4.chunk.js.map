{"version":3,"sources":["DeleteConfirm.jsx","UserView.jsx","ReportView.jsx","App.js","reportWebVitals.js","index.js"],"names":["DeleteConfirm","props","className","onClick","e","cancel","style","width","confirmDelete","UserView","image_id","gallery_id","a","window","confirm","url","user","user_id","console","log","fetch","credentials","method","res","json","success","status","document","getElementById","innerHTML","username","moment","date_created","format","id","deleteRequest","banEmail","galleries","map","gallery","index","title","images","length","image","file_name","original_name","description","href","path_lq","target","media_type","src","alt","autoplay","muted","path","delete_image","delete_gallery","ReportView","useEffect","getReports","useState","reports","setReports","report_id","reportObj","reason","clearReport","LoginForm","action","type","name","value","Sidebar","mode","toggleContent","App","setUsername","setId","email","setEmail","searchMode","setSearchMode","loggedIn","setLoggedIn","titleSearch","setTitleSearch","setGalleries","preventDefault","setUser","findUserID","amILoggedIn","onbeforeunload","activeMode","setActiveMode","deleteOverlay","setDeleteOverlay","string","background","onSubmit","findUsername","htmlFor","onChange","findEmail","getUserID","findGallery","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.28506fa4.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function DeleteConfirm(props) {\n    return (\n        <div className=\"fixed top-0 left-0 w-full h-full flex flex-col justify-center items-center\">\n            <div onClick={e=>props.cancel} className=\"overlay z-10 fixed top-0 left-0 w-full h-full bg-black\"></div>\n            <div className=\"bg-gray-100 px-4 py-6 relative z-20 flex flex-col\" style={{\n                width:'300px'\n            }}>\n                <div className=\"text-2xl font-bold\">\n                Delete user?\n                </div> \n                <button onClick={e=>props.confirmDelete()} className=\"bg-red-600 px-4 py-2 mt-6\">\n                    DELETE\n                </button>\n                <button onClick={e=>props.cancel()} className=\"bg-gray-600 px-4 py-2 mt-6\">\n                    CANCEL\n                </button>\n            </div>\n        </div>\n    )\n}\n","import React, { useEffect, useState } from \"react\"\nimport moment from \"moment\"\n\nexport default function UserView(props) {\n  async function delete_image(image_id, gallery_id) {\n    let verify = window.confirm(\"Delete image\")\n    if (!verify) {\n      return\n    }\n    let url = `/admin/user/${props.user.user_id}/image/delete/${image_id}/${gallery_id}`\n    console.log(url)\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"delete\",\n      })\n      let json = await res.json()\n      console.log(json)\n      if (json.success) {\n        //   props.getUserID(props.user.user_id)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function delete_gallery(gallery_id) {\n    let verify = window.confirm(\"Delete gallery?\")\n    if (!verify) {\n      return\n    }\n    let url = `/admin/user/${props.user.user_id}/gallery/delete/${gallery_id}`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        method: \"delete\",\n      })\n      console.log(res.status)\n      if (res.status == 200) {\n        document.getElementById(\n          `user-gallery-${gallery_id}`\n        ).innerHTML = `${gallery_id} DELETED`\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  if (!props.user) {\n    return <div>No User</div>\n  } else\n    return (\n      <div className=\"px-4 py-6 bg-gray-300 text-left\">\n        <div>\n          <h2 className=\"text-xl font-bold\">\n            User: <span className=\"text-green-500\">{props.user.username}</span>\n          </h2>\n          <h4>\n            User ID: <em>{props.user.user_id}</em>\n          </h4>\n          <p>\n            User Since: {moment(props.user.date_created).format(\"MMM d yyyy\")}\n          </p>\n        </div>\n        <div\n          id=\"user-control\"\n          className=\"mt-6 px-12 py-6 test-white bg-gray-500\"\n        >\n          <button\n            onClick={(e) => props.deleteRequest()}\n            className=\"px-4 py-1 bg-purple-500 text-white\"\n          >\n            Delete User\n          </button>\n          <button onClick={(e) => props.banEmail()} className=\"ml-12\">\n            Ban User\n          </button>\n        </div>\n        <div id=\"user-galleries\">\n          {props.user.galleries.map((gallery, index) => {\n            return (\n              <div\n                id={`user-gallery-${gallery.gallery_id}`}\n                key={`user-gallery-${gallery.gallery_id}`}\n                className=\"mx-4 my-2 bg-gray-700 p-4 text-white\"\n              >\n                <h1>title: {gallery.title}</h1>\n                <h3>id: {gallery.gallery_id}</h3>\n                <p>items: {gallery.images.length}</p>\n                <div className=\"gallery-image-container flex flex-row flex-wrap my-4\">\n                  {gallery.images.map((image) => {\n                    return (\n                      <div className=\"mx-1 bg-gray-800 shadow-md p-3\">\n                        <div>\n                          <div className=\"mt-2\">\n                            filename: {image.file_name}\n                          </div>\n                          <div className=\"mt-2\">\n                            originalname: {image.original_name}\n                          </div>\n                          <div className=\"desc font-bold mt-3 mb-4 text-xs\">\n                            {image.description}\n                          </div>\n                        </div>\n                        {/* lq or thumbnail */}\n                        <a href={`${image.path_lq}`} className=\"py-1\"  target=\"_blank\">\n                          <span className=\"py-1 text-sm font-bold\">LQ Version</span>\n                          {image.media_type === \"image\" ? (\n                            <img width=\"200\" src={`${image.path_lq}`} alt=\"\" />\n                          ) : (\n                            <video\n                              width=\"200\"\n                              autoplay\n                              muted\n                              src={`${image.path_lq}`}\n                            ></video>\n                          )}\n                        </a>\n                        {/* full res */}\n                        <a href={`${image.path}`}  className=\"py-1\" target=\"_blank\">\n                        <span className=\"py-1 text-sm font-bold\">Full Quality Version</span>\n\n                          {image.media_type === \"image\" ? (\n                            <img width=\"200\" src={`${image.path}`} alt=\"\" />\n                          ) : (\n                            <video\n                              width=\"200\"\n                              autoplay\n                              muted\n                              src={`${image.path}`}\n                            ></video>\n                          )}\n                        </a>\n                        <div className=\"mt-1\">\n                          <button\n                            onClick={(e) =>\n                              delete_image(image.image_id, image.gallery_id)\n                            }\n                            className=\"px-3 py-1 bg-red-600\"\n                          >\n                            delete\n                          </button>\n                        </div>\n                      </div>\n                    )\n                  })}\n                </div>\n                <div className=\"gallery-controls\">\n                  <hr className=\"my-6\" />\n                  <button\n                    onClick={(e) => delete_gallery(gallery.gallery_id)}\n                    className=\"bg-red-600 px-3 py-1\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n}\n","import React, {useState, useEffect} from 'react'\n\nexport default function ReportView(props) {\n    useEffect(()=>{\n        getReports()\n    },[])\n    const [reports, setReports] = useState([])\n    async function getReports(){\n        let url = `/admin/reports/all`\n        try{\n            let res = await fetch(url, {\n                credentials: 'include'\n            })\n            console.log(res.status)\n            if(res.status === 200){\n                let json = await res.json()\n                console.log(json)\n                setReports(json)\n            }\n        }\n        catch(err){\n            console.log(err)\n        }\n    }\n    async function clearReport(report_id){\n        let url = `/admin/reports/clear/${report_id}`\n        try{\n            let res = await fetch(url, {\n                credentials: 'include',\n                method: 'DELETE'\n            })\n            if(res.status == 200){\n                console.log('report cleared')\n                getReports()\n            }\n        }\n        catch(err){\n            console.log(err)\n        }\n    }\n    return (\n        <div>\n            {\n               \n                reports.map((reportObj)=>{\n                    return(\n                        <div>\n                            {reportObj.reason}\n                            <button onClick={e => clearReport(reportObj.report_id)}>Clear</button>\n                        </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n","import \"./App.css\"\nimport React, { useState, useEffect } from \"react\"\nimport DeleteConfirm from \"./DeleteConfirm\"\nimport UserView from \"./UserView\"\nimport ReportView from './ReportView'\nfunction App() {\n  const [users, getUsers] = useState(null)\n  const [username, setUsername] = useState(\"\")\n  const [id, setId] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n\n  const [searchMode, setSearchMode] = useState(\"user\")\n  const [loggedIn, setLoggedIn] = useState(false)\n  // search galleries by title\n  const [titleSearch, setTitleSearch] = useState(\"\")\n  const [galleries, setGalleries] = useState([])\n  useEffect(()=>{\n    console.log(galleries)\n  }, [galleries])\n  useEffect(() => {\n    amILoggedIn()\n    window.onbeforeunload = function(){\n      return \"Are you sure you wish to go back?\"\n    }\n  }, [])\n  async function amILoggedIn() {\n    let url = `/admin/authenticated`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n      console.log(res.status)\n      if (res.status == 200) {\n        setLoggedIn(true)\n        return\n      }\n      setLoggedIn(false)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function findGallery(e) {\n    e.preventDefault()\n    let url = `/admin/gallery/title/${titleSearch}`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n      let json = await res.json()\n      console.log(json)\n      if (json.success) {\n        setGalleries(json.galleries)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  async function findUsername(e) {\n    e.preventDefault()\n    let url = `/admin/user/username/${username}`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n      let json = await res.json()\n      console.log(json)\n      if (json.success) {\n        setUser(json.user)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function findUserID(e) {\n    e.preventDefault()\n    let url = `/admin/user/id/${id}`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n      let json = await res.json()\n      console.log(json)\n      setUser(json)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  async function findEmail(e) {\n    e.preventDefault()\n    let url = `/admin/user/email/${email}`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        mode: \"cors\",\n      })\n      let json = await res.json()\n      console.log(json)\n      if (json.success) {\n        setUser(json.user)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  // mode\n  const [activeMode, setActiveMode] = useState('search')\n  function toggleContent(string){\n    setActiveMode(string)\n  }\n\n  // deletions\n  const [deleteOverlay, setDeleteOverlay] = useState(false)\n  function deleteRequest() {\n    setDeleteOverlay(true)\n  }\n  function cancelDelete() {\n    setDeleteOverlay(false)\n  }\n  async function deleteUser() {\n    setDeleteOverlay(false)\n    let url = `/admin/user/${user.user_id}/delete`\n    try {\n      let res = await fetch(url, {\n        credentials: \"include\",\n        mode: \"cors\",\n        method: \"delete\",\n      })\n      let json = await res.json()\n      console.log(json)\n      if (json.success) {\n        setUser(null)\n        console.log(\"user deleted\")\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const [user, setUser] = useState(null)\n  return (\n    <div className=\"App flex flex-row min-h-screen\">\n      <Sidebar toggleContent={toggleContent} mode={activeMode} ></Sidebar>\n      <div id=\"main-content\" className=\"flex-1\" style={{\n        background: '#eee'\n      }}>\n        <header className=\"App-header text-left py-4 px-3\">\n          <div\n            id=\"logged-in-container\"\n            className=\"text-2xl font-bold p-6 text-white\"\n          >\n            {loggedIn ? <div className=\"text-green-200\">Authenticated</div> : <div className=\"text-yellow-300\">Not Authorized</div>}\n          </div>\n          <div className=\"mx-auto container\">\n            {!loggedIn && <LoginForm></LoginForm>}\n          </div>\n        </header>\n        {/* conditional page renders */}\n      {\n        activeMode === 'search' &&\n        <div className=\"text-left bg-gray px-12 py-6\">\n          <div>\n            <ul className=\"flex flex-row\">\n              <li className=\"mr-3\">\n                <button\n                  className=\"text-lg font-bold\"\n                  onClick={(e) => setSearchMode(\"user\")}\n                >\n                  Find User\n                </button>\n              </li>\n              <li className=\"mr-3\">\n                <button\n                  className=\"text-lg font-bold\"\n                  onClick={(e) => setSearchMode(\"gallery\")}\n                >\n                  Find Gallery\n                </button>\n              </li>\n            </ul>\n          </div>\n          {searchMode === \"user\" && (\n            <div>\n              <form\n                onSubmit={(e) => findUsername(e)}\n                className=\"flex flex-col max-w-xl\"\n              >\n                <label htmlFor=\"username\">username</label>\n                <input\n                  className=\"bg-black text-white px-2 py-2\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                  type=\"text\"\n                  name=\"username\"\n                  id=\"username\"\n                />\n                <input type=\"submit\" value=\"Submit\" />\n              </form>\n              <form\n                onSubmit={(e) => findUserID(e)}\n                className=\"flex flex-col max-w-xl\"\n              >\n                <label htmlFor=\"user_id\">user_id</label>\n                <input\n                  className=\"bg-black text-white px-2 py-2\"\n                  value={id}\n                  onChange={(e) => setId(e.target.value)}\n                  type=\"text\"\n                  name=\"user_id\"\n                  id=\"user_id\"\n                />\n                <input type=\"submit\" value=\"Submit\" />\n              </form>\n              <form\n                onSubmit={(e) => findEmail(e)}\n                className=\"flex flex-col max-w-xl\"\n              >\n                <label htmlFor=\"email\">email</label>\n                <input\n                  className=\"bg-black text-white px-2 py-2\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  type=\"text\"\n                  name=\"email\"\n                  id=\"email\"\n                />\n                <input type=\"submit\" value=\"Submit\" />\n              </form>\n              {/* user results */}\n         \n              <UserView\n                getUserID={findUserID}\n                deleteRequest={deleteRequest}\n                user={user}\n              ></UserView>\n            </div>\n          )}\n          {searchMode === \"gallery\" && (\n            <div>\n              <form onSubmit={(e) => findGallery(e)}>\n                <input\n                  type=\"text\"\n                  value={titleSearch}\n                  onChange={(e) => setTitleSearch(e.target.value)}\n                />\n                <input type=\"submit\" value=\"Search\" />\n              </form>\n              {/* gallery results */}\n              {galleries.map((gallery) => {\n                return <div>{gallery.title}</div>\n              })}\n            </div>\n          )}\n        </div>\n      }\n      {\n        activeMode === \"reports\" && \n        <ReportView></ReportView>\n      }\n        \n        {deleteOverlay && (\n          <DeleteConfirm\n            cancel={cancelDelete}\n            confirmDelete={deleteUser}\n          ></DeleteConfirm>\n        )}\n      </div>\n    </div>\n  )\n}\nfunction LoginForm() {\n  return (\n    <div className=\"\" style={{\n      width: '350px'\n    }}>\n      <form className=\"flex max-w-xl flex-col\" action=\"/login\" method=\"POST\">\n        <input\n          className=\"my-1 px-3 py-1 text-sm\"\n          type=\"text\"\n          name=\"username\"\n          id=\"username\"\n        />\n        <input\n          className=\"my-1 px-3 py-1 text-sm\"\n          type=\"password\"\n          name=\"password\"\n          id=\"password\"\n        />\n        <input className=\"my-1 bg-purple-500\" type=\"submit\" value=\"Login\" />\n      </form>\n    </div>\n  )\n}\n\nfunction Sidebar(props) {\n  return (\n    <div\n      className=\"\"\n      style={{\n        width: \"300px\",\n      }}\n    >\n    <div id=\"sidebar-content\" className=\"fixed \">\n    <div className=\"title text-xl font-bold mb-4 p-3\">\n        Admin Control\n      </div>\n      <ul className=\"text-left font-bold w-full\">\n        <li className={`p-2 font-bold  hover:opacity-75 cursor-pointer w-full ${props.mode === \"search\" && \"opacity-50\"}`}>\n          <button onClick={e => props.toggleContent('search')}>Search</button>\n        </li>\n        <li className={`p-2 font-bold  hover:opacity-75 cursor-pointer w-full ${props.mode === \"reports\" && \"opacity-50\"}`}>\n          <button onClick={e => props.toggleContent('reports')}>Reports</button>\n        </li>\n        <li className={`p-2 font-bold  hover:opacity-75 cursor-pointer w-full ${props.mode === \"messages\" && \"opacity-50\"}`}>\n          <button onClick={e => props.toggleContent('messages')}>Messages</button>\n        </li>\n      </ul>\n    </div>\n      \n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}